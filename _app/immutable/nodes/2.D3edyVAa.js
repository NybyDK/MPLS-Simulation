var mt=Object.defineProperty;var kt=(n,e,t)=>e in n?mt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var A=(n,e,t)=>(kt(n,typeof e!="symbol"?e+"":e,t),t);import{r as ge,s as re,a as ft,u as ct,g as dt,b as ht,x as _t,e as fe,n as le,c as ye,i as Re,y as he,o as vt,z as yt,A as pt}from"../chunks/scheduler.C5v8YK5g.js";import{n as G,m as q,S as ue,i as ae,e as T,c as $,a as F,d as b,l as m,g as w,z as Y,o as se,A as ce,s as M,B as V,f as H,h as R,C as Be,D as J,E as _e,v as Q,w as Z,x as ee,y as te,r as Le,p as Ce,t as oe,b as ie,j as we,F as ke,G as ve,q as Ne,H as wt}from"../chunks/index.quBbCW_3.js";import{w as Ue}from"../chunks/index.CD1dNpfE.js";function ne(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function De(n,e){G(n,1,1,()=>{e.delete(n.key)})}function xe(n,e,t,l,o,s,r,i,u,h,f,_){let a=n.length,d=s.length,p=a;const g={};for(;p--;)g[n[p].key]=p;const E=[],c=new Map,k=new Map,y=[];for(p=d;p--;){const z=_(o,s,p),C=t(z);let B=r.get(C);B?l&&y.push(()=>B.p(z,e)):(B=h(C,z),B.c()),c.set(C,E[p]=B),C in g&&k.set(C,Math.abs(p-g[C]))}const O=new Set,x=new Set;function I(z){q(z,1),z.m(i,f),r.set(z.key,z),f=z.first,d--}for(;a&&d;){const z=E[d-1],C=n[a-1],B=z.key,L=C.key;z===C?(f=z.first,a--,d--):c.has(L)?!r.has(B)||O.has(B)?I(z):x.has(L)?a--:k.get(B)>k.get(L)?(x.add(B),I(z)):(O.add(L),a--):(u(C,r),a--)}for(;a--;){const z=n[a];c.has(z.key)||u(z,r)}for(;d;)I(E[d-1]);return ge(y),E}function gt(n,e){const t={},l={},o={$$scope:1};let s=n.length;for(;s--;){const r=n[s],i=e[s];if(i){for(const u in r)u in i||(l[u]=1);for(const u in i)o[u]||(t[u]=i[u],o[u]=1);n[s]=i}else for(const u in r)o[u]=1}for(const r in l)r in t||(t[r]=void 0);return t}function bt(n){return typeof n=="object"&&n!==null?n:{}}let Et=class{constructor(e,t,l){A(this,"bandwidth",0);this.id=e,this.source=t,this.target=l}get distance(){return Math.round(Math.sqrt((this.source.node.x-this.target.node.x)**2+(this.source.node.y-this.target.node.y)**2))}};function Ae(n,e){const t=K.routers,l=t.length,o=new Array(l).fill(1/0),s=new Array(l).fill(!1),r=new Array(l).fill(null);o[t.indexOf(n)]=0;let i=!1;for(;!i;){let f=null,_=1/0;for(let a=0;a<l;a++)!s[a]&&o[a]<_&&(f=t[a],_=o[a]);if(f===null||f.id===e.id){i=!0;continue}s[t.indexOf(f)]=!0;for(const a of K.links){let d;if(a.source===f)d=a.target;else if(a.target===f)d=a.source;else continue;const p=t.indexOf(d),g=_+a.distance;g<o[p]&&(o[p]=g,r[p]=f)}}const u=[];let h=e;for(;h;){u.unshift(h);const f=t.indexOf(h);h=r[f]}return u}class Lt{constructor(){A(this,"store",Ue());A(this,"set",this.store.set);A(this,"update",this.store.update);A(this,"subscribe",this.store.subscribe);A(this,"_map",new Map)}setRawNestedMap(e){this._map=e,this.set(this._map),this.fastUpdate()}getPath(e,t){const l=this._map.get(e);if(l)return l.get(t)}findShortestPath(e,t){return Ae(e,t)}findShortestPaths(){const e=new Map,t=K.routers.filter(l=>l.type==="CE");for(const l of t){const o=new Map;for(const s of t){if(l===s)continue;const r=Ae(l,s);o.set(s.id,r)}e.set(l.id,o)}this.setRawNestedMap(e)}fastUpdate(){this.store.set(this._map)}}const Ct=new Lt,Oe=Ct;let Bt=class{constructor(e,t,l,o){A(this,"ttl",32);A(this,"label",-1);A(this,"nextHop");this.id=e,this.source=t,this.destination=l,this.node=o,this.nextHop=Oe.findShortestPath(t,l)[1]}decrementTTL(){--this.ttl<=0&&this.drop()}drop(){K.deletePacket(this.id)}},ze=class{constructor(e,t){this.id=e,this.node=t}};class pe extends ze{constructor(){super(...arguments);A(this,"address",`${Math.floor(Math.random()*256)}.${Math.floor(Math.random()*256)}.${Math.floor(Math.random()*256)}.${Math.floor(Math.random()*256)}`);A(this,"destinations",[]);A(this,"addEmptyDestination",()=>{this.destinations.push("")});A(this,"deleteDestination",t=>{this.destinations.splice(t,1)})}receivePacket(t){t.drop()}get type(){return"CE"}}class Ee extends ze{constructor(){super(...arguments);A(this,"FIB",new Map);A(this,"LIB",new Map);A(this,"addEmptyFIBEntry",()=>{this.FIB.set("0",{label:0,nextHop:"0"})});A(this,"addEmptyLIBEntry",()=>{this.LIB.set(0,{outgoingLabel:0,nextHop:"0"})});A(this,"updateFIBAddress",(t,l)=>{const o=this.FIB.get(t);if(!o)throw new Error(`Unable to update old FIB address '${t}' to '${l}'.`);this.FIB.set(l,o),this.FIB.delete(t)});A(this,"updateLIBLabel",(t,l)=>{const o=this.LIB.get(t);if(!o)throw new Error(`Unable to update old LIB label '${t}' to '${l}'.`);this.LIB.set(l,o),this.LIB.delete(t)});A(this,"deleteFIBEntry",t=>{this.FIB.delete(t)});A(this,"deleteLIBEntry",t=>{this.LIB.delete(t)});A(this,"receiveFIBEntry",(t,l,o)=>{this.FIB.set(t,{label:l,nextHop:o})});A(this,"receiveLIBEntry",(t,l,o)=>{this.LIB.set(t,{outgoingLabel:l,nextHop:o})})}receivePacket(t){var o,s,r,i;const l=t.destination;if(t.label===-1){const u=(o=this.FIB.get(l.address))==null?void 0:o.nextHop;if(!u)return;const h=(s=this.FIB.get(l.address))==null?void 0:s.label;if(!h)return;t.label=h,t.node={x:this.node.x,y:this.node.y};const f=K.getRouter(parseInt(u));if(!f)return;t.nextHop=f}else{const u=(r=this.LIB.get(t.label))==null?void 0:r.nextHop;if(!u)return;const h=(i=this.LIB.get(t.label))==null?void 0:i.outgoingLabel;if(!h)return;t.label=h,t.node={x:this.node.x,y:this.node.y};const f=K.routers.find(_=>_ instanceof pe&&_.address===u);if(!f)return;t.nextHop=f}t.decrementTTL()}get type(){return"LER"}}class $e extends ze{constructor(){super(...arguments);A(this,"LIB",new Map);A(this,"addEmptyLIBEntry",()=>{this.LIB.set(0,{outgoingLabel:0,nextHop:"0"})});A(this,"updateLIBLabel",(t,l)=>{const o=this.LIB.get(t);if(!o)throw new Error(`Unable to update old LIB label '${t}' to '${l}'.`);this.LIB.set(l,o),this.LIB.delete(t)});A(this,"deleteLIBEntry",t=>{this.LIB.delete(t)});A(this,"receiveLIBEntry",(t,l,o)=>{this.LIB.set(t,{outgoingLabel:l,nextHop:o})})}receivePacket(t){var r,i;const l=(r=this.LIB.get(t.label))==null?void 0:r.nextHop;if(!l)return;const o=(i=this.LIB.get(t.label))==null?void 0:i.outgoingLabel;if(!o)return;t.label=o;const s=K.getRouter(parseInt(l));s&&(t.nextHop=s,t.decrementTTL())}get type(){return"LSR"}}const It={CE:["LER"],LER:["CE","LSR"],LSR:["LER","LSR"]};class Tt{constructor(){A(this,"store",Ue({routers:[],links:[],packets:[]}));A(this,"set",this.store.set);A(this,"update",this.store.update);A(this,"subscribe",this.store.subscribe);A(this,"_routers",[]);A(this,"_links",[]);A(this,"_packets",[]);A(this,"routerMap",new Map);A(this,"routerCounter",0);A(this,"packetCounter",0)}get routers(){return this._routers}get links(){return this._links}get packets(){return this._packets}get networkState(){return{routers:this.routers,links:this.links,packets:this.packets}}addLink(e){if(e.source===e.target||!It[e.source.type].includes(e.target.type)||this.doesLinkExist(e)||this.doesLinkExist({source:e.target,target:e.source}))return;const t=new Et(`${e.source.id}-${e.target.id}`,e.source,e.target);this._links.push(t),this.fastUpdate()}deleteLink(e){this._links=this._links.filter(t=>t.id!==e),this.fastUpdate()}doesLinkExist(e){return this._links.some(t=>t.source===e.source&&t.target===e.target)}createCE(e){const t=new pe(this.routerCounter++,e);this.addRouter(t)}createLER(e){const t=new Ee(this.routerCounter++,e);this.addRouter(t)}createLSR(e){const t=new $e(this.routerCounter++,e);this.addRouter(t)}addRouter(e){this._routers.push(e),this.routerMap.set(e.id,e),this.fastUpdate()}deleteRouter(e){this.getRouter(e)&&(this._routers=this._routers.filter(l=>l.id!==e),this._links=this._links.filter(l=>l.source.id!==e&&l.target.id!==e),this.routerMap.delete(e),this.fastUpdate())}getRouter(e){return this.routerMap.get(e)}getSureRouter(e){const t=this.getRouter(e);if(!t)throw new Error(`Router with id ${e} not found`);return t}addPacket(e,t){const l=new Bt(this.packetCounter++,e,t,{x:e.node.x,y:e.node.y});this._packets.push(l),this.fastUpdate()}deletePacket(e){this._packets=this._packets.filter(t=>t.id!==e),this.fastUpdate()}clear(){this._routers=[],this._links=[],this._packets=[],this.routerMap.clear(),this.routerCounter=0,this.packetCounter=0,this.fastUpdate()}fastUpdate(){this.store.set(this.networkState)}}const $t=new Tt,K=$t,Ie=Ue(!1);function Rt(n){let e,t,l,o;const s=n[2].default,r=ft(s,n,n[1],null);return{c(){e=T("dialog"),r&&r.c(),this.h()},l(i){e=$(i,"DIALOG",{class:!0});var u=F(e);r&&r.l(u),u.forEach(b),this.h()},h(){m(e,"class","svelte-414ocx")},m(i,u){w(i,e,u),r&&r.m(e,null),n[4](e),t=!0,l||(o=Y(e,"close",n[3]),l=!0)},p(i,[u]){r&&r.p&&(!t||u&2)&&ct(r,s,i,i[1],t?ht(s,i[1],u,null):dt(i[1]),null)},i(i){t||(q(r,i),t=!0)},o(i){G(r,i),t=!1},d(i){i&&b(e),r&&r.d(i),n[4](null),l=!1,o()}}}function Nt(n,e,t){let{$$slots:l={},$$scope:o}=e,{dialog:s}=e;function r(u){_t.call(this,n,u)}function i(u){fe[u?"unshift":"push"](()=>{s=u,t(0,s)})}return n.$$set=u=>{"dialog"in u&&t(0,s=u.dialog),"$$scope"in u&&t(1,o=u.$$scope)},[s,o,l,r,i]}class Fe extends ue{constructor(e){super(),ae(this,e,Nt,Rt,re,{dialog:0})}}function Se(n,e,t){const l=n.slice();return l[24]=e[t][0],l[25]=e[t][1],l[31]=e,l[32]=t,l}function je(n,e,t){const l=n.slice();return l[24]=e[t][0],l[25]=e[t][1],l[26]=e,l[27]=t,l}function Ye(n,e,t){const l=n.slice();return l[28]=e[t][0],l[25]=e[t][1],l[29]=e,l[30]=t,l}function qe(n,e,t){const l=n.slice();return l[21]=e[t],l[22]=e,l[23]=t,l}function Pt(n){let e,t="LIB:",l,o,s,r='<th class="svelte-71n8bk">Incoming</th> <th class="svelte-71n8bk">Outgoing</th> <th class="svelte-71n8bk">Next hop</th>',i,u,h,f="+",_,a,d=ne([...n[0].LIB]),p=[];for(let g=0;g<d.length;g+=1)p[g]=Xe(Se(n,d,g));return{c(){e=T("p"),e.textContent=t,l=M(),o=T("table"),s=T("tr"),s.innerHTML=r,i=M();for(let g=0;g<p.length;g+=1)p[g].c();u=M(),h=T("button"),h.textContent=f,this.h()},l(g){e=$(g,"P",{"data-svelte-h":!0}),V(e)!=="svelte-1j64kst"&&(e.textContent=t),l=H(g),o=$(g,"TABLE",{class:!0});var E=F(o);s=$(E,"TR",{"data-svelte-h":!0}),V(s)!=="svelte-1nxelgl"&&(s.innerHTML=r),i=H(E);for(let c=0;c<p.length;c+=1)p[c].l(E);E.forEach(b),u=H(g),h=$(g,"BUTTON",{class:!0,"data-svelte-h":!0}),V(h)!=="svelte-tb5kpv"&&(h.textContent=f),this.h()},h(){m(o,"class","svelte-71n8bk"),m(h,"class","svelte-71n8bk")},m(g,E){w(g,e,E),w(g,l,E),w(g,o,E),R(o,s),R(o,i);for(let c=0;c<p.length;c+=1)p[c]&&p[c].m(o,null);w(g,u,E),w(g,h,E),_||(a=Y(h,"click",function(){Re(n[1](n[0].addEmptyLIBEntry))&&n[1](n[0].addEmptyLIBEntry).apply(this,arguments)}),_=!0)},p(g,E){if(n=g,E[0]&9){d=ne([...n[0].LIB]);let c;for(c=0;c<d.length;c+=1){const k=Se(n,d,c);p[c]?p[c].p(k,E):(p[c]=Xe(k),p[c].c(),p[c].m(o,null))}for(;c<p.length;c+=1)p[c].d(1);p.length=d.length}},d(g){g&&(b(e),b(l),b(o),b(u),b(h)),Be(p,g),_=!1,a()}}}function Dt(n){let e,t="FIB:",l,o,s,r='<th class="svelte-71n8bk">Address</th> <th class="svelte-71n8bk">Label</th> <th class="svelte-71n8bk">Next hop</th>',i,u,h,f="+",_,a,d="LIB:",p,g,E,c='<th class="svelte-71n8bk">Incoming</th> <th class="svelte-71n8bk">Outgoing</th> <th class="svelte-71n8bk">Next hop</th>',k,y,O,x="+",I,z,C=ne([...n[0].FIB]),B=[];for(let N=0;N<C.length;N+=1)B[N]=Ge(Ye(n,C,N));let L=ne([...n[0].LIB]),U=[];for(let N=0;N<L.length;N+=1)U[N]=Ve(je(n,L,N));return{c(){e=T("p"),e.textContent=t,l=M(),o=T("table"),s=T("tr"),s.innerHTML=r,i=M();for(let N=0;N<B.length;N+=1)B[N].c();u=M(),h=T("button"),h.textContent=f,_=M(),a=T("p"),a.textContent=d,p=M(),g=T("table"),E=T("tr"),E.innerHTML=c,k=M();for(let N=0;N<U.length;N+=1)U[N].c();y=M(),O=T("button"),O.textContent=x,this.h()},l(N){e=$(N,"P",{"data-svelte-h":!0}),V(e)!=="svelte-1j6bdhj"&&(e.textContent=t),l=H(N),o=$(N,"TABLE",{class:!0});var S=F(o);s=$(S,"TR",{"data-svelte-h":!0}),V(s)!=="svelte-9j9p47"&&(s.innerHTML=r),i=H(S);for(let W=0;W<B.length;W+=1)B[W].l(S);S.forEach(b),u=H(N),h=$(N,"BUTTON",{class:!0,"data-svelte-h":!0}),V(h)!=="svelte-j46m6p"&&(h.textContent=f),_=H(N),a=$(N,"P",{"data-svelte-h":!0}),V(a)!=="svelte-1j64kst"&&(a.textContent=d),p=H(N),g=$(N,"TABLE",{class:!0});var P=F(g);E=$(P,"TR",{"data-svelte-h":!0}),V(E)!=="svelte-1nxelgl"&&(E.innerHTML=c),k=H(P);for(let W=0;W<U.length;W+=1)U[W].l(P);P.forEach(b),y=H(N),O=$(N,"BUTTON",{class:!0,"data-svelte-h":!0}),V(O)!=="svelte-tb5kpv"&&(O.textContent=x),this.h()},h(){m(o,"class","svelte-71n8bk"),m(h,"class","svelte-71n8bk"),m(g,"class","svelte-71n8bk"),m(O,"class","svelte-71n8bk")},m(N,S){w(N,e,S),w(N,l,S),w(N,o,S),R(o,s),R(o,i);for(let P=0;P<B.length;P+=1)B[P]&&B[P].m(o,null);w(N,u,S),w(N,h,S),w(N,_,S),w(N,a,S),w(N,p,S),w(N,g,S),R(g,E),R(g,k);for(let P=0;P<U.length;P+=1)U[P]&&U[P].m(g,null);w(N,y,S),w(N,O,S),I||(z=[Y(h,"click",function(){Re(n[1](n[0].addEmptyFIBEntry))&&n[1](n[0].addEmptyFIBEntry).apply(this,arguments)}),Y(O,"click",function(){Re(n[1](n[0].addEmptyLIBEntry))&&n[1](n[0].addEmptyLIBEntry).apply(this,arguments)})],I=!0)},p(N,S){if(n=N,S[0]&5){C=ne([...n[0].FIB]);let P;for(P=0;P<C.length;P+=1){const W=Ye(n,C,P);B[P]?B[P].p(W,S):(B[P]=Ge(W),B[P].c(),B[P].m(o,null))}for(;P<B.length;P+=1)B[P].d(1);B.length=C.length}if(S[0]&9){L=ne([...n[0].LIB]);let P;for(P=0;P<L.length;P+=1){const W=je(n,L,P);U[P]?U[P].p(W,S):(U[P]=Ve(W),U[P].c(),U[P].m(g,null))}for(;P<U.length;P+=1)U[P].d(1);U.length=L.length}},d(N){N&&(b(e),b(l),b(o),b(u),b(h),b(_),b(a),b(p),b(g),b(y),b(O)),Be(B,N),Be(U,N),I=!1,ge(z)}}}function xt(n){let e,t="Destinations:",l,o,s,r='<th class="svelte-71n8bk">Destination</th>',i,u,h,f="+",_,a,d=ne(n[0].destinations),p=[];for(let g=0;g<d.length;g+=1)p[g]=We(qe(n,d,g));return{c(){e=T("p"),e.textContent=t,l=M(),o=T("table"),s=T("tr"),s.innerHTML=r,i=M();for(let g=0;g<p.length;g+=1)p[g].c();u=M(),h=T("button"),h.textContent=f,this.h()},l(g){e=$(g,"P",{"data-svelte-h":!0}),V(e)!=="svelte-1ixmdgd"&&(e.textContent=t),l=H(g),o=$(g,"TABLE",{class:!0});var E=F(o);s=$(E,"TR",{"data-svelte-h":!0}),V(s)!=="svelte-1f4xvyf"&&(s.innerHTML=r),i=H(E);for(let c=0;c<p.length;c+=1)p[c].l(E);E.forEach(b),u=H(g),h=$(g,"BUTTON",{class:!0,"data-svelte-h":!0}),V(h)!=="svelte-zn59e0"&&(h.textContent=f),this.h()},h(){m(o,"class","svelte-71n8bk"),m(h,"class","svelte-71n8bk")},m(g,E){w(g,e,E),w(g,l,E),w(g,o,E),R(o,s),R(o,i);for(let c=0;c<p.length;c+=1)p[c]&&p[c].m(o,null);w(g,u,E),w(g,h,E),_||(a=Y(h,"click",function(){Re(n[1](n[0].addEmptyDestination))&&n[1](n[0].addEmptyDestination).apply(this,arguments)}),_=!0)},p(g,E){if(n=g,E[0]&17){d=ne(n[0].destinations);let c;for(c=0;c<d.length;c+=1){const k=qe(n,d,c);p[c]?p[c].p(k,E):(p[c]=We(k),p[c].c(),p[c].m(o,null))}for(;c<p.length;c+=1)p[c].d(1);p.length=d.length}},d(g){g&&(b(e),b(l),b(o),b(u),b(h)),Be(p,g),_=!1,a()}}}function Xe(n){let e,t,l,o,s,r,i,u,h,f,_,a,d="-",p,g,E;function c(...x){return n[16](n[24],...x)}function k(){n[17].call(i,n[31],n[32])}function y(){n[18].call(f,n[31],n[32])}function O(){return n[19](n[24])}return{c(){e=T("tr"),t=T("td"),l=T("input"),s=M(),r=T("td"),i=T("input"),u=M(),h=T("td"),f=T("input"),_=M(),a=T("button"),a.textContent=d,p=M(),this.h()},l(x){e=$(x,"TR",{});var I=F(e);t=$(I,"TD",{class:!0});var z=F(t);l=$(z,"INPUT",{type:!0,class:!0}),z.forEach(b),s=H(I),r=$(I,"TD",{class:!0});var C=F(r);i=$(C,"INPUT",{type:!0,class:!0}),C.forEach(b),u=H(I),h=$(I,"TD",{class:!0});var B=F(h);f=$(B,"INPUT",{type:!0,class:!0}),B.forEach(b),_=H(I),a=$(I,"BUTTON",{class:!0,"data-svelte-h":!0}),V(a)!=="svelte-1jia542"&&(a.textContent=d),p=H(I),I.forEach(b),this.h()},h(){m(l,"type","number"),l.value=o=n[24],m(l,"class","svelte-71n8bk"),m(t,"class","svelte-71n8bk"),m(i,"type","number"),m(i,"class","svelte-71n8bk"),m(r,"class","svelte-71n8bk"),m(f,"type","text"),m(f,"class","svelte-71n8bk"),m(h,"class","svelte-71n8bk"),m(a,"class","svelte-71n8bk")},m(x,I){w(x,e,I),R(e,t),R(t,l),R(e,s),R(e,r),R(r,i),J(i,n[25].outgoingLabel),R(e,u),R(e,h),R(h,f),J(f,n[25].nextHop),R(e,_),R(e,a),R(e,p),g||(E=[Y(l,"change",c),Y(i,"input",k),Y(f,"input",y),Y(a,"click",O)],g=!0)},p(x,I){n=x,I[0]&1&&o!==(o=n[24])&&l.value!==o&&(l.value=o),I[0]&1&&ce(i.value)!==n[25].outgoingLabel&&J(i,n[25].outgoingLabel),I[0]&1&&f.value!==n[25].nextHop&&J(f,n[25].nextHop)},d(x){x&&b(e),g=!1,ge(E)}}}function Ge(n){let e,t,l,o,s,r,i,u,h,f,_,a,d="-",p,g,E;function c(...x){return n[8](n[28],...x)}function k(){n[9].call(i,n[29],n[30])}function y(){n[10].call(f,n[29],n[30])}function O(){return n[11](n[28])}return{c(){e=T("tr"),t=T("td"),l=T("input"),s=M(),r=T("td"),i=T("input"),u=M(),h=T("td"),f=T("input"),_=M(),a=T("button"),a.textContent=d,p=M(),this.h()},l(x){e=$(x,"TR",{});var I=F(e);t=$(I,"TD",{class:!0});var z=F(t);l=$(z,"INPUT",{type:!0,class:!0}),z.forEach(b),s=H(I),r=$(I,"TD",{class:!0});var C=F(r);i=$(C,"INPUT",{type:!0,class:!0}),C.forEach(b),u=H(I),h=$(I,"TD",{class:!0});var B=F(h);f=$(B,"INPUT",{type:!0,class:!0}),B.forEach(b),_=H(I),a=$(I,"BUTTON",{class:!0,"data-svelte-h":!0}),V(a)!=="svelte-t02fbo"&&(a.textContent=d),p=H(I),I.forEach(b),this.h()},h(){m(l,"type","text"),l.value=o=n[28],m(l,"class","svelte-71n8bk"),m(t,"class","svelte-71n8bk"),m(i,"type","number"),m(i,"class","svelte-71n8bk"),m(r,"class","svelte-71n8bk"),m(f,"type","text"),m(f,"class","svelte-71n8bk"),m(h,"class","svelte-71n8bk"),m(a,"class","svelte-71n8bk")},m(x,I){w(x,e,I),R(e,t),R(t,l),R(e,s),R(e,r),R(r,i),J(i,n[25].label),R(e,u),R(e,h),R(h,f),J(f,n[25].nextHop),R(e,_),R(e,a),R(e,p),g||(E=[Y(l,"change",c),Y(i,"input",k),Y(f,"input",y),Y(a,"click",O)],g=!0)},p(x,I){n=x,I[0]&1&&o!==(o=n[28])&&l.value!==o&&(l.value=o),I[0]&1&&ce(i.value)!==n[25].label&&J(i,n[25].label),I[0]&1&&f.value!==n[25].nextHop&&J(f,n[25].nextHop)},d(x){x&&b(e),g=!1,ge(E)}}}function Ve(n){let e,t,l,o,s,r,i,u,h,f,_,a,d="-",p,g,E;function c(...x){return n[12](n[24],...x)}function k(){n[13].call(i,n[26],n[27])}function y(){n[14].call(f,n[26],n[27])}function O(){return n[15](n[24])}return{c(){e=T("tr"),t=T("td"),l=T("input"),s=M(),r=T("td"),i=T("input"),u=M(),h=T("td"),f=T("input"),_=M(),a=T("button"),a.textContent=d,p=M(),this.h()},l(x){e=$(x,"TR",{});var I=F(e);t=$(I,"TD",{class:!0});var z=F(t);l=$(z,"INPUT",{type:!0,class:!0}),z.forEach(b),s=H(I),r=$(I,"TD",{class:!0});var C=F(r);i=$(C,"INPUT",{type:!0,class:!0}),C.forEach(b),u=H(I),h=$(I,"TD",{class:!0});var B=F(h);f=$(B,"INPUT",{type:!0,class:!0}),B.forEach(b),_=H(I),a=$(I,"BUTTON",{class:!0,"data-svelte-h":!0}),V(a)!=="svelte-19m5ayk"&&(a.textContent=d),p=H(I),I.forEach(b),this.h()},h(){m(l,"type","number"),l.value=o=n[24],m(l,"class","svelte-71n8bk"),m(t,"class","svelte-71n8bk"),m(i,"type","number"),m(i,"class","svelte-71n8bk"),m(r,"class","svelte-71n8bk"),m(f,"type","text"),m(f,"class","svelte-71n8bk"),m(h,"class","svelte-71n8bk"),m(a,"class","svelte-71n8bk")},m(x,I){w(x,e,I),R(e,t),R(t,l),R(e,s),R(e,r),R(r,i),J(i,n[25].outgoingLabel),R(e,u),R(e,h),R(h,f),J(f,n[25].nextHop),R(e,_),R(e,a),R(e,p),g||(E=[Y(l,"change",c),Y(i,"input",k),Y(f,"input",y),Y(a,"click",O)],g=!0)},p(x,I){n=x,I[0]&1&&o!==(o=n[24])&&l.value!==o&&(l.value=o),I[0]&1&&ce(i.value)!==n[25].outgoingLabel&&J(i,n[25].outgoingLabel),I[0]&1&&f.value!==n[25].nextHop&&J(f,n[25].nextHop)},d(x){x&&b(e),g=!1,ge(E)}}}function We(n){let e,t,l,o,s,r="-",i,u,h;function f(){n[5].call(l,n[22],n[23])}function _(){return n[7](n[23])}return{c(){e=T("tr"),t=T("td"),l=T("input"),o=M(),s=T("button"),s.textContent=r,i=M(),this.h()},l(a){e=$(a,"TR",{});var d=F(e);t=$(d,"TD",{class:!0});var p=F(t);l=$(p,"INPUT",{type:!0,placeholder:!0,class:!0}),p.forEach(b),o=H(d),s=$(d,"BUTTON",{class:!0,"data-svelte-h":!0}),V(s)!=="svelte-z317ay"&&(s.textContent=r),i=H(d),d.forEach(b),this.h()},h(){m(l,"type","text"),m(l,"placeholder","Address"),m(l,"class","svelte-71n8bk"),m(t,"class","svelte-71n8bk"),m(s,"class","svelte-71n8bk")},m(a,d){w(a,e,d),R(e,t),R(t,l),J(l,n[21]),R(e,o),R(e,s),R(e,i),u||(h=[Y(l,"input",f),Y(l,"change",n[6]),Y(s,"click",_)],u=!0)},p(a,d){n=a,d[0]&1&&l.value!==n[21]&&J(l,n[21])},d(a){a&&b(e),u=!1,ge(h)}}}function Mt(n){let e;function t(s,r){if(s[0]instanceof pe)return xt;if(s[0]instanceof Ee)return Dt;if(s[0]instanceof $e)return Pt}let l=t(n),o=l&&l(n);return{c(){o&&o.c(),e=se()},l(s){o&&o.l(s),e=se()},m(s,r){o&&o.m(s,r),w(s,e,r)},p(s,r){l===(l=t(s))&&o?o.p(s,r):(o&&o.d(1),o=l&&l(s),o&&(o.c(),o.m(e.parentNode,e)))},i:le,o:le,d(s){s&&b(e),o&&o.d(s)}}}function Ht(n,e,t){let l;ye(n,K,C=>t(20,l=C));let{router:o}=e;function s(C){return()=>{C(),t(0,o)}}function r(C,B){if(!(C.target instanceof HTMLInputElement)||!(o instanceof Ee))return;const L=C.target.value;if(o.FIB.get(L)){alert("Address already exists in FIB.");return}o.updateFIBAddress(B,L)}function i(C,B){if(!(C.target instanceof HTMLInputElement)||!(o instanceof $e))return;const L=parseInt(C.target.value);if(o.LIB.get(L)){alert("Label already exists in LIB.");return}o.updateLIBLabel(B,L)}function u(C){if(!(C.target instanceof HTMLInputElement)||!(o instanceof pe))return;const B=C.target.value,U=l.routers.filter(W=>W instanceof pe).find(W=>W.address===B);if(!U){alert("Destination router not found.");return}const N=Oe.findShortestPath(o,U);let S,P=!0;for(let W=N.length-1;W>0;W--){const be=N[W],D=N[W-1],X=S??Math.floor(Math.random()*((be.id+1)*1e3));S=Math.floor(Math.random()*((D.id+1)*1e3)),D instanceof Ee&&P?(D.receiveLIBEntry(S,-1,B),P=!1):D instanceof Ee&&!P?D.receiveFIBEntry(B,X,be.id.toString()):D instanceof $e&&D.receiveLIBEntry(S,X,be.id.toString())}}function h(C,B){C[B]=this.value,t(0,o)}const f=C=>{u(C)},_=C=>{o instanceof pe&&(o.deleteDestination(C),t(0,o))},a=(C,B)=>{r(B,C)};function d(C,B){C[B][1].label=ce(this.value),t(0,o)}function p(C,B){C[B][1].nextHop=this.value,t(0,o)}const g=C=>{o instanceof Ee&&(o.deleteFIBEntry(C),t(0,o))},E=(C,B)=>{i(B,C)};function c(C,B){C[B][1].outgoingLabel=ce(this.value),t(0,o)}function k(C,B){C[B][1].nextHop=this.value,t(0,o)}const y=C=>{o instanceof Ee&&(o.deleteLIBEntry(C),t(0,o))},O=(C,B)=>{i(B,C)};function x(C,B){C[B][1].outgoingLabel=ce(this.value),t(0,o)}function I(C,B){C[B][1].nextHop=this.value,t(0,o)}const z=C=>{o instanceof $e&&(o.deleteLIBEntry(C),t(0,o))};return n.$$set=C=>{"router"in C&&t(0,o=C.router)},[o,s,r,i,u,h,f,_,a,d,p,g,E,c,k,y,O,x,I,z]}class Ut extends ue{constructor(e){super(),ae(this,e,Ht,Mt,re,{router:0},null,[-1,-1])}}function Ot(n){let e,t="You somehow double-clicked on a router that can't be found?";return{c(){e=T("p"),e.textContent=t},l(l){e=$(l,"P",{"data-svelte-h":!0}),V(e)!=="svelte-1214eal"&&(e.textContent=t)},m(l,o){w(l,e,o)},p:le,i:le,o:le,d(l){l&&b(e)}}}function zt(n){let e,t,l,o,s,r,i=n[0].id+"",u,h,f,_,a=n[0].type+"",d,p,g,E,c,k,y,O,x,I,z,C,B,L="Delete Router",U,N,S,P=n[0]instanceof pe&&Ke(n);function W(D){n[7](D)}let be={};return n[0]!==void 0&&(be.router=n[0]),I=new Ut({props:be}),fe.push(()=>_e(I,"router",W)),{c(){e=T("label"),t=oe(`Label:
      `),l=T("input"),o=M(),s=T("p"),r=oe("ID: "),u=oe(i),h=M(),f=T("p"),_=oe("Type: "),d=oe(a),p=M(),g=T("label"),E=oe(`Position:
      `),c=T("input"),k=M(),y=T("input"),O=M(),P&&P.c(),x=M(),Q(I.$$.fragment),C=M(),B=T("button"),B.textContent=L,this.h()},l(D){e=$(D,"LABEL",{});var X=F(e);t=ie(X,`Label:
      `),l=$(X,"INPUT",{type:!0}),X.forEach(b),o=H(D),s=$(D,"P",{});var me=F(s);r=ie(me,"ID: "),u=ie(me,i),me.forEach(b),h=H(D),f=$(D,"P",{});var v=F(f);_=ie(v,"Type: "),d=ie(v,a),v.forEach(b),p=H(D),g=$(D,"LABEL",{});var j=F(g);E=ie(j,`Position:
      `),c=$(j,"INPUT",{type:!0}),k=H(j),y=$(j,"INPUT",{type:!0}),j.forEach(b),O=H(D),P&&P.l(D),x=H(D),Z(I.$$.fragment,D),C=H(D),B=$(D,"BUTTON",{"data-svelte-h":!0}),V(B)!=="svelte-ufhzdt"&&(B.textContent=L),this.h()},h(){m(l,"type","text"),m(c,"type","number"),c.disabled=n[2],m(y,"type","number"),y.disabled=n[2]},m(D,X){w(D,e,X),R(e,t),R(e,l),J(l,n[0].node.label),w(D,o,X),w(D,s,X),R(s,r),R(s,u),w(D,h,X),w(D,f,X),R(f,_),R(f,d),w(D,p,X),w(D,g,X),R(g,E),R(g,c),J(c,n[0].node.x),R(g,k),R(g,y),J(y,n[0].node.y),w(D,O,X),P&&P.m(D,X),w(D,x,X),ee(I,D,X),w(D,C,X),w(D,B,X),U=!0,N||(S=[Y(l,"input",n[4]),Y(c,"input",n[5]),Y(y,"input",n[6]),Y(B,"click",n[3])],N=!0)},p(D,X){X&1&&l.value!==D[0].node.label&&J(l,D[0].node.label),(!U||X&1)&&i!==(i=D[0].id+"")&&we(u,i),(!U||X&1)&&a!==(a=D[0].type+"")&&we(d,a),(!U||X&4)&&(c.disabled=D[2]),X&1&&ce(c.value)!==D[0].node.x&&J(c,D[0].node.x),(!U||X&4)&&(y.disabled=D[2]),X&1&&ce(y.value)!==D[0].node.y&&J(y,D[0].node.y),D[0]instanceof pe?P?P.p(D,X):(P=Ke(D),P.c(),P.m(x.parentNode,x)):P&&(P.d(1),P=null);const me={};!z&&X&1&&(z=!0,me.router=D[0],he(()=>z=!1)),I.$set(me)},i(D){U||(q(I.$$.fragment,D),U=!0)},o(D){G(I.$$.fragment,D),U=!1},d(D){D&&(b(e),b(o),b(s),b(h),b(f),b(p),b(g),b(O),b(x),b(C),b(B)),P&&P.d(D),te(I,D),N=!1,ge(S)}}}function Ke(n){let e,t,l=n[0].address+"",o;return{c(){e=T("p"),t=oe("Address: "),o=oe(l)},l(s){e=$(s,"P",{});var r=F(e);t=ie(r,"Address: "),o=ie(r,l),r.forEach(b)},m(s,r){w(s,e,r),R(e,t),R(e,o)},p(s,r){r&1&&l!==(l=s[0].address+"")&&we(o,l)},d(s){s&&b(e)}}}function Ft(n){let e,t,l,o;const s=[zt,Ot],r=[];function i(u,h){return u[0]?0:1}return e=i(n),t=r[e]=s[e](n),{c(){t.c(),l=se()},l(u){t.l(u),l=se()},m(u,h){r[e].m(u,h),w(u,l,h),o=!0},p(u,h){let f=e;e=i(u),e===f?r[e].p(u,h):(Le(),G(r[f],1,1,()=>{r[f]=null}),Ce(),t=r[e],t?t.p(u,h):(t=r[e]=s[e](u),t.c()),q(t,1),t.m(l.parentNode,l))},i(u){o||(q(t),o=!0)},o(u){G(t),o=!1},d(u){u&&b(l),r[e].d(u)}}}function At(n){let e,t,l;function o(r){n[8](r)}let s={$$slots:{default:[Ft]},$$scope:{ctx:n}};return n[1]!==void 0&&(s.dialog=n[1]),e=new Fe({props:s}),fe.push(()=>_e(e,"dialog",o)),e.$on("close",n[9]),{c(){Q(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,i){ee(e,r,i),l=!0},p(r,[i]){const u={};i&1029&&(u.$$scope={dirty:i,ctx:r}),!t&&i&2&&(t=!0,u.dialog=r[1],he(()=>t=!1)),e.$set(u)},i(r){l||(q(e.$$.fragment,r),l=!0)},o(r){G(e.$$.fragment,r),l=!1},d(r){te(e,r)}}}function St(n,e,t){let l;ye(n,Ie,d=>t(2,l=d));let{router:o}=e,{dialog:s}=e;function r(){!l&&o&&confirm("Are you sure you want to delete this router?")&&(K.deleteRouter(o.id),s.close())}function i(){o.node.label=this.value,t(0,o)}function u(){o.node.x=ce(this.value),t(0,o)}function h(){o.node.y=ce(this.value),t(0,o)}function f(d){o=d,t(0,o)}function _(d){s=d,t(1,s)}const a=()=>{K.fastUpdate()};return n.$$set=d=>{"router"in d&&t(0,o=d.router),"dialog"in d&&t(1,s=d.dialog)},[o,s,l,r,i,u,h,f,_,a]}class jt extends ue{constructor(e){super(),ae(this,e,St,At,re,{router:0,dialog:1})}}function Yt(n){let e,t="You somehow double-clicked on a link that can't be found?";return{c(){e=T("p"),e.textContent=t},l(l){e=$(l,"P",{"data-svelte-h":!0}),V(e)!=="svelte-1tevm7q"&&(e.textContent=t)},m(l,o){w(l,e,o)},p:le,d(l){l&&b(e)}}}function qt(n){let e,t=n[0].distance+"",l,o,s,r,i,u,h,f="Delete Link",_,a;return{c(){e=oe("Distance: "),l=oe(t),o=M(),s=T("label"),r=oe(`Bandwidth:
      `),i=T("input"),u=M(),h=T("button"),h.textContent=f,this.h()},l(d){e=ie(d,"Distance: "),l=ie(d,t),o=H(d),s=$(d,"LABEL",{class:!0});var p=F(s);r=ie(p,`Bandwidth:
      `),i=$(p,"INPUT",{type:!0,class:!0}),p.forEach(b),u=H(d),h=$(d,"BUTTON",{"data-svelte-h":!0}),V(h)!=="svelte-rk1ni8"&&(h.textContent=f),this.h()},h(){m(i,"type","number"),i.disabled=n[2],m(i,"class","svelte-mdz6ho"),m(s,"class","svelte-mdz6ho")},m(d,p){w(d,e,p),w(d,l,p),w(d,o,p),w(d,s,p),R(s,r),R(s,i),J(i,n[0].bandwidth),w(d,u,p),w(d,h,p),_||(a=[Y(i,"input",n[4]),Y(h,"click",n[3])],_=!0)},p(d,p){p&1&&t!==(t=d[0].distance+"")&&we(l,t),p&4&&(i.disabled=d[2]),p&1&&ce(i.value)!==d[0].bandwidth&&J(i,d[0].bandwidth)},d(d){d&&(b(e),b(l),b(o),b(s),b(u),b(h)),_=!1,ge(a)}}}function Xt(n){let e;function t(s,r){return s[0]?qt:Yt}let l=t(n),o=l(n);return{c(){o.c(),e=se()},l(s){o.l(s),e=se()},m(s,r){o.m(s,r),w(s,e,r)},p(s,r){l===(l=t(s))&&o?o.p(s,r):(o.d(1),o=l(s),o&&(o.c(),o.m(e.parentNode,e)))},d(s){s&&b(e),o.d(s)}}}function Gt(n){let e,t,l;function o(r){n[5](r)}let s={$$slots:{default:[Xt]},$$scope:{ctx:n}};return n[1]!==void 0&&(s.dialog=n[1]),e=new Fe({props:s}),fe.push(()=>_e(e,"dialog",o)),e.$on("close",n[6]),{c(){Q(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,i){ee(e,r,i),l=!0},p(r,[i]){const u={};i&133&&(u.$$scope={dirty:i,ctx:r}),!t&&i&2&&(t=!0,u.dialog=r[1],he(()=>t=!1)),e.$set(u)},i(r){l||(q(e.$$.fragment,r),l=!0)},o(r){G(e.$$.fragment,r),l=!1},d(r){te(e,r)}}}function Vt(n,e,t){let l;ye(n,Ie,f=>t(2,l=f));let{link:o}=e,{dialog:s}=e;function r(){!l&&o&&confirm("Are you sure you want to delete this link?")&&(K.deleteLink(o.id),s.close())}function i(){o.bandwidth=ce(this.value),t(0,o)}function u(f){s=f,t(1,s)}const h=()=>{K.fastUpdate()};return n.$$set=f=>{"link"in f&&t(0,o=f.link),"dialog"in f&&t(1,s=f.dialog)},[o,s,l,r,i,u,h]}class Wt extends ue{constructor(e){super(),ae(this,e,Vt,Gt,re,{link:0,dialog:1})}}function Je(n){let e,t="Loading...";return{c(){e=T("p"),e.textContent=t,this.h()},l(l){e=$(l,"P",{style:!0,"data-svelte-h":!0}),V(e)!=="svelte-qybri"&&(e.textContent=t),this.h()},h(){Ne(e,"font-size","200px")},m(l,o){w(l,e,o)},d(l){l&&b(e)}}}function Qe(n){let e,t,l,o,s;return{c(){e=ke("line"),this.h()},l(r){e=ve(r,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),F(e).forEach(b),this.h()},h(){m(e,"x1",t=n[3].node.x),m(e,"y1",l=n[3].node.y),m(e,"x2",o=n[17](n[1].x)),m(e,"y2",s=n[18](n[1].y))},m(r,i){w(r,e,i)},p(r,i){i[0]&8&&t!==(t=r[3].node.x)&&m(e,"x1",t),i[0]&8&&l!==(l=r[3].node.y)&&m(e,"y1",l),i[0]&2&&o!==(o=r[17](r[1].x))&&m(e,"x2",o),i[0]&2&&s!==(s=r[18](r[1].y))&&m(e,"y2",s)},d(r){r&&b(e)}}}function Kt(n){let e,t,l,o,s,r,i,u,h,f,_,a,d,p,g,E=!n[8]&&Je(),c=!n[9]&&n[5]===n[10].CONNECTING&&n[3]&&Qe(n);const k=n[21].default,y=ft(k,n,n[20],null);function O(L){n[24](L)}function x(L){n[25](L)}let I={};n[3]!==void 0&&(I.router=n[3]),n[6]!==void 0&&(I.dialog=n[6]),r=new jt({props:I}),fe.push(()=>_e(r,"router",O)),fe.push(()=>_e(r,"dialog",x));function z(L){n[26](L)}function C(L){n[27](L)}let B={};return n[4]!==void 0&&(B.link=n[4]),n[7]!==void 0&&(B.dialog=n[7]),f=new Wt({props:B}),fe.push(()=>_e(f,"link",z)),fe.push(()=>_e(f,"dialog",C)),{c(){E&&E.c(),e=M(),t=ke("svg"),c&&c.c(),l=se(),y&&y.c(),s=M(),Q(r.$$.fragment),h=M(),Q(f.$$.fragment),this.h()},l(L){E&&E.l(L),e=H(L),t=ve(L,"svg",{viewBox:!0,role:!0,tabindex:!0,style:!0,class:!0});var U=F(t);c&&c.l(U),l=se(),y&&y.l(U),U.forEach(b),s=H(L),Z(r.$$.fragment,L),h=H(L),Z(f.$$.fragment,L),this.h()},h(){m(t,"viewBox",o=`${n[0].x} ${n[0].y} ${n[0].width} ${n[0].height}`),m(t,"role","button"),m(t,"tabindex","-1"),Ne(t,"cursor",n[9]?"default":n[11][n[5]]),m(t,"class","svelte-1cmb9l6")},m(L,U){E&&E.m(L,U),w(L,e,U),w(L,t,U),c&&c.m(t,null),R(t,l),y&&y.m(t,null),n[23](t),w(L,s,U),ee(r,L,U),w(L,h,U),ee(f,L,U),d=!0,p||(g=[Y(t,"pointerdown",n[12]),Y(t,"pointerup",n[13]),Y(t,"wheel",n[14]),Y(t,"dblclick",n[15]),Y(t,"dragover",wt(n[22])),Y(t,"drop",n[16])],p=!0)},p(L,U){L[8]?E&&(E.d(1),E=null):E||(E=Je(),E.c(),E.m(e.parentNode,e)),!L[9]&&L[5]===L[10].CONNECTING&&L[3]?c?c.p(L,U):(c=Qe(L),c.c(),c.m(t,l)):c&&(c.d(1),c=null),y&&y.p&&(!d||U[0]&1048576)&&ct(y,k,L,L[20],d?ht(k,L[20],U,null):dt(L[20]),null),(!d||U[0]&1&&o!==(o=`${L[0].x} ${L[0].y} ${L[0].width} ${L[0].height}`))&&m(t,"viewBox",o),(!d||U[0]&544)&&Ne(t,"cursor",L[9]?"default":L[11][L[5]]);const N={};!i&&U[0]&8&&(i=!0,N.router=L[3],he(()=>i=!1)),!u&&U[0]&64&&(u=!0,N.dialog=L[6],he(()=>u=!1)),r.$set(N);const S={};!_&&U[0]&16&&(_=!0,S.link=L[4],he(()=>_=!1)),!a&&U[0]&128&&(a=!0,S.dialog=L[7],he(()=>a=!1)),f.$set(S)},i(L){d||(q(y,L),q(r.$$.fragment,L),q(f.$$.fragment,L),d=!0)},o(L){G(y,L),G(r.$$.fragment,L),G(f.$$.fragment,L),d=!1},d(L){L&&(b(e),b(t),b(s),b(h)),E&&E.d(L),c&&c.d(),y&&y.d(L),n[23](null),te(r,L),te(f,L),p=!1,ge(g)}}}function Jt(n,e,t){let l;ye(n,Ie,v=>t(9,l=v));let{$$slots:o={},$$scope:s}=e;var r=(v=>(v[v.NONE=0]="NONE",v[v.DRAGGING=1]="DRAGGING",v[v.PANNING=2]="PANNING",v[v.CONNECTING=3]="CONNECTING",v))(r||{});const i={x:0,y:0,width:0,height:0,get scale(){return _?this.width/_.getBoundingClientRect().width:1}},u={x:0,y:0},h={x:0,y:0},f={0:"move",1:"grabbing",2:"grabbing",3:"crosshair"};let _=null,a=null,d=null,p=0,g,E,c=!1;vt(()=>{if(!_)return;new ResizeObserver(k).observe(_),requestAnimationFrame(()=>{_&&(t(0,i.x=_.getBoundingClientRect().width/-2,i),t(0,i.y=_.getBoundingClientRect().height/-2,i))}),t(8,c=!0)});function k(){if(!_)return;const v=i.scale||1;t(0,i.width=_.getBoundingClientRect().width*v,i),t(0,i.height=_.getBoundingClientRect().height*v,i)}function y(v){if(!(v.target instanceof Element))return;v.preventDefault(),_==null||_.addEventListener("pointermove",x),_==null||_.setPointerCapture(v.pointerId);const j=v.target.id;if(j){if(t(3,a=K.getRouter(parseInt(j))||null),!a)return;v.shiftKey?t(5,p=3):(h.x=a.node.x,h.y=a.node.y,t(5,p=1))}else t(5,p=2);t(1,u.x=v.clientX,u),t(1,u.y=v.clientY,u)}function O(v){if(v.target instanceof Element){if(v.preventDefault(),!l&&p===3&&a){const j=document.elementFromPoint(v.clientX,v.clientY),de=(j==null?void 0:j.tagName)==="circle"?j.id:null,Te=K.getRouter(parseInt(de??""));Te&&K.addLink({source:a,target:Te})}t(5,p=0),t(3,a=null),_==null||_.releasePointerCapture(v.pointerId),_==null||_.removeEventListener("pointermove",x)}}function x(v){v.preventDefault();const j={x:(v.clientX-u.x)*i.scale,y:(v.clientY-u.y)*i.scale};!l&&p===1&&a?(t(3,a.node.x=h.x+j.x,a),t(3,a.node.y=h.y+j.y,a),K.fastUpdate()):p===2?(t(1,u.x=v.clientX,u),t(1,u.y=v.clientY,u),t(0,i.x-=j.x,i),t(0,i.y-=j.y,i)):!l&&p===3&&(t(1,u.x=v.clientX,u),t(1,u.y=v.clientY,u))}function I(v){v.preventDefault(),t(1,u.x=v.clientX,u),t(1,u.y=v.clientY,u);const j=v.deltaY>0?1.025:.975;z(j,u)}function z(v,j){if(!_||i.scale<.1&&v<1||i.scale>5&&v>1)return;const de=_.getBoundingClientRect(),Te={x:(j.x-de.left)/de.width,y:(j.y-de.top)/de.height};t(0,i.x-=i.width*(v-1)*Te.x,i),t(0,i.y-=i.height*(v-1)*Te.y,i),t(0,i.width*=v,i),t(0,i.height*=v,i)}function C(v){if(!(v.target instanceof Element))return;v.preventDefault();const j=document.elementFromPoint(v.clientX,v.clientY);j&&(j.tagName==="circle"?B(j.id):j.tagName==="rect"&&L(j.id))}function B(v){const j=K.getRouter(parseInt(v));j&&(t(3,a=j),g.showModal())}function L(v){const j=K.links.find(de=>v===de.id);j&&(t(4,d=j),E.showModal())}function U(v){var de;switch(v.preventDefault(),(de=v.dataTransfer)==null?void 0:de.getData("text/plain")){case"CE":K.createCE({label:"CE",x:N(v.clientX),y:S(v.clientY)});break;case"LER":K.createLER({label:"LER",x:N(v.clientX),y:S(v.clientY)});break;case"LSR":K.createLSR({label:"LSR",x:N(v.clientX),y:S(v.clientY)});break}}function N(v){return _?(v-_.getBoundingClientRect().left)*i.scale+i.x:v}function S(v){return _?(v-_.getBoundingClientRect().top)*i.scale+i.y:v}function P(v){_t.call(this,n,v)}function W(v){fe[v?"unshift":"push"](()=>{_=v,t(2,_)})}function be(v){a=v,t(3,a)}function D(v){g=v,t(6,g)}function X(v){d=v,t(4,d)}function me(v){E=v,t(7,E)}return n.$$set=v=>{"$$scope"in v&&t(20,s=v.$$scope)},[i,u,_,a,d,p,g,E,c,l,r,f,y,O,I,C,U,N,S,z,s,o,P,W,be,D,X,me]}class Qt extends ue{constructor(e){super(),ae(this,e,Jt,Kt,re,{zoom:19},null,[-1,-1])}get zoom(){return this.$$.ctx[19]}}function Zt(n){let e,t,l,o,s;return{c(){e=ke("circle"),this.h()},l(r){e=ve(r,"circle",{r:!0,transform:!0,style:!0,class:!0}),F(e).forEach(b),this.h()},h(){m(e,"r","5"),m(e,"transform",t=`translate(${n[0].node.x}, ${n[0].node.y})`),m(e,"style",l=`transition: transform ${n[1]}ms linear;`),m(e,"class","svelte-1wnohjk")},m(r,i){w(r,e,i),o||(s=Y(e,"transitionend",n[2]),o=!0)},p(r,[i]){i&1&&t!==(t=`translate(${r[0].node.x}, ${r[0].node.y})`)&&m(e,"transform",t),i&2&&l!==(l=`transition: transform ${r[1]}ms linear;`)&&m(e,"style",l)},i:le,o:le,d(r){r&&b(e),o=!1,s()}}}function en(n,e,t){let{packet:l}=e,o;function s(){const u=Math.sqrt((l.node.x-l.nextHop.node.x)**2+(l.node.y-l.nextHop.node.y)**2);t(1,o=u/100*1e3)}function r(){s(),t(0,l.node.x=l.nextHop.node.x,l),t(0,l.node.y=l.nextHop.node.y,l)}function i(){l.nextHop.receivePacket(l),r()}return requestAnimationFrame(r),n.$$set=u=>{"packet"in u&&t(0,l=u.packet)},[l,o,i]}class tn extends ue{constructor(e){super(),ae(this,e,en,Zt,re,{packet:0})}}function nn(n){let e,t,l,o,s,r,i,u,h=n[0].distance+"",f,_,a,d;return{c(){e=ke("line"),t=M(),l=ke("rect"),i=M(),u=ke("text"),f=oe(h),_=oe(" km"),this.h()},l(p){e=ve(p,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),F(e).forEach(b),t=H(p),l=ve(p,"rect",{id:!0,x:!0,y:!0,width:!0,height:!0,class:!0}),F(l).forEach(b),i=H(p),u=ve(p,"text",{x:!0,y:!0,"dominant-baseline":!0,class:!0});var g=F(u);f=ie(g,h),_=ie(g," km"),g.forEach(b),this.h()},h(){m(e,"x1",n[4]),m(e,"y1",n[2]),m(e,"x2",n[3]),m(e,"y2",n[1]),m(l,"id",o=n[0].id),m(l,"x",s=n[5].x-Me/2),m(l,"y",r=n[5].y-He/2),m(l,"width",Me),m(l,"height",He),m(l,"class","svelte-zjn2k6"),m(u,"x",a=n[5].x),m(u,"y",d=n[5].y),m(u,"dominant-baseline","central"),m(u,"class","svelte-zjn2k6")},m(p,g){w(p,e,g),w(p,t,g),w(p,l,g),w(p,i,g),w(p,u,g),R(u,f),R(u,_)},p(p,[g]){g&16&&m(e,"x1",p[4]),g&4&&m(e,"y1",p[2]),g&8&&m(e,"x2",p[3]),g&2&&m(e,"y2",p[1]),g&1&&o!==(o=p[0].id)&&m(l,"id",o),g&32&&s!==(s=p[5].x-Me/2)&&m(l,"x",s),g&32&&r!==(r=p[5].y-He/2)&&m(l,"y",r),g&1&&h!==(h=p[0].distance+"")&&we(f,h),g&32&&a!==(a=p[5].x)&&m(u,"x",a),g&32&&d!==(d=p[5].y)&&m(u,"y",d)},i:le,o:le,d(p){p&&(b(e),b(t),b(l),b(i),b(u))}}}const Me=50,He=20;function Ze(n,e){return(n+e)/2}function ln(n,e,t){let l,o,s,r,i,{link:u}=e;return n.$$set=h=>{"link"in h&&t(0,u=h.link)},n.$$.update=()=>{n.$$.dirty&1&&t(4,l=u.source.node.x),n.$$.dirty&1&&t(3,o=u.target.node.x),n.$$.dirty&1&&t(2,s=u.source.node.y),n.$$.dirty&1&&t(1,r=u.target.node.y),n.$$.dirty&30&&t(5,i={x:Ze(l,o),y:Ze(s,r)})},[u,r,s,o,l,i]}class sn extends ue{constructor(e){super(),ae(this,e,ln,nn,re,{link:0})}}function on(n){let e,t,l,o,s,r,i,u=n[0].node.label+"",h,f,_;return{c(){e=ke("circle"),r=M(),i=ke("text"),h=oe(u),this.h()},l(a){e=ve(a,"circle",{id:!0,cx:!0,cy:!0,r:!0,fill:!0,class:!0}),F(e).forEach(b),r=H(a),i=ve(a,"text",{x:!0,y:!0,"dominant-baseline":!0,class:!0});var d=F(i);h=ie(d,u),d.forEach(b),this.h()},h(){m(e,"id",t=n[0].id.toString()),m(e,"cx",l=n[0].node.x),m(e,"cy",o=n[0].node.y),m(e,"r","20"),m(e,"fill",s=n[1][n[0].type]),m(e,"class","svelte-17jcsko"),m(i,"x",f=n[0].node.x),m(i,"y",_=n[0].node.y),m(i,"dominant-baseline","central"),m(i,"class","svelte-17jcsko")},m(a,d){w(a,e,d),w(a,r,d),w(a,i,d),R(i,h)},p(a,[d]){d&1&&t!==(t=a[0].id.toString())&&m(e,"id",t),d&1&&l!==(l=a[0].node.x)&&m(e,"cx",l),d&1&&o!==(o=a[0].node.y)&&m(e,"cy",o),d&1&&s!==(s=a[1][a[0].type])&&m(e,"fill",s),d&1&&u!==(u=a[0].node.label+"")&&we(h,u),d&1&&f!==(f=a[0].node.x)&&m(i,"x",f),d&1&&_!==(_=a[0].node.y)&&m(i,"y",_)},i:le,o:le,d(a){a&&(b(e),b(r),b(i))}}}function rn(n,e,t){let{router:l}=e;const o={CE:"lightgreen",LER:"cyan",LSR:"hotpink"};return n.$$set=s=>{"router"in s&&t(0,l=s.router)},[l,o]}class un extends ue{constructor(e){super(),ae(this,e,rn,on,re,{router:0})}}function an(n){let e,t,l,o;return{c(){e=T("div"),t=oe(n[0]),this.h()},l(s){e=$(s,"DIV",{draggable:!0,role:!0,tabindex:!0,style:!0,class:!0});var r=F(e);t=ie(r,n[0]),r.forEach(b),this.h()},h(){m(e,"draggable","true"),m(e,"role","button"),m(e,"tabindex","-1"),Ne(e,"background-color",n[1]),m(e,"class","svelte-17iodfq")},m(s,r){w(s,e,r),R(e,t),l||(o=Y(e,"dragstart",n[2]),l=!0)},p(s,[r]){r&1&&we(t,s[0]),r&2&&Ne(e,"background-color",s[1])},i:le,o:le,d(s){s&&b(e),l=!1,o()}}}function fn(n,e,t){let l;ye(n,Ie,u=>t(4,l=u));let{text:o}=e,{type:s}=e,{color:r}=e;function i(u){var h;if(l){alert("Network is locked.");return}(h=u.dataTransfer)==null||h.setData("text/plain",s)}return n.$$set=u=>{"text"in u&&t(0,o=u.text),"type"in u&&t(3,s=u.type),"color"in u&&t(1,r=u.color)},[o,r,i,s]}class cn extends ue{constructor(e){super(),ae(this,e,fn,an,re,{text:0,type:3,color:1})}}function dn(n){let e,t,l,o;return{c(){e=T("button"),t=oe(n[0]),this.h()},l(s){e=$(s,"BUTTON",{class:!0});var r=F(e);t=ie(r,n[0]),r.forEach(b),this.h()},h(){m(e,"class","svelte-1mil06r")},m(s,r){w(s,e,r),R(e,t),l||(o=Y(e,"click",function(){Re(n[1])&&n[1].apply(this,arguments)}),l=!0)},p(s,[r]){n=s,r&1&&we(t,n[0])},i:le,o:le,d(s){s&&b(e),l=!1,o()}}}function hn(n,e,t){let{text:l}=e,{callback:o=()=>{}}=e;return n.$$set=s=>{"text"in s&&t(0,l=s.text),"callback"in s&&t(1,o=s.callback)},[l,o]}class Pe extends ue{constructor(e){super(),ae(this,e,hn,dn,re,{text:0,callback:1})}}function et(n,e,t){const l=n.slice();return l[4]=e[t],l}function tt(n,e,t){const l=n.slice();return l[7]=e[t],l}function nt(n){let e,t;const l=[n[7]];let o={};for(let s=0;s<l.length;s+=1)o=pt(o,l[s]);return e=new cn({props:o}),{c(){Q(e.$$.fragment)},l(s){Z(e.$$.fragment,s)},m(s,r){ee(e,s,r),t=!0},p(s,r){const i=r&2?gt(l,[bt(s[7])]):{};e.$set(i)},i(s){t||(q(e.$$.fragment,s),t=!0)},o(s){G(e.$$.fragment,s),t=!1},d(s){te(e,s)}}}function lt(n){let e,t;const l=[n[4]];let o={};for(let s=0;s<l.length;s+=1)o=pt(o,l[s]);return e=new Pe({props:o}),{c(){Q(e.$$.fragment)},l(s){Z(e.$$.fragment,s)},m(s,r){ee(e,s,r),t=!0},p(s,r){const i=r&1?gt(l,[bt(s[4])]):{};e.$set(i)},i(s){t||(q(e.$$.fragment,s),t=!0)},o(s){G(e.$$.fragment,s),t=!1},d(s){te(e,s)}}}function _n(n){let e,t,l,o=ne(n[1]),s=[];for(let f=0;f<o.length;f+=1)s[f]=nt(tt(n,o,f));const r=f=>G(s[f],1,1,()=>{s[f]=null});let i=ne(n[0]),u=[];for(let f=0;f<i.length;f+=1)u[f]=lt(et(n,i,f));const h=f=>G(u[f],1,1,()=>{u[f]=null});return{c(){for(let f=0;f<s.length;f+=1)s[f].c();e=M();for(let f=0;f<u.length;f+=1)u[f].c();t=se()},l(f){for(let _=0;_<s.length;_+=1)s[_].l(f);e=H(f);for(let _=0;_<u.length;_+=1)u[_].l(f);t=se()},m(f,_){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(f,_);w(f,e,_);for(let a=0;a<u.length;a+=1)u[a]&&u[a].m(f,_);w(f,t,_),l=!0},p(f,[_]){if(_&2){o=ne(f[1]);let a;for(a=0;a<o.length;a+=1){const d=tt(f,o,a);s[a]?(s[a].p(d,_),q(s[a],1)):(s[a]=nt(d),s[a].c(),q(s[a],1),s[a].m(e.parentNode,e))}for(Le(),a=o.length;a<s.length;a+=1)r(a);Ce()}if(_&1){i=ne(f[0]);let a;for(a=0;a<i.length;a+=1){const d=et(f,i,a);u[a]?(u[a].p(d,_),q(u[a],1)):(u[a]=lt(d),u[a].c(),q(u[a],1),u[a].m(t.parentNode,t))}for(Le(),a=i.length;a<u.length;a+=1)h(a);Ce()}},i(f){if(!l){for(let _=0;_<o.length;_+=1)q(s[_]);for(let _=0;_<i.length;_+=1)q(u[_]);l=!0}},o(f){s=s.filter(Boolean);for(let _=0;_<s.length;_+=1)G(s[_]);u=u.filter(Boolean);for(let _=0;_<u.length;_+=1)G(u[_]);l=!1},d(f){f&&(b(e),b(t)),Be(s,f),Be(u,f)}}}function pn(n,e,t){let l,o,s;ye(n,K,i=>t(2,o=i)),ye(n,Ie,i=>t(3,s=i));const r=[{text:"+ Customer",type:"CE",color:"lightgreen"},{text:"+ Edge",type:"LER",color:"cyan"},{text:"+ Switch",type:"LSR",color:"hotpink"}];return n.$$.update=()=>{n.$$.dirty&12&&t(0,l=[{text:s?"Unlock":"Lock",callback:()=>{yt(Ie,s=!s,s)}},{text:"Clear",callback:()=>{if(s){alert("Network is locked.");return}confirm("Are you sure you want to clear the network?")&&K.clear()}},{text:"LDP (actually Dijkstra)",callback:()=>{Oe.findShortestPaths()}},{text:"Test",callback:()=>{const i=o.routers.filter(u=>u instanceof pe);K.addPacket(i[0],i[1])}}])},[l,r,o,s]}class gn extends ue{constructor(e){super(),ae(this,e,pn,_n,re,{})}}function bn(n){let e,t="Drag and drop routers that to add them to the network.",l,o,s="Hold the shift key and drag routers to make links.",r,i,u="Double click a router to configure it.",h,f,_="The clear button will delete the entire network.",a,d,p,g,E="Press Esc to close this popup.";return{c(){e=T("p"),e.textContent=t,l=M(),o=T("p"),o.textContent=s,r=M(),i=T("p"),i.textContent=u,h=M(),f=T("p"),f.textContent=_,a=M(),d=T("br"),p=M(),g=T("p"),g.textContent=E},l(c){e=$(c,"P",{"data-svelte-h":!0}),V(e)!=="svelte-2wnqpf"&&(e.textContent=t),l=H(c),o=$(c,"P",{"data-svelte-h":!0}),V(o)!=="svelte-ddjc2m"&&(o.textContent=s),r=H(c),i=$(c,"P",{"data-svelte-h":!0}),V(i)!=="svelte-11scjjz"&&(i.textContent=u),h=H(c),f=$(c,"P",{"data-svelte-h":!0}),V(f)!=="svelte-vcl8s3"&&(f.textContent=_),a=H(c),d=$(c,"BR",{}),p=H(c),g=$(c,"P",{"data-svelte-h":!0}),V(g)!=="svelte-1dvt5v1"&&(g.textContent=E)},m(c,k){w(c,e,k),w(c,l,k),w(c,o,k),w(c,r,k),w(c,i,k),w(c,h,k),w(c,f,k),w(c,a,k),w(c,d,k),w(c,p,k),w(c,g,k)},p:le,d(c){c&&(b(e),b(l),b(o),b(r),b(i),b(h),b(f),b(a),b(d),b(p),b(g))}}}function mn(n){let e,t,l="Help",o,s,r,i,u,h;function f(a){n[2](a)}let _={$$slots:{default:[bn]},$$scope:{ctx:n}};return n[0]!==void 0&&(_.dialog=n[0]),s=new Fe({props:_}),fe.push(()=>_e(s,"dialog",f)),{c(){e=T("div"),t=T("button"),t.textContent=l,o=M(),Q(s.$$.fragment),this.h()},l(a){e=$(a,"DIV",{});var d=F(e);t=$(d,"BUTTON",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-1l58twh"&&(t.textContent=l),d.forEach(b),o=H(a),Z(s.$$.fragment,a),this.h()},h(){m(t,"class","svelte-g8xfna")},m(a,d){w(a,e,d),R(e,t),w(a,o,d),ee(s,a,d),i=!0,u||(h=Y(t,"click",n[1]),u=!0)},p(a,[d]){const p={};d&8&&(p.$$scope={dirty:d,ctx:a}),!r&&d&1&&(r=!0,p.dialog=a[0],he(()=>r=!1)),s.$set(p)},i(a){i||(q(s.$$.fragment,a),i=!0)},o(a){G(s.$$.fragment,a),i=!1},d(a){a&&(b(e),b(o)),te(s,a),u=!1,h()}}}function kn(n,e,t){let l;const o=()=>{l.showModal()};function s(r){l=r,t(0,l)}return[l,o,s]}class vn extends ue{constructor(e){super(),ae(this,e,kn,mn,re,{})}}function yn(n){let e,t,l,o,s,r;return e=new Pe({props:{text:" - ",callback:n[1]}}),l=new Pe({props:{text:"Fullscreen",callback:n[2]}}),s=new Pe({props:{text:" + ",callback:n[3]}}),{c(){Q(e.$$.fragment),t=M(),Q(l.$$.fragment),o=M(),Q(s.$$.fragment)},l(i){Z(e.$$.fragment,i),t=H(i),Z(l.$$.fragment,i),o=H(i),Z(s.$$.fragment,i)},m(i,u){ee(e,i,u),w(i,t,u),ee(l,i,u),w(i,o,u),ee(s,i,u),r=!0},p(i,[u]){const h={};u&1&&(h.callback=i[1]),e.$set(h);const f={};u&1&&(f.callback=i[3]),s.$set(f)},i(i){r||(q(e.$$.fragment,i),q(l.$$.fragment,i),q(s.$$.fragment,i),r=!0)},o(i){G(e.$$.fragment,i),G(l.$$.fragment,i),G(s.$$.fragment,i),r=!1},d(i){i&&(b(t),b(o)),te(e,i),te(l,i),te(s,i)}}}function wn(n,e,t){let{zoom:l}=e;const o=()=>{const i={x:window.innerWidth/2,y:window.innerHeight/2};l(1.1,i)},s=async()=>{document.fullscreenElement?await document.exitFullscreen():await document.documentElement.requestFullscreen()},r=()=>{const i={x:window.innerWidth/2,y:window.innerHeight/2};l(.9,i)};return n.$$set=i=>{"zoom"in i&&t(0,l=i.zoom)},[l,o,s,r]}class En extends ue{constructor(e){super(),ae(this,e,wn,yn,re,{zoom:0})}}function st(n,e,t){const l=n.slice();return l[4]=e[t],l}function ot(n,e,t){const l=n.slice();return l[7]=e[t],l}function it(n,e,t){const l=n.slice();return l[10]=e[t],l}function rt(n,e){let t,l,o;return l=new sn({props:{link:e[10]}}),{key:n,first:null,c(){t=se(),Q(l.$$.fragment),this.h()},l(s){t=se(),Z(l.$$.fragment,s),this.h()},h(){this.first=t},m(s,r){w(s,t,r),ee(l,s,r),o=!0},p(s,r){e=s;const i={};r&2&&(i.link=e[10]),l.$set(i)},i(s){o||(q(l.$$.fragment,s),o=!0)},o(s){G(l.$$.fragment,s),o=!1},d(s){s&&b(t),te(l,s)}}}function ut(n,e){let t,l,o;return l=new un({props:{router:e[7]}}),{key:n,first:null,c(){t=se(),Q(l.$$.fragment),this.h()},l(s){t=se(),Z(l.$$.fragment,s),this.h()},h(){this.first=t},m(s,r){w(s,t,r),ee(l,s,r),o=!0},p(s,r){e=s;const i={};r&2&&(i.router=e[7]),l.$set(i)},i(s){o||(q(l.$$.fragment,s),o=!0)},o(s){G(l.$$.fragment,s),o=!1},d(s){s&&b(t),te(l,s)}}}function at(n,e){let t,l,o;return l=new tn({props:{packet:e[4]}}),{key:n,first:null,c(){t=se(),Q(l.$$.fragment),this.h()},l(s){t=se(),Z(l.$$.fragment,s),this.h()},h(){this.first=t},m(s,r){w(s,t,r),ee(l,s,r),o=!0},p(s,r){e=s;const i={};r&2&&(i.packet=e[4]),l.$set(i)},i(s){o||(q(l.$$.fragment,s),o=!0)},o(s){G(l.$$.fragment,s),o=!1},d(s){s&&b(t),te(l,s)}}}function Ln(n){let e=[],t=new Map,l,o=[],s=new Map,r,i=[],u=new Map,h,f,_=ne(n[1].links);const a=c=>c[10].id;for(let c=0;c<_.length;c+=1){let k=it(n,_,c),y=a(k);t.set(y,e[c]=rt(y,k))}let d=ne(n[1].routers);const p=c=>c[7].id;for(let c=0;c<d.length;c+=1){let k=ot(n,d,c),y=p(k);s.set(y,o[c]=ut(y,k))}let g=ne(n[1].packets);const E=c=>c[4].id;for(let c=0;c<g.length;c+=1){let k=st(n,g,c),y=E(k);u.set(y,i[c]=at(y,k))}return{c(){for(let c=0;c<e.length;c+=1)e[c].c();l=M();for(let c=0;c<o.length;c+=1)o[c].c();r=M();for(let c=0;c<i.length;c+=1)i[c].c();h=se()},l(c){for(let k=0;k<e.length;k+=1)e[k].l(c);l=H(c);for(let k=0;k<o.length;k+=1)o[k].l(c);r=H(c);for(let k=0;k<i.length;k+=1)i[k].l(c);h=se()},m(c,k){for(let y=0;y<e.length;y+=1)e[y]&&e[y].m(c,k);w(c,l,k);for(let y=0;y<o.length;y+=1)o[y]&&o[y].m(c,k);w(c,r,k);for(let y=0;y<i.length;y+=1)i[y]&&i[y].m(c,k);w(c,h,k),f=!0},p(c,k){k&2&&(_=ne(c[1].links),Le(),e=xe(e,k,a,1,c,_,t,l.parentNode,De,rt,l,it),Ce()),k&2&&(d=ne(c[1].routers),Le(),o=xe(o,k,p,1,c,d,s,r.parentNode,De,ut,r,ot),Ce()),k&2&&(g=ne(c[1].packets),Le(),i=xe(i,k,E,1,c,g,u,h.parentNode,De,at,h,st),Ce())},i(c){if(!f){for(let k=0;k<_.length;k+=1)q(e[k]);for(let k=0;k<d.length;k+=1)q(o[k]);for(let k=0;k<g.length;k+=1)q(i[k]);f=!0}},o(c){for(let k=0;k<e.length;k+=1)G(e[k]);for(let k=0;k<o.length;k+=1)G(o[k]);for(let k=0;k<i.length;k+=1)G(i[k]);f=!1},d(c){c&&(b(l),b(r),b(h));for(let k=0;k<e.length;k+=1)e[k].d(c);for(let k=0;k<o.length;k+=1)o[k].d(c);for(let k=0;k<i.length;k+=1)i[k].d(c)}}}function Cn(n){let e,t,l,o,s,r,i,u,h,f,_,a,d,p;function g(y){n[2](y)}let E={$$slots:{default:[Ln]},$$scope:{ctx:n}};n[0]!==void 0&&(E.zoom=n[0]),t=new Qt({props:E}),fe.push(()=>_e(t,"zoom",g)),r=new gn({}),h=new vn({});function c(y){n[3](y)}let k={};return n[0]!==void 0&&(k.zoom=n[0]),a=new En({props:k}),fe.push(()=>_e(a,"zoom",c)),{c(){e=T("div"),Q(t.$$.fragment),o=M(),s=T("div"),Q(r.$$.fragment),i=M(),u=T("div"),Q(h.$$.fragment),f=M(),_=T("div"),Q(a.$$.fragment),this.h()},l(y){e=$(y,"DIV",{id:!0,class:!0});var O=F(e);Z(t.$$.fragment,O),o=H(O),s=$(O,"DIV",{id:!0,class:!0});var x=F(s);Z(r.$$.fragment,x),x.forEach(b),i=H(O),u=$(O,"DIV",{id:!0,class:!0});var I=F(u);Z(h.$$.fragment,I),I.forEach(b),f=H(O),_=$(O,"DIV",{id:!0,class:!0});var z=F(_);Z(a.$$.fragment,z),z.forEach(b),O.forEach(b),this.h()},h(){m(s,"id","top-left-bar"),m(s,"class","absolute-flex svelte-1f7f0ns"),m(u,"id","bottom-left-bar"),m(u,"class","absolute-flex svelte-1f7f0ns"),m(_,"id","bottom-right-bar"),m(_,"class","absolute-flex svelte-1f7f0ns"),m(e,"id","network"),m(e,"class","svelte-1f7f0ns")},m(y,O){w(y,e,O),ee(t,e,null),R(e,o),R(e,s),ee(r,s,null),R(e,i),R(e,u),ee(h,u,null),R(e,f),R(e,_),ee(a,_,null),p=!0},p(y,[O]){const x={};O&8194&&(x.$$scope={dirty:O,ctx:y}),!l&&O&1&&(l=!0,x.zoom=y[0],he(()=>l=!1)),t.$set(x);const I={};!d&&O&1&&(d=!0,I.zoom=y[0],he(()=>d=!1)),a.$set(I)},i(y){p||(q(t.$$.fragment,y),q(r.$$.fragment,y),q(h.$$.fragment,y),q(a.$$.fragment,y),p=!0)},o(y){G(t.$$.fragment,y),G(r.$$.fragment,y),G(h.$$.fragment,y),G(a.$$.fragment,y),p=!1},d(y){y&&b(e),te(t),te(r),te(h),te(a)}}}function Bn(n,e,t){let l;ye(n,K,i=>t(1,l=i));let o;function s(i){o=i,t(0,o)}function r(i){o=i,t(0,o)}return[o,l,s,r]}class In extends ue{constructor(e){super(),ae(this,e,Bn,Cn,re,{})}}function Tn(n){let e,t;return e=new In({}),{c(){Q(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,o){ee(e,l,o),t=!0},p:le,i(l){t||(q(e.$$.fragment,l),t=!0)},o(l){G(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}class Hn extends ue{constructor(e){super(),ae(this,e,null,Tn,re,{})}}export{Hn as component};
