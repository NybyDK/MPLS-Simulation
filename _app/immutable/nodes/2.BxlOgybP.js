var bt=Object.defineProperty;var mt=(n,e,t)=>e in n?bt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var F=(n,e,t)=>(mt(n,typeof e!="symbol"?e+"":e,t),t);import{r as pe,s as ae,a as ut,u as at,g as ft,b as ct,x as dt,e as he,n as ee,c as ve,i as Re,y as ge,o as ht,z as kt,A as _t}from"../chunks/scheduler.C5v8YK5g.js";import{n as W,m as X,S as fe,i as ce,e as B,c as L,a as O,d as b,l as g,g as E,z as x,o as te,A as Z,s as U,B as V,f as $,h as I,C as Be,D as G,E as be,v as se,w as ie,x as re,y as ue,r as Ce,p as Ee,t as le,b as oe,j as we,F as me,G as ke,q as Ne,H as vt}from"../chunks/index.quBbCW_3.js";import{w as $e}from"../chunks/index.CD1dNpfE.js";function Q(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Pe(n,e){W(n,1,1,()=>{e.delete(n.key)})}function De(n,e,t,l,s,o,i,r,a,_,c,d){let u=n.length,h=o.length,v=u;const m={};for(;v--;)m[n[v].key]=v;const C=[],f=new Map,p=new Map,T=[];for(v=h;v--;){const A=d(s,o,v),S=t(A);let y=i.get(S);y?l&&T.push(()=>y.p(A,e)):(y=_(S,A),y.c()),f.set(S,C[v]=y),S in m&&p.set(S,Math.abs(v-m[S]))}const q=new Set,H=new Set;function R(A){X(A,1),A.m(r,c),i.set(A.key,A),c=A.first,h--}for(;u&&h;){const A=C[h-1],S=n[u-1],y=A.key,k=S.key;A===S?(c=A.first,u--,h--):f.has(k)?!i.has(y)||q.has(y)?R(A):H.has(k)?u--:p.get(y)>p.get(k)?(H.add(y),R(A)):(q.add(k),u--):(a(S,i),u--)}for(;u--;){const A=n[u];f.has(A.key)||a(A,i)}for(;h;)R(C[h-1]);return pe(T),C}function pt(n,e){const t={},l={},s={$$scope:1};let o=n.length;for(;o--;){const i=n[o],r=e[o];if(r){for(const a in i)a in r||(l[a]=1);for(const a in r)s[a]||(t[a]=r[a],s[a]=1);n[o]=r}else for(const a in i)s[a]=1}for(const i in l)i in t||(t[i]=void 0);return t}function gt(n){return typeof n=="object"&&n!==null?n:{}}function Ae(n,e){const t=K.routers,l=t.length,s=new Array(l).fill(1/0),o=new Array(l).fill(!1),i=new Array(l).fill(null);s[t.indexOf(n)]=0;let r=!1;for(;!r;){let c=null,d=1/0;for(let u=0;u<l;u++)!o[u]&&s[u]<d&&(c=t[u],d=s[u]);if(c===null||c.id===e.id){r=!0;continue}o[t.indexOf(c)]=!0;for(const u of K.connections){let h;if(u.source===c)h=u.target;else if(u.target===c)h=u.source;else continue;const v=t.indexOf(h),m=d+u.distance;m<s[v]&&(s[v]=m,i[v]=c)}}const a=[];let _=e;for(;_;){a.unshift(_);const c=t.indexOf(_);_=i[c]}return a}class yt{constructor(){F(this,"store",$e());F(this,"set",this.store.set);F(this,"update",this.store.update);F(this,"subscribe",this.store.subscribe);F(this,"_map",new Map)}setRawNestedMap(e){this._map=e,this.set(this._map),this.fastUpdate()}getPath(e,t){const l=this._map.get(e);if(l)return l.get(t)}findShortestPath(e,t){return Ae(e,t)}findShortestPaths(){const e=new Map,t=K.routers.filter(l=>l.type==="CE");for(const l of t){const s=new Map;for(const o of t){if(l===o)continue;const i=Ae(l,o);s.set(o.id,i)}e.set(l.id,s)}this.setRawNestedMap(e)}fastUpdate(){this.store.set(this._map)}}const wt=new yt,He=wt;let Ct=class{constructor(e,t,l,s){F(this,"label",-1);F(this,"ttl",32);F(this,"nextHop");var o;this.id=e,this.source=t,this.destination=l,this.node=s,this.nextHop=(o=He.getPath(t.id,l.id))==null?void 0:o[1]}destroy(){K.deletePacket(this.id)}},Fe=class{constructor(e,t){this.id=e,this.node=t}};class _e extends Fe{constructor(){super(...arguments);F(this,"flows",[]);F(this,"address",`${Math.floor(Math.random()*256)}.${Math.floor(Math.random()*256)}.${Math.floor(Math.random()*256)}.${Math.floor(Math.random()*256)}`);F(this,"nextHop");F(this,"allowedConnections",["LER"]);F(this,"addEmptyFlow",()=>{this.flows.push({size:0,destination:""})});F(this,"deleteFlow",t=>{this.flows.splice(t,1)})}receivePacket(t){t.destroy()}get type(){return"CE"}}class ye extends Fe{constructor(){super(...arguments);F(this,"FIB",new Map);F(this,"LIB",new Map);F(this,"allowedConnections",["CE","LSR"]);F(this,"addEmptyFIBEntry",()=>{this.FIB.set("0",{label:0,nextHop:"0"})});F(this,"addEmptyLIBEntry",()=>{this.LIB.set(0,{outgoingLabel:0,nextHop:"0"})});F(this,"updateFIBAddress",(t,l)=>{const s=this.FIB.get(t);if(!s)throw new Error(`Unable to update old FIB address '${t}' to '${l}'.`);this.FIB.set(l,s),this.FIB.delete(t)});F(this,"updateLIBLabel",(t,l)=>{const s=this.LIB.get(t);if(!s)throw new Error(`Unable to update old LIB label '${t}' to '${l}'.`);this.LIB.set(l,s),this.LIB.delete(t)});F(this,"deleteFIBEntry",t=>{this.FIB.delete(t)});F(this,"deleteLIBEntry",t=>{this.LIB.delete(t)});F(this,"receiveFIBEntry",(t,l,s)=>{this.FIB.set(t,{label:l,nextHop:s})});F(this,"receiveLIBEntry",(t,l,s)=>{this.LIB.set(t,{outgoingLabel:l,nextHop:s})})}receivePacket(t){var s,o,i,r;const l=t.destination;if(t.label===-1){const a=(s=this.FIB.get(l.address))==null?void 0:s.nextHop;if(!a)return;const _=(o=this.FIB.get(l.address))==null?void 0:o.label;if(!_)return;t.label=_,t.node={x:this.node.x,y:this.node.y};const c=K.getRouter(parseInt(a));if(!c)return;t.nextHop=c}else{const a=(i=this.LIB.get(t.label))==null?void 0:i.nextHop;if(!a)return;const _=(r=this.LIB.get(t.label))==null?void 0:r.outgoingLabel;if(!_)return;t.label=_,t.node={x:this.node.x,y:this.node.y};const c=K.routers.find(d=>d instanceof _e&&d.address===a);if(!c)return;t.nextHop=c}t.ttl--}get type(){return"LER"}}class Te extends Fe{constructor(){super(...arguments);F(this,"LIB",new Map);F(this,"allowedConnections",["LSR","LER"]);F(this,"addEmptyLIBEntry",()=>{this.LIB.set(0,{outgoingLabel:0,nextHop:"0"})});F(this,"updateLIBLabel",(t,l)=>{const s=this.LIB.get(t);if(!s)throw new Error(`Unable to update old LIB label '${t}' to '${l}'.`);this.LIB.set(l,s),this.LIB.delete(t)});F(this,"deleteLIBEntry",t=>{this.LIB.delete(t)});F(this,"receiveLIBEntry",(t,l,s)=>{this.LIB.set(t,{outgoingLabel:l,nextHop:s})})}receivePacket(t){var i,r;const l=(i=this.LIB.get(t.label))==null?void 0:i.nextHop;if(!l)return;const s=(r=this.LIB.get(t.label))==null?void 0:r.outgoingLabel;if(!s)return;t.label=s;const o=K.getRouter(parseInt(l));o&&(t.nextHop=o,t.ttl-=1)}get type(){return"LSR"}}class Et{constructor(){F(this,"store",$e({routers:[],connections:[],packets:[]}));F(this,"set",this.store.set);F(this,"update",this.store.update);F(this,"subscribe",this.store.subscribe);F(this,"_routers",[]);F(this,"_connections",[]);F(this,"_packets",[]);F(this,"routerMap",new Map);F(this,"routerCounter",0);F(this,"packetCounter",0)}get routers(){return this._routers}get connections(){return this._connections}get packets(){return this._packets}get networkState(){return{routers:this.routers,connections:this.connections,packets:this.packets}}addConnection(e){e.source!==e.target&&e.source.allowedConnections.includes(e.target.type)&&(this.doesConnectionExist(e)||this.doesConnectionExist({source:e.target,target:e.source})||(this._connections.push({id:`connection-${e.source.id}-${e.target.id}`,...e,bandwidth:0,distance:0,weight:0}),this.fastUpdate()))}deleteConnection(e){this._connections=this._connections.filter(t=>t.id!==e),this.fastUpdate()}doesConnectionExist(e){return this._connections.some(t=>t.source===e.source&&t.target===e.target)}createCE(e){const t=new _e(this.routerCounter++,e);this.addRouter(t)}createLER(e){const t=new ye(this.routerCounter++,e);this.addRouter(t)}createLSR(e){const t=new Te(this.routerCounter++,e);this.addRouter(t)}addRouter(e){this._routers.push(e),this.routerMap.set(e.id,e),this.fastUpdate()}deleteRouter(e){this.getRouter(e)&&(this._routers=this._routers.filter(l=>l.id!==e),this._connections=this._connections.filter(l=>l.source.id!==e&&l.target.id!==e),this.routerMap.delete(e),this.fastUpdate())}getRouter(e){return this.routerMap.get(e)}getSureRouter(e){const t=this.getRouter(e);if(!t)throw new Error(`Router with id ${e} not found`);return t}addPacket(e,t){const l=new Ct(this.packetCounter++,e,t,{x:e.node.x,y:e.node.y});this._packets.push(l),this.fastUpdate()}deletePacket(e){this._packets=this._packets.filter(t=>t.id!==e),this.fastUpdate()}clear(){this._routers=[],this._connections=[],this._packets=[],this.routerMap.clear(),this.routerCounter=0,this.packetCounter=0,this.fastUpdate()}fastUpdate(){this.store.set(this.networkState)}}const Bt=new Et,K=Bt,Le=$e(!1);function Lt(n){let e,t,l,s;const o=n[2].default,i=ut(o,n,n[1],null);return{c(){e=B("dialog"),i&&i.c(),this.h()},l(r){e=L(r,"DIALOG",{class:!0});var a=O(e);i&&i.l(a),a.forEach(b),this.h()},h(){g(e,"class","svelte-414ocx")},m(r,a){E(r,e,a),i&&i.m(e,null),n[4](e),t=!0,l||(s=x(e,"close",n[3]),l=!0)},p(r,[a]){i&&i.p&&(!t||a&2)&&at(i,o,r,r[1],t?ct(o,r[1],a,null):ft(r[1]),null)},i(r){t||(X(i,r),t=!0)},o(r){W(i,r),t=!1},d(r){r&&b(e),i&&i.d(r),n[4](null),l=!1,s()}}}function It(n,e,t){let{$$slots:l={},$$scope:s}=e,{dialog:o}=e;function i(a){dt.call(this,n,a)}function r(a){he[a?"unshift":"push"](()=>{o=a,t(0,o)})}return n.$$set=a=>{"dialog"in a&&t(0,o=a.dialog),"$$scope"in a&&t(1,s=a.$$scope)},[o,s,l,i,r]}class Oe extends fe{constructor(e){super(),ce(this,e,It,Lt,ae,{dialog:0})}}function xe(n,e,t){const l=n.slice();return l[25]=e[t][0],l[26]=e[t][1],l[32]=e,l[33]=t,l}function Se(n,e,t){const l=n.slice();return l[25]=e[t][0],l[26]=e[t][1],l[27]=e,l[28]=t,l}function ze(n,e,t){const l=n.slice();return l[29]=e[t][0],l[26]=e[t][1],l[30]=e,l[31]=t,l}function Ye(n,e,t){const l=n.slice();return l[22]=e[t],l[23]=e,l[24]=t,l}function Tt(n){let e,t="LIB:",l,s,o,i='<th class="svelte-71n8bk">Incoming</th> <th class="svelte-71n8bk">Outgoing</th> <th class="svelte-71n8bk">Next hop</th>',r,a,_,c="+",d,u,h=Q([...n[0].LIB]),v=[];for(let m=0;m<h.length;m+=1)v[m]=je(xe(n,h,m));return{c(){e=B("p"),e.textContent=t,l=U(),s=B("table"),o=B("tr"),o.innerHTML=i,r=U();for(let m=0;m<v.length;m+=1)v[m].c();a=U(),_=B("button"),_.textContent=c,this.h()},l(m){e=L(m,"P",{"data-svelte-h":!0}),V(e)!=="svelte-1j64kst"&&(e.textContent=t),l=$(m),s=L(m,"TABLE",{class:!0});var C=O(s);o=L(C,"TR",{"data-svelte-h":!0}),V(o)!=="svelte-1nxelgl"&&(o.innerHTML=i),r=$(C);for(let f=0;f<v.length;f+=1)v[f].l(C);C.forEach(b),a=$(m),_=L(m,"BUTTON",{class:!0,"data-svelte-h":!0}),V(_)!=="svelte-tb5kpv"&&(_.textContent=c),this.h()},h(){g(s,"class","svelte-71n8bk"),g(_,"class","svelte-71n8bk")},m(m,C){E(m,e,C),E(m,l,C),E(m,s,C),I(s,o),I(s,r);for(let f=0;f<v.length;f+=1)v[f]&&v[f].m(s,null);E(m,a,C),E(m,_,C),d||(u=x(_,"click",function(){Re(n[1](n[0].addEmptyLIBEntry))&&n[1](n[0].addEmptyLIBEntry).apply(this,arguments)}),d=!0)},p(m,C){if(n=m,C[0]&9){h=Q([...n[0].LIB]);let f;for(f=0;f<h.length;f+=1){const p=xe(n,h,f);v[f]?v[f].p(p,C):(v[f]=je(p),v[f].c(),v[f].m(s,null))}for(;f<v.length;f+=1)v[f].d(1);v.length=h.length}},d(m){m&&(b(e),b(l),b(s),b(a),b(_)),Be(v,m),d=!1,u()}}}function Rt(n){let e,t="FIB:",l,s,o,i='<th class="svelte-71n8bk">Address</th> <th class="svelte-71n8bk">Label</th> <th class="svelte-71n8bk">Next hop</th>',r,a,_,c="+",d,u,h="LIB:",v,m,C,f='<th class="svelte-71n8bk">Incoming</th> <th class="svelte-71n8bk">Outgoing</th> <th class="svelte-71n8bk">Next hop</th>',p,T,q,H="+",R,A,S=Q([...n[0].FIB]),y=[];for(let P=0;P<S.length;P+=1)y[P]=qe(ze(n,S,P));let k=Q([...n[0].LIB]),D=[];for(let P=0;P<k.length;P+=1)D[P]=Xe(Se(n,k,P));return{c(){e=B("p"),e.textContent=t,l=U(),s=B("table"),o=B("tr"),o.innerHTML=i,r=U();for(let P=0;P<y.length;P+=1)y[P].c();a=U(),_=B("button"),_.textContent=c,d=U(),u=B("p"),u.textContent=h,v=U(),m=B("table"),C=B("tr"),C.innerHTML=f,p=U();for(let P=0;P<D.length;P+=1)D[P].c();T=U(),q=B("button"),q.textContent=H,this.h()},l(P){e=L(P,"P",{"data-svelte-h":!0}),V(e)!=="svelte-1j6bdhj"&&(e.textContent=t),l=$(P),s=L(P,"TABLE",{class:!0});var Y=O(s);o=L(Y,"TR",{"data-svelte-h":!0}),V(o)!=="svelte-9j9p47"&&(o.innerHTML=i),r=$(Y);for(let J=0;J<y.length;J+=1)y[J].l(Y);Y.forEach(b),a=$(P),_=L(P,"BUTTON",{class:!0,"data-svelte-h":!0}),V(_)!=="svelte-j46m6p"&&(_.textContent=c),d=$(P),u=L(P,"P",{"data-svelte-h":!0}),V(u)!=="svelte-1j64kst"&&(u.textContent=h),v=$(P),m=L(P,"TABLE",{class:!0});var N=O(m);C=L(N,"TR",{"data-svelte-h":!0}),V(C)!=="svelte-1nxelgl"&&(C.innerHTML=f),p=$(N);for(let J=0;J<D.length;J+=1)D[J].l(N);N.forEach(b),T=$(P),q=L(P,"BUTTON",{class:!0,"data-svelte-h":!0}),V(q)!=="svelte-tb5kpv"&&(q.textContent=H),this.h()},h(){g(s,"class","svelte-71n8bk"),g(_,"class","svelte-71n8bk"),g(m,"class","svelte-71n8bk"),g(q,"class","svelte-71n8bk")},m(P,Y){E(P,e,Y),E(P,l,Y),E(P,s,Y),I(s,o),I(s,r);for(let N=0;N<y.length;N+=1)y[N]&&y[N].m(s,null);E(P,a,Y),E(P,_,Y),E(P,d,Y),E(P,u,Y),E(P,v,Y),E(P,m,Y),I(m,C),I(m,p);for(let N=0;N<D.length;N+=1)D[N]&&D[N].m(m,null);E(P,T,Y),E(P,q,Y),R||(A=[x(_,"click",function(){Re(n[1](n[0].addEmptyFIBEntry))&&n[1](n[0].addEmptyFIBEntry).apply(this,arguments)}),x(q,"click",function(){Re(n[1](n[0].addEmptyLIBEntry))&&n[1](n[0].addEmptyLIBEntry).apply(this,arguments)})],R=!0)},p(P,Y){if(n=P,Y[0]&5){S=Q([...n[0].FIB]);let N;for(N=0;N<S.length;N+=1){const J=ze(n,S,N);y[N]?y[N].p(J,Y):(y[N]=qe(J),y[N].c(),y[N].m(s,null))}for(;N<y.length;N+=1)y[N].d(1);y.length=S.length}if(Y[0]&9){k=Q([...n[0].LIB]);let N;for(N=0;N<k.length;N+=1){const J=Se(n,k,N);D[N]?D[N].p(J,Y):(D[N]=Xe(J),D[N].c(),D[N].m(m,null))}for(;N<D.length;N+=1)D[N].d(1);D.length=k.length}},d(P){P&&(b(e),b(l),b(s),b(a),b(_),b(d),b(u),b(v),b(m),b(T),b(q)),Be(y,P),Be(D,P),R=!1,pe(A)}}}function Nt(n){let e,t="Flows:",l,s,o,i='<th class="svelte-71n8bk">Size (Megabits)</th> <th class="svelte-71n8bk">Destination</th>',r,a,_,c="+",d,u,h=Q(n[0].flows),v=[];for(let m=0;m<h.length;m+=1)v[m]=Ge(Ye(n,h,m));return{c(){e=B("p"),e.textContent=t,l=U(),s=B("table"),o=B("tr"),o.innerHTML=i,r=U();for(let m=0;m<v.length;m+=1)v[m].c();a=U(),_=B("button"),_.textContent=c,this.h()},l(m){e=L(m,"P",{"data-svelte-h":!0}),V(e)!=="svelte-twjhxn"&&(e.textContent=t),l=$(m),s=L(m,"TABLE",{class:!0});var C=O(s);o=L(C,"TR",{"data-svelte-h":!0}),V(o)!=="svelte-1aanzqs"&&(o.innerHTML=i),r=$(C);for(let f=0;f<v.length;f+=1)v[f].l(C);C.forEach(b),a=$(m),_=L(m,"BUTTON",{class:!0,"data-svelte-h":!0}),V(_)!=="svelte-bqeh8i"&&(_.textContent=c),this.h()},h(){g(s,"class","svelte-71n8bk"),g(_,"class","svelte-71n8bk")},m(m,C){E(m,e,C),E(m,l,C),E(m,s,C),I(s,o),I(s,r);for(let f=0;f<v.length;f+=1)v[f]&&v[f].m(s,null);E(m,a,C),E(m,_,C),d||(u=x(_,"click",function(){Re(n[1](n[0].addEmptyFlow))&&n[1](n[0].addEmptyFlow).apply(this,arguments)}),d=!0)},p(m,C){if(n=m,C[0]&17){h=Q(n[0].flows);let f;for(f=0;f<h.length;f+=1){const p=Ye(n,h,f);v[f]?v[f].p(p,C):(v[f]=Ge(p),v[f].c(),v[f].m(s,null))}for(;f<v.length;f+=1)v[f].d(1);v.length=h.length}},d(m){m&&(b(e),b(l),b(s),b(a),b(_)),Be(v,m),d=!1,u()}}}function je(n){let e,t,l,s,o,i,r,a,_,c,d,u,h="-",v,m,C;function f(...H){return n[17](n[25],...H)}function p(){n[18].call(r,n[32],n[33])}function T(){n[19].call(c,n[32],n[33])}function q(){return n[20](n[25])}return{c(){e=B("tr"),t=B("td"),l=B("input"),o=U(),i=B("td"),r=B("input"),a=U(),_=B("td"),c=B("input"),d=U(),u=B("button"),u.textContent=h,v=U(),this.h()},l(H){e=L(H,"TR",{});var R=O(e);t=L(R,"TD",{class:!0});var A=O(t);l=L(A,"INPUT",{type:!0,class:!0}),A.forEach(b),o=$(R),i=L(R,"TD",{class:!0});var S=O(i);r=L(S,"INPUT",{type:!0,class:!0}),S.forEach(b),a=$(R),_=L(R,"TD",{class:!0});var y=O(_);c=L(y,"INPUT",{type:!0,class:!0}),y.forEach(b),d=$(R),u=L(R,"BUTTON",{class:!0,"data-svelte-h":!0}),V(u)!=="svelte-1jia542"&&(u.textContent=h),v=$(R),R.forEach(b),this.h()},h(){g(l,"type","number"),l.value=s=n[25],g(l,"class","svelte-71n8bk"),g(t,"class","svelte-71n8bk"),g(r,"type","number"),g(r,"class","svelte-71n8bk"),g(i,"class","svelte-71n8bk"),g(c,"type","text"),g(c,"class","svelte-71n8bk"),g(_,"class","svelte-71n8bk"),g(u,"class","svelte-71n8bk")},m(H,R){E(H,e,R),I(e,t),I(t,l),I(e,o),I(e,i),I(i,r),G(r,n[26].outgoingLabel),I(e,a),I(e,_),I(_,c),G(c,n[26].nextHop),I(e,d),I(e,u),I(e,v),m||(C=[x(l,"change",f),x(r,"input",p),x(c,"input",T),x(u,"click",q)],m=!0)},p(H,R){n=H,R[0]&1&&s!==(s=n[25])&&l.value!==s&&(l.value=s),R[0]&1&&Z(r.value)!==n[26].outgoingLabel&&G(r,n[26].outgoingLabel),R[0]&1&&c.value!==n[26].nextHop&&G(c,n[26].nextHop)},d(H){H&&b(e),m=!1,pe(C)}}}function qe(n){let e,t,l,s,o,i,r,a,_,c,d,u,h="-",v,m,C;function f(...H){return n[9](n[29],...H)}function p(){n[10].call(r,n[30],n[31])}function T(){n[11].call(c,n[30],n[31])}function q(){return n[12](n[29])}return{c(){e=B("tr"),t=B("td"),l=B("input"),o=U(),i=B("td"),r=B("input"),a=U(),_=B("td"),c=B("input"),d=U(),u=B("button"),u.textContent=h,v=U(),this.h()},l(H){e=L(H,"TR",{});var R=O(e);t=L(R,"TD",{class:!0});var A=O(t);l=L(A,"INPUT",{type:!0,class:!0}),A.forEach(b),o=$(R),i=L(R,"TD",{class:!0});var S=O(i);r=L(S,"INPUT",{type:!0,class:!0}),S.forEach(b),a=$(R),_=L(R,"TD",{class:!0});var y=O(_);c=L(y,"INPUT",{type:!0,class:!0}),y.forEach(b),d=$(R),u=L(R,"BUTTON",{class:!0,"data-svelte-h":!0}),V(u)!=="svelte-t02fbo"&&(u.textContent=h),v=$(R),R.forEach(b),this.h()},h(){g(l,"type","text"),l.value=s=n[29],g(l,"class","svelte-71n8bk"),g(t,"class","svelte-71n8bk"),g(r,"type","number"),g(r,"class","svelte-71n8bk"),g(i,"class","svelte-71n8bk"),g(c,"type","text"),g(c,"class","svelte-71n8bk"),g(_,"class","svelte-71n8bk"),g(u,"class","svelte-71n8bk")},m(H,R){E(H,e,R),I(e,t),I(t,l),I(e,o),I(e,i),I(i,r),G(r,n[26].label),I(e,a),I(e,_),I(_,c),G(c,n[26].nextHop),I(e,d),I(e,u),I(e,v),m||(C=[x(l,"change",f),x(r,"input",p),x(c,"input",T),x(u,"click",q)],m=!0)},p(H,R){n=H,R[0]&1&&s!==(s=n[29])&&l.value!==s&&(l.value=s),R[0]&1&&Z(r.value)!==n[26].label&&G(r,n[26].label),R[0]&1&&c.value!==n[26].nextHop&&G(c,n[26].nextHop)},d(H){H&&b(e),m=!1,pe(C)}}}function Xe(n){let e,t,l,s,o,i,r,a,_,c,d,u,h="-",v,m,C;function f(...H){return n[13](n[25],...H)}function p(){n[14].call(r,n[27],n[28])}function T(){n[15].call(c,n[27],n[28])}function q(){return n[16](n[25])}return{c(){e=B("tr"),t=B("td"),l=B("input"),o=U(),i=B("td"),r=B("input"),a=U(),_=B("td"),c=B("input"),d=U(),u=B("button"),u.textContent=h,v=U(),this.h()},l(H){e=L(H,"TR",{});var R=O(e);t=L(R,"TD",{class:!0});var A=O(t);l=L(A,"INPUT",{type:!0,class:!0}),A.forEach(b),o=$(R),i=L(R,"TD",{class:!0});var S=O(i);r=L(S,"INPUT",{type:!0,class:!0}),S.forEach(b),a=$(R),_=L(R,"TD",{class:!0});var y=O(_);c=L(y,"INPUT",{type:!0,class:!0}),y.forEach(b),d=$(R),u=L(R,"BUTTON",{class:!0,"data-svelte-h":!0}),V(u)!=="svelte-19m5ayk"&&(u.textContent=h),v=$(R),R.forEach(b),this.h()},h(){g(l,"type","number"),l.value=s=n[25],g(l,"class","svelte-71n8bk"),g(t,"class","svelte-71n8bk"),g(r,"type","number"),g(r,"class","svelte-71n8bk"),g(i,"class","svelte-71n8bk"),g(c,"type","text"),g(c,"class","svelte-71n8bk"),g(_,"class","svelte-71n8bk"),g(u,"class","svelte-71n8bk")},m(H,R){E(H,e,R),I(e,t),I(t,l),I(e,o),I(e,i),I(i,r),G(r,n[26].outgoingLabel),I(e,a),I(e,_),I(_,c),G(c,n[26].nextHop),I(e,d),I(e,u),I(e,v),m||(C=[x(l,"change",f),x(r,"input",p),x(c,"input",T),x(u,"click",q)],m=!0)},p(H,R){n=H,R[0]&1&&s!==(s=n[25])&&l.value!==s&&(l.value=s),R[0]&1&&Z(r.value)!==n[26].outgoingLabel&&G(r,n[26].outgoingLabel),R[0]&1&&c.value!==n[26].nextHop&&G(c,n[26].nextHop)},d(H){H&&b(e),m=!1,pe(C)}}}function Ge(n){let e,t,l,s,o,i,r,a,_="-",c,d,u;function h(){n[5].call(l,n[23],n[24])}function v(){n[6].call(i,n[23],n[24])}function m(){return n[8](n[24])}return{c(){e=B("tr"),t=B("td"),l=B("input"),s=U(),o=B("td"),i=B("input"),r=U(),a=B("button"),a.textContent=_,c=U(),this.h()},l(C){e=L(C,"TR",{});var f=O(e);t=L(f,"TD",{class:!0});var p=O(t);l=L(p,"INPUT",{type:!0,class:!0}),p.forEach(b),s=$(f),o=L(f,"TD",{class:!0});var T=O(o);i=L(T,"INPUT",{type:!0,placeholder:!0,class:!0}),T.forEach(b),r=$(f),a=L(f,"BUTTON",{class:!0,"data-svelte-h":!0}),V(a)!=="svelte-1px6e5a"&&(a.textContent=_),c=$(f),f.forEach(b),this.h()},h(){g(l,"type","number"),g(l,"class","svelte-71n8bk"),g(t,"class","svelte-71n8bk"),g(i,"type","text"),g(i,"placeholder","Address"),g(i,"class","svelte-71n8bk"),g(o,"class","svelte-71n8bk"),g(a,"class","svelte-71n8bk")},m(C,f){E(C,e,f),I(e,t),I(t,l),G(l,n[22].size),I(e,s),I(e,o),I(o,i),G(i,n[22].destination),I(e,r),I(e,a),I(e,c),d||(u=[x(l,"input",h),x(i,"input",v),x(i,"change",n[7]),x(a,"click",m)],d=!0)},p(C,f){n=C,f[0]&1&&Z(l.value)!==n[22].size&&G(l,n[22].size),f[0]&1&&i.value!==n[22].destination&&G(i,n[22].destination)},d(C){C&&b(e),d=!1,pe(u)}}}function Pt(n){let e;function t(o,i){if(o[0]instanceof _e)return Nt;if(o[0]instanceof ye)return Rt;if(o[0]instanceof Te)return Tt}let l=t(n),s=l&&l(n);return{c(){s&&s.c(),e=te()},l(o){s&&s.l(o),e=te()},m(o,i){s&&s.m(o,i),E(o,e,i)},p(o,i){l===(l=t(o))&&s?s.p(o,i):(s&&s.d(1),s=l&&l(o),s&&(s.c(),s.m(e.parentNode,e)))},i:ee,o:ee,d(o){o&&b(e),s&&s.d(o)}}}function Dt(n,e,t){let l;ve(n,K,y=>t(21,l=y));let{router:s}=e;function o(y){return()=>{y(),t(0,s)}}function i(y,k){if(!(y.target instanceof HTMLInputElement)||!(s instanceof ye))return;const D=y.target.value;if(s.FIB.get(D)){alert("Address already exists in FIB.");return}s.updateFIBAddress(k,D)}function r(y,k){if(!(y.target instanceof HTMLInputElement)||!(s instanceof Te))return;const D=parseInt(y.target.value);if(s.LIB.get(D)){alert("Label already exists in LIB.");return}s.updateLIBLabel(k,D)}function a(y){if(!(y.target instanceof HTMLInputElement)||!(s instanceof _e))return;const k=y.target.value,P=l.routers.filter(de=>de instanceof _e).find(de=>de.address===k);if(!P){alert("Destination router not found.");return}const Y=He.findShortestPath(s,P);let N,J=!0;for(let de=Y.length-1;de>0;de--){const M=Y[de],z=Y[de-1],w=N??Math.floor(Math.random()*((M.id+1)*1e3));N=Math.floor(Math.random()*((z.id+1)*1e3)),z instanceof ye&&J?(z.receiveLIBEntry(N,-1,k),J=!1):z instanceof ye&&!J?z.receiveFIBEntry(k,w,M.id.toString()):z instanceof Te&&z.receiveLIBEntry(N,w,M.id.toString())}}function _(y,k){y[k].size=Z(this.value),t(0,s)}function c(y,k){y[k].destination=this.value,t(0,s)}const d=y=>{a(y)},u=y=>{s instanceof _e&&(s.deleteFlow(y),t(0,s))},h=(y,k)=>{i(k,y)};function v(y,k){y[k][1].label=Z(this.value),t(0,s)}function m(y,k){y[k][1].nextHop=this.value,t(0,s)}const C=y=>{s instanceof ye&&(s.deleteFIBEntry(y),t(0,s))},f=(y,k)=>{r(k,y)};function p(y,k){y[k][1].outgoingLabel=Z(this.value),t(0,s)}function T(y,k){y[k][1].nextHop=this.value,t(0,s)}const q=y=>{s instanceof ye&&(s.deleteLIBEntry(y),t(0,s))},H=(y,k)=>{r(k,y)};function R(y,k){y[k][1].outgoingLabel=Z(this.value),t(0,s)}function A(y,k){y[k][1].nextHop=this.value,t(0,s)}const S=y=>{s instanceof Te&&(s.deleteLIBEntry(y),t(0,s))};return n.$$set=y=>{"router"in y&&t(0,s=y.router)},[s,o,i,r,a,_,c,d,u,h,v,m,C,f,p,T,q,H,R,A,S]}class Mt extends fe{constructor(e){super(),ce(this,e,Dt,Pt,ae,{router:0},null,[-1,-1])}}function Ut(n){let e,t="You somehow double-clicked on a router that can't be found?";return{c(){e=B("p"),e.textContent=t},l(l){e=L(l,"P",{"data-svelte-h":!0}),V(e)!=="svelte-1214eal"&&(e.textContent=t)},m(l,s){E(l,e,s)},p:ee,i:ee,o:ee,d(l){l&&b(e)}}}function $t(n){let e,t,l,s,o,i,r=n[0].id+"",a,_,c,d,u=n[0].type+"",h,v,m,C,f,p,T,q,H,R,A,S,y,k="Delete Router",D,P,Y,N=n[0]instanceof _e&&Ve(n);function J(M){n[7](M)}let de={};return n[0]!==void 0&&(de.router=n[0]),R=new Mt({props:de}),he.push(()=>be(R,"router",J)),{c(){e=B("label"),t=le(`Label:
      `),l=B("input"),s=U(),o=B("p"),i=le("ID: "),a=le(r),_=U(),c=B("p"),d=le("Type: "),h=le(u),v=U(),m=B("label"),C=le(`Position:
      `),f=B("input"),p=U(),T=B("input"),q=U(),N&&N.c(),H=U(),se(R.$$.fragment),S=U(),y=B("button"),y.textContent=k,this.h()},l(M){e=L(M,"LABEL",{});var z=O(e);t=oe(z,`Label:
      `),l=L(z,"INPUT",{type:!0}),z.forEach(b),s=$(M),o=L(M,"P",{});var w=O(o);i=oe(w,"ID: "),a=oe(w,r),w.forEach(b),_=$(M),c=L(M,"P",{});var j=O(c);d=oe(j,"Type: "),h=oe(j,u),j.forEach(b),v=$(M),m=L(M,"LABEL",{});var ne=O(m);C=oe(ne,`Position:
      `),f=L(ne,"INPUT",{type:!0}),p=$(ne),T=L(ne,"INPUT",{type:!0}),ne.forEach(b),q=$(M),N&&N.l(M),H=$(M),ie(R.$$.fragment,M),S=$(M),y=L(M,"BUTTON",{"data-svelte-h":!0}),V(y)!=="svelte-ufhzdt"&&(y.textContent=k),this.h()},h(){g(l,"type","text"),g(f,"type","number"),f.disabled=n[2],g(T,"type","number"),T.disabled=n[2]},m(M,z){E(M,e,z),I(e,t),I(e,l),G(l,n[0].node.label),E(M,s,z),E(M,o,z),I(o,i),I(o,a),E(M,_,z),E(M,c,z),I(c,d),I(c,h),E(M,v,z),E(M,m,z),I(m,C),I(m,f),G(f,n[0].node.x),I(m,p),I(m,T),G(T,n[0].node.y),E(M,q,z),N&&N.m(M,z),E(M,H,z),re(R,M,z),E(M,S,z),E(M,y,z),D=!0,P||(Y=[x(l,"input",n[4]),x(f,"input",n[5]),x(T,"input",n[6]),x(y,"click",n[3])],P=!0)},p(M,z){z&1&&l.value!==M[0].node.label&&G(l,M[0].node.label),(!D||z&1)&&r!==(r=M[0].id+"")&&we(a,r),(!D||z&1)&&u!==(u=M[0].type+"")&&we(h,u),(!D||z&4)&&(f.disabled=M[2]),z&1&&Z(f.value)!==M[0].node.x&&G(f,M[0].node.x),(!D||z&4)&&(T.disabled=M[2]),z&1&&Z(T.value)!==M[0].node.y&&G(T,M[0].node.y),M[0]instanceof _e?N?N.p(M,z):(N=Ve(M),N.c(),N.m(H.parentNode,H)):N&&(N.d(1),N=null);const w={};!A&&z&1&&(A=!0,w.router=M[0],ge(()=>A=!1)),R.$set(w)},i(M){D||(X(R.$$.fragment,M),D=!0)},o(M){W(R.$$.fragment,M),D=!1},d(M){M&&(b(e),b(s),b(o),b(_),b(c),b(v),b(m),b(q),b(H),b(S),b(y)),N&&N.d(M),ue(R,M),P=!1,pe(Y)}}}function Ve(n){let e,t,l=n[0].address+"",s;return{c(){e=B("p"),t=le("Address: "),s=le(l)},l(o){e=L(o,"P",{});var i=O(e);t=oe(i,"Address: "),s=oe(i,l),i.forEach(b)},m(o,i){E(o,e,i),I(e,t),I(e,s)},p(o,i){i&1&&l!==(l=o[0].address+"")&&we(s,l)},d(o){o&&b(e)}}}function Ht(n){let e,t,l,s;const o=[$t,Ut],i=[];function r(a,_){return a[0]?0:1}return e=r(n),t=i[e]=o[e](n),{c(){t.c(),l=te()},l(a){t.l(a),l=te()},m(a,_){i[e].m(a,_),E(a,l,_),s=!0},p(a,_){let c=e;e=r(a),e===c?i[e].p(a,_):(Ce(),W(i[c],1,1,()=>{i[c]=null}),Ee(),t=i[e],t?t.p(a,_):(t=i[e]=o[e](a),t.c()),X(t,1),t.m(l.parentNode,l))},i(a){s||(X(t),s=!0)},o(a){W(t),s=!1},d(a){a&&b(l),i[e].d(a)}}}function Ft(n){let e,t,l;function s(i){n[8](i)}let o={$$slots:{default:[Ht]},$$scope:{ctx:n}};return n[1]!==void 0&&(o.dialog=n[1]),e=new Oe({props:o}),he.push(()=>be(e,"dialog",s)),e.$on("close",n[9]),{c(){se(e.$$.fragment)},l(i){ie(e.$$.fragment,i)},m(i,r){re(e,i,r),l=!0},p(i,[r]){const a={};r&1029&&(a.$$scope={dirty:r,ctx:i}),!t&&r&2&&(t=!0,a.dialog=i[1],ge(()=>t=!1)),e.$set(a)},i(i){l||(X(e.$$.fragment,i),l=!0)},o(i){W(e.$$.fragment,i),l=!1},d(i){ue(e,i)}}}function Ot(n,e,t){let l;ve(n,Le,h=>t(2,l=h));let{router:s}=e,{dialog:o}=e;function i(){!l&&s&&confirm("Are you sure you want to delete this router?")&&(K.deleteRouter(s.id),o.close())}function r(){s.node.label=this.value,t(0,s)}function a(){s.node.x=Z(this.value),t(0,s)}function _(){s.node.y=Z(this.value),t(0,s)}function c(h){s=h,t(0,s)}function d(h){o=h,t(1,o)}const u=()=>{K.fastUpdate()};return n.$$set=h=>{"router"in h&&t(0,s=h.router),"dialog"in h&&t(1,o=h.dialog)},[s,o,l,i,r,a,_,c,d,u]}class At extends fe{constructor(e){super(),ce(this,e,Ot,Ft,ae,{router:0,dialog:1})}}function xt(n){let e,t="You somehow double-clicked on a connection that can't be found?";return{c(){e=B("p"),e.textContent=t},l(l){e=L(l,"P",{"data-svelte-h":!0}),V(e)!=="svelte-139v24q"&&(e.textContent=t)},m(l,s){E(l,e,s)},p:ee,d(l){l&&b(e)}}}function St(n){let e,t,l,s,o,i,r,a,_,c,d,u,h,v="Delete Connection",m,C;return{c(){e=B("label"),t=le(`Bandwidth:
      `),l=B("input"),s=U(),o=B("label"),i=le(`Distance:
      `),r=B("input"),a=U(),_=B("label"),c=le(`Weight:
      `),d=B("input"),u=U(),h=B("button"),h.textContent=v,this.h()},l(f){e=L(f,"LABEL",{class:!0});var p=O(e);t=oe(p,`Bandwidth:
      `),l=L(p,"INPUT",{type:!0,class:!0}),p.forEach(b),s=$(f),o=L(f,"LABEL",{class:!0});var T=O(o);i=oe(T,`Distance:
      `),r=L(T,"INPUT",{type:!0,class:!0}),T.forEach(b),a=$(f),_=L(f,"LABEL",{class:!0});var q=O(_);c=oe(q,`Weight:
      `),d=L(q,"INPUT",{type:!0,class:!0}),q.forEach(b),u=$(f),h=L(f,"BUTTON",{"data-svelte-h":!0}),V(h)!=="svelte-10n96bo"&&(h.textContent=v),this.h()},h(){g(l,"type","number"),l.disabled=n[2],g(l,"class","svelte-mdz6ho"),g(e,"class","svelte-mdz6ho"),g(r,"type","number"),r.disabled=n[2],g(r,"class","svelte-mdz6ho"),g(o,"class","svelte-mdz6ho"),g(d,"type","number"),d.disabled=n[2],g(d,"class","svelte-mdz6ho"),g(_,"class","svelte-mdz6ho")},m(f,p){E(f,e,p),I(e,t),I(e,l),G(l,n[0].bandwidth),E(f,s,p),E(f,o,p),I(o,i),I(o,r),G(r,n[0].distance),E(f,a,p),E(f,_,p),I(_,c),I(_,d),G(d,n[0].weight),E(f,u,p),E(f,h,p),m||(C=[x(l,"input",n[4]),x(r,"input",n[5]),x(d,"input",n[6]),x(h,"click",n[3])],m=!0)},p(f,p){p&4&&(l.disabled=f[2]),p&1&&Z(l.value)!==f[0].bandwidth&&G(l,f[0].bandwidth),p&4&&(r.disabled=f[2]),p&1&&Z(r.value)!==f[0].distance&&G(r,f[0].distance),p&4&&(d.disabled=f[2]),p&1&&Z(d.value)!==f[0].weight&&G(d,f[0].weight)},d(f){f&&(b(e),b(s),b(o),b(a),b(_),b(u),b(h)),m=!1,pe(C)}}}function zt(n){let e;function t(o,i){return o[0]?St:xt}let l=t(n),s=l(n);return{c(){s.c(),e=te()},l(o){s.l(o),e=te()},m(o,i){s.m(o,i),E(o,e,i)},p(o,i){l===(l=t(o))&&s?s.p(o,i):(s.d(1),s=l(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){o&&b(e),s.d(o)}}}function Yt(n){let e,t,l;function s(i){n[7](i)}let o={$$slots:{default:[zt]},$$scope:{ctx:n}};return n[1]!==void 0&&(o.dialog=n[1]),e=new Oe({props:o}),he.push(()=>be(e,"dialog",s)),e.$on("close",n[8]),{c(){se(e.$$.fragment)},l(i){ie(e.$$.fragment,i)},m(i,r){re(e,i,r),l=!0},p(i,[r]){const a={};r&517&&(a.$$scope={dirty:r,ctx:i}),!t&&r&2&&(t=!0,a.dialog=i[1],ge(()=>t=!1)),e.$set(a)},i(i){l||(X(e.$$.fragment,i),l=!0)},o(i){W(e.$$.fragment,i),l=!1},d(i){ue(e,i)}}}function jt(n,e,t){let l;ve(n,Le,u=>t(2,l=u));let{connection:s}=e,{dialog:o}=e;function i(){!l&&s&&confirm("Are you sure you want to delete this connection?")&&(K.deleteConnection(s.id),o.close())}function r(){s.bandwidth=Z(this.value),t(0,s)}function a(){s.distance=Z(this.value),t(0,s)}function _(){s.weight=Z(this.value),t(0,s)}function c(u){o=u,t(1,o)}const d=()=>{K.fastUpdate()};return n.$$set=u=>{"connection"in u&&t(0,s=u.connection),"dialog"in u&&t(1,o=u.dialog)},[s,o,l,i,r,a,_,c,d]}class qt extends fe{constructor(e){super(),ce(this,e,jt,Yt,ae,{connection:0,dialog:1})}}function We(n){let e,t="Loading...";return{c(){e=B("p"),e.textContent=t,this.h()},l(l){e=L(l,"P",{style:!0,"data-svelte-h":!0}),V(e)!=="svelte-qybri"&&(e.textContent=t),this.h()},h(){Ne(e,"font-size","200px")},m(l,s){E(l,e,s)},d(l){l&&b(e)}}}function Ke(n){let e,t,l,s,o;return{c(){e=me("line"),this.h()},l(i){e=ke(i,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0}),O(e).forEach(b),this.h()},h(){g(e,"x1",t=n[3].node.x),g(e,"y1",l=n[3].node.y),g(e,"x2",s=n[17](n[1].x)),g(e,"y2",o=n[18](n[1].y)),g(e,"stroke","black")},m(i,r){E(i,e,r)},p(i,r){r[0]&8&&t!==(t=i[3].node.x)&&g(e,"x1",t),r[0]&8&&l!==(l=i[3].node.y)&&g(e,"y1",l),r[0]&2&&s!==(s=i[17](i[1].x))&&g(e,"x2",s),r[0]&2&&o!==(o=i[18](i[1].y))&&g(e,"y2",o)},d(i){i&&b(e)}}}function Xt(n){let e,t,l,s,o,i,r,a,_,c,d,u,h,v,m,C=!n[8]&&We(),f=!n[9]&&n[5]===n[10].CONNECTING&&n[3]&&Ke(n);const p=n[20].default,T=ut(p,n,n[19],null);function q(k){n[23](k)}function H(k){n[24](k)}let R={};n[3]!==void 0&&(R.router=n[3]),n[6]!==void 0&&(R.dialog=n[6]),i=new At({props:R}),he.push(()=>be(i,"router",q)),he.push(()=>be(i,"dialog",H));function A(k){n[25](k)}function S(k){n[26](k)}let y={};return n[4]!==void 0&&(y.connection=n[4]),n[7]!==void 0&&(y.dialog=n[7]),c=new qt({props:y}),he.push(()=>be(c,"connection",A)),he.push(()=>be(c,"dialog",S)),{c(){C&&C.c(),e=U(),t=me("svg"),f&&f.c(),l=te(),T&&T.c(),o=U(),se(i.$$.fragment),_=U(),se(c.$$.fragment),this.h()},l(k){C&&C.l(k),e=$(k),t=ke(k,"svg",{viewBox:!0,role:!0,tabindex:!0,style:!0,class:!0});var D=O(t);f&&f.l(D),l=te(),T&&T.l(D),D.forEach(b),o=$(k),ie(i.$$.fragment,k),_=$(k),ie(c.$$.fragment,k),this.h()},h(){g(t,"viewBox",s=`${n[0].x} ${n[0].y} ${n[0].width} ${n[0].height}`),g(t,"role","button"),g(t,"tabindex","-1"),Ne(t,"cursor",n[9]?"default":n[11][n[5]]),g(t,"class","svelte-1cmb9l6")},m(k,D){C&&C.m(k,D),E(k,e,D),E(k,t,D),f&&f.m(t,null),I(t,l),T&&T.m(t,null),n[22](t),E(k,o,D),re(i,k,D),E(k,_,D),re(c,k,D),h=!0,v||(m=[x(t,"pointerdown",n[12]),x(t,"pointerup",n[13]),x(t,"wheel",n[14]),x(t,"dblclick",n[15]),x(t,"dragover",vt(n[21])),x(t,"drop",n[16])],v=!0)},p(k,D){k[8]?C&&(C.d(1),C=null):C||(C=We(),C.c(),C.m(e.parentNode,e)),!k[9]&&k[5]===k[10].CONNECTING&&k[3]?f?f.p(k,D):(f=Ke(k),f.c(),f.m(t,l)):f&&(f.d(1),f=null),T&&T.p&&(!h||D[0]&524288)&&at(T,p,k,k[19],h?ct(p,k[19],D,null):ft(k[19]),null),(!h||D[0]&1&&s!==(s=`${k[0].x} ${k[0].y} ${k[0].width} ${k[0].height}`))&&g(t,"viewBox",s),(!h||D[0]&544)&&Ne(t,"cursor",k[9]?"default":k[11][k[5]]);const P={};!r&&D[0]&8&&(r=!0,P.router=k[3],ge(()=>r=!1)),!a&&D[0]&64&&(a=!0,P.dialog=k[6],ge(()=>a=!1)),i.$set(P);const Y={};!d&&D[0]&16&&(d=!0,Y.connection=k[4],ge(()=>d=!1)),!u&&D[0]&128&&(u=!0,Y.dialog=k[7],ge(()=>u=!1)),c.$set(Y)},i(k){h||(X(T,k),X(i.$$.fragment,k),X(c.$$.fragment,k),h=!0)},o(k){W(T,k),W(i.$$.fragment,k),W(c.$$.fragment,k),h=!1},d(k){k&&(b(e),b(t),b(o),b(_)),C&&C.d(k),f&&f.d(),T&&T.d(k),n[22](null),ue(i,k),ue(c,k),v=!1,pe(m)}}}function Gt(n,e,t){let l;ve(n,Le,w=>t(9,l=w));let{$$slots:s={},$$scope:o}=e;var i=(w=>(w[w.NONE=0]="NONE",w[w.DRAGGING=1]="DRAGGING",w[w.PANNING=2]="PANNING",w[w.CONNECTING=3]="CONNECTING",w))(i||{});const r={x:0,y:0,width:0,height:0,get scale(){return d?this.width/d.getBoundingClientRect().width:1}},a={x:0,y:0},_={x:0,y:0},c={0:"move",1:"grabbing",2:"grabbing",3:"crosshair"};let d=null,u=null,h=null,v=0,m,C,f=!1;ht(()=>{if(!d)return;new ResizeObserver(p).observe(d),requestAnimationFrame(()=>{d&&(t(0,r.x=d.getBoundingClientRect().width/-2,r),t(0,r.y=d.getBoundingClientRect().height/-2,r))}),t(8,f=!0)});function p(){if(!d)return;const w=r.scale||1;t(0,r.width=d.getBoundingClientRect().width*w,r),t(0,r.height=d.getBoundingClientRect().height*w,r)}function T(w){if(!(w.target instanceof Element))return;w.preventDefault(),d==null||d.addEventListener("pointermove",H),d==null||d.setPointerCapture(w.pointerId);const j=w.target.id;if(j){if(t(3,u=K.getRouter(parseInt(j))||null),!u)return;w.shiftKey?t(5,v=3):(_.x=u.node.x,_.y=u.node.y,t(5,v=1))}else t(5,v=2);t(1,a.x=w.clientX,a),t(1,a.y=w.clientY,a)}function q(w){if(w.target instanceof Element){if(w.preventDefault(),!l&&v===3&&u){const j=document.elementFromPoint(w.clientX,w.clientY),ne=(j==null?void 0:j.tagName)==="circle"?j.id:null,Ie=K.getRouter(parseInt(ne??""));Ie&&K.addConnection({source:u,target:Ie})}t(5,v=0),t(3,u=null),d==null||d.releasePointerCapture(w.pointerId),d==null||d.removeEventListener("pointermove",H)}}function H(w){w.preventDefault();const j={x:(w.clientX-a.x)*r.scale,y:(w.clientY-a.y)*r.scale};!l&&v===1&&u?(t(3,u.node.x=_.x+j.x,u),t(3,u.node.y=_.y+j.y,u),K.fastUpdate()):v===2?(t(1,a.x=w.clientX,a),t(1,a.y=w.clientY,a),t(0,r.x-=j.x,r),t(0,r.y-=j.y,r)):!l&&v===3&&(t(1,a.x=w.clientX,a),t(1,a.y=w.clientY,a))}function R(w){if(w.preventDefault(),!d||r.scale<.1&&w.deltaY<=0||r.scale>5&&w.deltaY>=0)return;t(1,a.x=w.clientX,a),t(1,a.y=w.clientY,a);const j=d.getBoundingClientRect(),ne=w.deltaY>0?1+.025:1-.025,Ie={x:(a.x-j.left)/j.width,y:(a.y-j.top)/j.height};t(0,r.x-=r.width*(ne-1)*Ie.x,r),t(0,r.y-=r.height*(ne-1)*Ie.y,r),t(0,r.width*=ne,r),t(0,r.height*=ne,r)}function A(w){if(!(w.target instanceof Element))return;w.preventDefault();const j=document.elementFromPoint(w.clientX,w.clientY);j&&(j.tagName==="circle"?S(j.id):j.tagName==="rect"&&y(j.id))}function S(w){const j=K.getRouter(parseInt(w));j&&(t(3,u=j),m.showModal())}function y(w){const j=K.connections.find(ne=>w===ne.id);j&&(t(4,h=j),C.showModal())}function k(w){var ne;switch(w.preventDefault(),(ne=w.dataTransfer)==null?void 0:ne.getData("text/plain")){case"CE":K.createCE({label:"CE",x:D(w.clientX),y:P(w.clientY)});break;case"LER":K.createLER({label:"LER",x:D(w.clientX),y:P(w.clientY)});break;case"LSR":K.createLSR({label:"LSR",x:D(w.clientX),y:P(w.clientY)});break}}function D(w){return d?(w-d.getBoundingClientRect().left)*r.scale+r.x:w}function P(w){return d?(w-d.getBoundingClientRect().top)*r.scale+r.y:w}function Y(w){dt.call(this,n,w)}function N(w){he[w?"unshift":"push"](()=>{d=w,t(2,d)})}function J(w){u=w,t(3,u)}function de(w){m=w,t(6,m)}function M(w){h=w,t(4,h)}function z(w){C=w,t(7,C)}return n.$$set=w=>{"$$scope"in w&&t(19,o=w.$$scope)},[r,a,d,u,h,v,m,C,f,l,i,c,T,q,R,A,k,D,P,o,s,Y,N,J,de,M,z]}class Vt extends fe{constructor(e){super(),ce(this,e,Gt,Xt,ae,{},null,[-1,-1])}}function Wt(n){let e,t,l,s;return{c(){e=me("circle"),this.h()},l(o){e=ke(o,"circle",{class:!0,transform:!0,r:!0}),O(e).forEach(b),this.h()},h(){g(e,"class","moving-circle svelte-11yjth1"),g(e,"transform",t=`translate(${n[0].node.x}, ${n[0].node.y})`),g(e,"r","5")},m(o,i){E(o,e,i),l||(s=x(e,"transitionend",n[1]),l=!0)},p(o,[i]){i&1&&t!==(t=`translate(${o[0].node.x}, ${o[0].node.y})`)&&g(e,"transform",t)},i:ee,o:ee,d(o){o&&b(e),l=!1,s()}}}function Kt(n,e,t){let{packet:l}=e;function s(){l.nextHop.receivePacket(l),t(0,l.node.x=l.nextHop.node.x,l),t(0,l.node.y=l.nextHop.node.y,l)}return ht(()=>{requestAnimationFrame(()=>{t(0,l.node.x=l.nextHop.node.x,l),t(0,l.node.y=l.nextHop.node.y,l)})}),n.$$set=o=>{"packet"in o&&t(0,l=o.packet)},[l,s]}class Jt extends fe{constructor(e){super(),ce(this,e,Kt,Wt,ae,{packet:0})}}function Qt(n){let e,t,l,s,o,i,r,a,_=n[0].distance+"",c,d;return{c(){e=me("line"),t=U(),l=me("rect"),r=U(),a=me("text"),c=le(_),d=le(" km"),this.h()},l(u){e=ke(u,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0}),O(e).forEach(b),t=$(u),l=ke(u,"rect",{id:!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,class:!0}),O(l).forEach(b),r=$(u),a=ke(u,"text",{x:!0,y:!0,"text-anchor":!0,"dominant-baseline":!0,fill:!0,"font-size":!0,class:!0});var h=O(a);c=oe(h,_),d=oe(h," km"),h.forEach(b),this.h()},h(){g(e,"x1",n[4]),g(e,"y1",n[2]),g(e,"x2",n[3]),g(e,"y2",n[1]),g(e,"stroke","black"),g(l,"id",s=n[0].id),g(l,"x",o=n[6]-Me/2),g(l,"y",i=n[5]-Ue/2),g(l,"width",Me),g(l,"height",Ue),g(l,"fill","#222222"),g(l,"stroke","white"),g(l,"class","svelte-19l53fy"),g(a,"x",n[6]),g(a,"y",n[5]),g(a,"text-anchor","middle"),g(a,"dominant-baseline","middle"),g(a,"fill","white"),g(a,"font-size","12px"),g(a,"class","svelte-19l53fy")},m(u,h){E(u,e,h),E(u,t,h),E(u,l,h),E(u,r,h),E(u,a,h),I(a,c),I(a,d)},p(u,[h]){h&16&&g(e,"x1",u[4]),h&4&&g(e,"y1",u[2]),h&8&&g(e,"x2",u[3]),h&2&&g(e,"y2",u[1]),h&1&&s!==(s=u[0].id)&&g(l,"id",s),h&64&&o!==(o=u[6]-Me/2)&&g(l,"x",o),h&32&&i!==(i=u[5]-Ue/2)&&g(l,"y",i),h&1&&_!==(_=u[0].distance+"")&&we(c,_),h&64&&g(a,"x",u[6]),h&32&&g(a,"y",u[5])},i:ee,o:ee,d(u){u&&(b(e),b(t),b(l),b(r),b(a))}}}const Me=50,Ue=20;function Je(n,e){return(n+e)/2}function Zt(n,e,t){let l,s,o,i,r,a,{connection:_}=e;return n.$$set=c=>{"connection"in c&&t(0,_=c.connection)},n.$$.update=()=>{n.$$.dirty&1&&t(4,l=_.source.node.x),n.$$.dirty&1&&t(3,s=_.target.node.x),n.$$.dirty&1&&t(2,o=_.source.node.y),n.$$.dirty&1&&t(1,i=_.target.node.y),n.$$.dirty&24&&t(6,r=Je(l,s)),n.$$.dirty&6&&t(5,a=Je(o,i))},[_,i,o,s,l,a,r]}class en extends fe{constructor(e){super(),ce(this,e,Zt,Qt,ae,{connection:0})}}function tn(n){let e,t,l,s,o,i,r,a=n[0].node.label+"",_,c,d;return{c(){e=me("circle"),i=U(),r=me("text"),_=le(a),this.h()},l(u){e=ke(u,"circle",{id:!0,cx:!0,cy:!0,r:!0,fill:!0,class:!0}),O(e).forEach(b),i=$(u),r=ke(u,"text",{x:!0,y:!0,"text-anchor":!0,"dominant-baseline":!0,class:!0});var h=O(r);_=oe(h,a),h.forEach(b),this.h()},h(){g(e,"id",t=n[0].id.toString()),g(e,"cx",l=n[0].node.x),g(e,"cy",s=n[0].node.y),g(e,"r","20"),g(e,"fill",o=n[1][n[0].type]),g(e,"class","svelte-11bg7m5"),g(r,"x",c=n[0].node.x),g(r,"y",d=n[0].node.y),g(r,"text-anchor","middle"),g(r,"dominant-baseline","middle"),g(r,"class","svelte-11bg7m5")},m(u,h){E(u,e,h),E(u,i,h),E(u,r,h),I(r,_)},p(u,[h]){h&1&&t!==(t=u[0].id.toString())&&g(e,"id",t),h&1&&l!==(l=u[0].node.x)&&g(e,"cx",l),h&1&&s!==(s=u[0].node.y)&&g(e,"cy",s),h&1&&o!==(o=u[1][u[0].type])&&g(e,"fill",o),h&1&&a!==(a=u[0].node.label+"")&&we(_,a),h&1&&c!==(c=u[0].node.x)&&g(r,"x",c),h&1&&d!==(d=u[0].node.y)&&g(r,"y",d)},i:ee,o:ee,d(u){u&&(b(e),b(i),b(r))}}}function nn(n,e,t){let{router:l}=e;const s={CE:"lightgreen",LER:"cyan",LSR:"hotpink"};return n.$$set=o=>{"router"in o&&t(0,l=o.router)},[l,s]}class ln extends fe{constructor(e){super(),ce(this,e,nn,tn,ae,{router:0})}}function on(n){let e,t,l,s;return{c(){e=B("div"),t=le(n[0]),this.h()},l(o){e=L(o,"DIV",{draggable:!0,role:!0,tabindex:!0,style:!0,class:!0});var i=O(e);t=oe(i,n[0]),i.forEach(b),this.h()},h(){g(e,"draggable","true"),g(e,"role","button"),g(e,"tabindex","-1"),Ne(e,"background-color",n[1]),g(e,"class","svelte-17iodfq")},m(o,i){E(o,e,i),I(e,t),l||(s=x(e,"dragstart",n[2]),l=!0)},p(o,[i]){i&1&&we(t,o[0]),i&2&&Ne(e,"background-color",o[1])},i:ee,o:ee,d(o){o&&b(e),l=!1,s()}}}function sn(n,e,t){let l;ve(n,Le,a=>t(4,l=a));let{text:s}=e,{type:o}=e,{color:i}=e;function r(a){var _;if(l){alert("Network is locked.");return}(_=a.dataTransfer)==null||_.setData("text/plain",o)}return n.$$set=a=>{"text"in a&&t(0,s=a.text),"type"in a&&t(3,o=a.type),"color"in a&&t(1,i=a.color)},[s,i,r,o]}class rn extends fe{constructor(e){super(),ce(this,e,sn,on,ae,{text:0,type:3,color:1})}}function un(n){let e,t,l,s;return{c(){e=B("button"),t=le(n[0]),this.h()},l(o){e=L(o,"BUTTON",{class:!0});var i=O(e);t=oe(i,n[0]),i.forEach(b),this.h()},h(){g(e,"class","svelte-1mil06r")},m(o,i){E(o,e,i),I(e,t),l||(s=x(e,"click",function(){Re(n[1])&&n[1].apply(this,arguments)}),l=!0)},p(o,[i]){n=o,i&1&&we(t,n[0])},i:ee,o:ee,d(o){o&&b(e),l=!1,s()}}}function an(n,e,t){let{text:l}=e,{callback:s=()=>{}}=e;return n.$$set=o=>{"text"in o&&t(0,l=o.text),"callback"in o&&t(1,s=o.callback)},[l,s]}class fn extends fe{constructor(e){super(),ce(this,e,an,un,ae,{text:0,callback:1})}}function Qe(n,e,t){const l=n.slice();return l[4]=e[t],l}function Ze(n,e,t){const l=n.slice();return l[7]=e[t],l}function et(n){let e,t;const l=[n[7]];let s={};for(let o=0;o<l.length;o+=1)s=_t(s,l[o]);return e=new rn({props:s}),{c(){se(e.$$.fragment)},l(o){ie(e.$$.fragment,o)},m(o,i){re(e,o,i),t=!0},p(o,i){const r=i&2?pt(l,[gt(o[7])]):{};e.$set(r)},i(o){t||(X(e.$$.fragment,o),t=!0)},o(o){W(e.$$.fragment,o),t=!1},d(o){ue(e,o)}}}function tt(n){let e,t;const l=[n[4]];let s={};for(let o=0;o<l.length;o+=1)s=_t(s,l[o]);return e=new fn({props:s}),{c(){se(e.$$.fragment)},l(o){ie(e.$$.fragment,o)},m(o,i){re(e,o,i),t=!0},p(o,i){const r=i&1?pt(l,[gt(o[4])]):{};e.$set(r)},i(o){t||(X(e.$$.fragment,o),t=!0)},o(o){W(e.$$.fragment,o),t=!1},d(o){ue(e,o)}}}function cn(n){let e,t,l,s=Q(n[1]),o=[];for(let c=0;c<s.length;c+=1)o[c]=et(Ze(n,s,c));const i=c=>W(o[c],1,1,()=>{o[c]=null});let r=Q(n[0]),a=[];for(let c=0;c<r.length;c+=1)a[c]=tt(Qe(n,r,c));const _=c=>W(a[c],1,1,()=>{a[c]=null});return{c(){for(let c=0;c<o.length;c+=1)o[c].c();e=U();for(let c=0;c<a.length;c+=1)a[c].c();t=te()},l(c){for(let d=0;d<o.length;d+=1)o[d].l(c);e=$(c);for(let d=0;d<a.length;d+=1)a[d].l(c);t=te()},m(c,d){for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(c,d);E(c,e,d);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(c,d);E(c,t,d),l=!0},p(c,[d]){if(d&2){s=Q(c[1]);let u;for(u=0;u<s.length;u+=1){const h=Ze(c,s,u);o[u]?(o[u].p(h,d),X(o[u],1)):(o[u]=et(h),o[u].c(),X(o[u],1),o[u].m(e.parentNode,e))}for(Ce(),u=s.length;u<o.length;u+=1)i(u);Ee()}if(d&1){r=Q(c[0]);let u;for(u=0;u<r.length;u+=1){const h=Qe(c,r,u);a[u]?(a[u].p(h,d),X(a[u],1)):(a[u]=tt(h),a[u].c(),X(a[u],1),a[u].m(t.parentNode,t))}for(Ce(),u=r.length;u<a.length;u+=1)_(u);Ee()}},i(c){if(!l){for(let d=0;d<s.length;d+=1)X(o[d]);for(let d=0;d<r.length;d+=1)X(a[d]);l=!0}},o(c){o=o.filter(Boolean);for(let d=0;d<o.length;d+=1)W(o[d]);a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)W(a[d]);l=!1},d(c){c&&(b(e),b(t)),Be(o,c),Be(a,c)}}}function dn(n,e,t){let l,s,o;ve(n,K,r=>t(2,s=r)),ve(n,Le,r=>t(3,o=r));const i=[{text:"+ Customer",type:"CE",color:"lightgreen"},{text:"+ Edge",type:"LER",color:"cyan"},{text:"+ Switch",type:"LSR",color:"hotpink"}];return n.$$.update=()=>{n.$$.dirty&12&&t(0,l=[{text:o?"Unlock":"Lock",callback:()=>{kt(Le,o=!o,o)}},{text:"Clear",callback:()=>{if(o){alert("Network is locked.");return}confirm("Are you sure you want to clear the network?")&&K.clear()}},{text:"LDP (actually Dijkstra)",callback:()=>{He.findShortestPaths()}},{text:"Test",callback:()=>{const r=s.routers.filter(a=>a instanceof _e);K.addPacket(r[0],r[1])}}])},[l,i,s,o]}class hn extends fe{constructor(e){super(),ce(this,e,dn,cn,ae,{})}}function _n(n){let e,t="Drag and drop routers that you want to add.",l,s,o="Hold the shift key and drag routers to make connections between the routers.",i,r,a="Double press a router to configure/delete it.",_,c,d="The clear button will delete everything.",u,h,v,m,C="Press Esc to close this popup.";return{c(){e=B("p"),e.textContent=t,l=U(),s=B("p"),s.textContent=o,i=U(),r=B("p"),r.textContent=a,_=U(),c=B("p"),c.textContent=d,u=U(),h=B("br"),v=U(),m=B("p"),m.textContent=C},l(f){e=L(f,"P",{"data-svelte-h":!0}),V(e)!=="svelte-1e52y96"&&(e.textContent=t),l=$(f),s=L(f,"P",{"data-svelte-h":!0}),V(s)!=="svelte-b60b0b"&&(s.textContent=o),i=$(f),r=L(f,"P",{"data-svelte-h":!0}),V(r)!=="svelte-zhn422"&&(r.textContent=a),_=$(f),c=L(f,"P",{"data-svelte-h":!0}),V(c)!=="svelte-epfgnc"&&(c.textContent=d),u=$(f),h=L(f,"BR",{}),v=$(f),m=L(f,"P",{"data-svelte-h":!0}),V(m)!=="svelte-1dvt5v1"&&(m.textContent=C)},m(f,p){E(f,e,p),E(f,l,p),E(f,s,p),E(f,i,p),E(f,r,p),E(f,_,p),E(f,c,p),E(f,u,p),E(f,h,p),E(f,v,p),E(f,m,p)},p:ee,d(f){f&&(b(e),b(l),b(s),b(i),b(r),b(_),b(c),b(u),b(h),b(v),b(m))}}}function pn(n){let e,t,l="Help",s,o,i,r,a,_;function c(u){n[2](u)}let d={$$slots:{default:[_n]},$$scope:{ctx:n}};return n[0]!==void 0&&(d.dialog=n[0]),o=new Oe({props:d}),he.push(()=>be(o,"dialog",c)),{c(){e=B("div"),t=B("button"),t.textContent=l,s=U(),se(o.$$.fragment),this.h()},l(u){e=L(u,"DIV",{});var h=O(e);t=L(h,"BUTTON",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-1l58twh"&&(t.textContent=l),h.forEach(b),s=$(u),ie(o.$$.fragment,u),this.h()},h(){g(t,"class","svelte-g8xfna")},m(u,h){E(u,e,h),I(e,t),E(u,s,h),re(o,u,h),r=!0,a||(_=x(t,"click",n[1]),a=!0)},p(u,[h]){const v={};h&8&&(v.$$scope={dirty:h,ctx:u}),!i&&h&1&&(i=!0,v.dialog=u[0],ge(()=>i=!1)),o.$set(v)},i(u){r||(X(o.$$.fragment,u),r=!0)},o(u){W(o.$$.fragment,u),r=!1},d(u){u&&(b(e),b(s)),ue(o,u),a=!1,_()}}}function gn(n,e,t){let l;const s=()=>{l.showModal()};function o(i){l=i,t(0,l)}return[l,s,o]}class bn extends fe{constructor(e){super(),ce(this,e,gn,pn,ae,{})}}function nt(n,e,t){const l=n.slice();return l[1]=e[t],l}function lt(n,e,t){const l=n.slice();return l[4]=e[t],l}function ot(n,e,t){const l=n.slice();return l[7]=e[t],l}function st(n,e){let t,l,s;return l=new en({props:{connection:e[7]}}),{key:n,first:null,c(){t=te(),se(l.$$.fragment),this.h()},l(o){t=te(),ie(l.$$.fragment,o),this.h()},h(){this.first=t},m(o,i){E(o,t,i),re(l,o,i),s=!0},p(o,i){e=o;const r={};i&1&&(r.connection=e[7]),l.$set(r)},i(o){s||(X(l.$$.fragment,o),s=!0)},o(o){W(l.$$.fragment,o),s=!1},d(o){o&&b(t),ue(l,o)}}}function it(n,e){let t,l,s;return l=new ln({props:{router:e[4]}}),{key:n,first:null,c(){t=te(),se(l.$$.fragment),this.h()},l(o){t=te(),ie(l.$$.fragment,o),this.h()},h(){this.first=t},m(o,i){E(o,t,i),re(l,o,i),s=!0},p(o,i){e=o;const r={};i&1&&(r.router=e[4]),l.$set(r)},i(o){s||(X(l.$$.fragment,o),s=!0)},o(o){W(l.$$.fragment,o),s=!1},d(o){o&&b(t),ue(l,o)}}}function rt(n,e){let t,l,s;return l=new Jt({props:{packet:e[1]}}),{key:n,first:null,c(){t=te(),se(l.$$.fragment),this.h()},l(o){t=te(),ie(l.$$.fragment,o),this.h()},h(){this.first=t},m(o,i){E(o,t,i),re(l,o,i),s=!0},p(o,i){e=o;const r={};i&1&&(r.packet=e[1]),l.$set(r)},i(o){s||(X(l.$$.fragment,o),s=!0)},o(o){W(l.$$.fragment,o),s=!1},d(o){o&&b(t),ue(l,o)}}}function mn(n){let e=[],t=new Map,l,s=[],o=new Map,i,r=[],a=new Map,_,c,d=Q(n[0].connections);const u=f=>f[7].id;for(let f=0;f<d.length;f+=1){let p=ot(n,d,f),T=u(p);t.set(T,e[f]=st(T,p))}let h=Q(n[0].routers);const v=f=>f[4].id;for(let f=0;f<h.length;f+=1){let p=lt(n,h,f),T=v(p);o.set(T,s[f]=it(T,p))}let m=Q(n[0].packets);const C=f=>f[1].id;for(let f=0;f<m.length;f+=1){let p=nt(n,m,f),T=C(p);a.set(T,r[f]=rt(T,p))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();l=U();for(let f=0;f<s.length;f+=1)s[f].c();i=U();for(let f=0;f<r.length;f+=1)r[f].c();_=te()},l(f){for(let p=0;p<e.length;p+=1)e[p].l(f);l=$(f);for(let p=0;p<s.length;p+=1)s[p].l(f);i=$(f);for(let p=0;p<r.length;p+=1)r[p].l(f);_=te()},m(f,p){for(let T=0;T<e.length;T+=1)e[T]&&e[T].m(f,p);E(f,l,p);for(let T=0;T<s.length;T+=1)s[T]&&s[T].m(f,p);E(f,i,p);for(let T=0;T<r.length;T+=1)r[T]&&r[T].m(f,p);E(f,_,p),c=!0},p(f,p){p&1&&(d=Q(f[0].connections),Ce(),e=De(e,p,u,1,f,d,t,l.parentNode,Pe,st,l,ot),Ee()),p&1&&(h=Q(f[0].routers),Ce(),s=De(s,p,v,1,f,h,o,i.parentNode,Pe,it,i,lt),Ee()),p&1&&(m=Q(f[0].packets),Ce(),r=De(r,p,C,1,f,m,a,_.parentNode,Pe,rt,_,nt),Ee())},i(f){if(!c){for(let p=0;p<d.length;p+=1)X(e[p]);for(let p=0;p<h.length;p+=1)X(s[p]);for(let p=0;p<m.length;p+=1)X(r[p]);c=!0}},o(f){for(let p=0;p<e.length;p+=1)W(e[p]);for(let p=0;p<s.length;p+=1)W(s[p]);for(let p=0;p<r.length;p+=1)W(r[p]);c=!1},d(f){f&&(b(l),b(i),b(_));for(let p=0;p<e.length;p+=1)e[p].d(f);for(let p=0;p<s.length;p+=1)s[p].d(f);for(let p=0;p<r.length;p+=1)r[p].d(f)}}}function kn(n){let e,t,l,s,o,i,r,a,_;return t=new Vt({props:{$$slots:{default:[mn]},$$scope:{ctx:n}}}),o=new hn({}),a=new bn({}),{c(){e=B("div"),se(t.$$.fragment),l=U(),s=B("div"),se(o.$$.fragment),i=U(),r=B("div"),se(a.$$.fragment),this.h()},l(c){e=L(c,"DIV",{id:!0,class:!0});var d=O(e);ie(t.$$.fragment,d),l=$(d),s=L(d,"DIV",{id:!0,class:!0});var u=O(s);ie(o.$$.fragment,u),u.forEach(b),i=$(d),r=L(d,"DIV",{id:!0,class:!0});var h=O(r);ie(a.$$.fragment,h),h.forEach(b),d.forEach(b),this.h()},h(){g(s,"id","top-left-bar"),g(s,"class","absolute-flex svelte-ixqfsc"),g(r,"id","bottom-left-bar"),g(r,"class","absolute-flex svelte-ixqfsc"),g(e,"id","network"),g(e,"class","svelte-ixqfsc")},m(c,d){E(c,e,d),re(t,e,null),I(e,l),I(e,s),re(o,s,null),I(e,i),I(e,r),re(a,r,null),_=!0},p(c,[d]){const u={};d&1025&&(u.$$scope={dirty:d,ctx:c}),t.$set(u)},i(c){_||(X(t.$$.fragment,c),X(o.$$.fragment,c),X(a.$$.fragment,c),_=!0)},o(c){W(t.$$.fragment,c),W(o.$$.fragment,c),W(a.$$.fragment,c),_=!1},d(c){c&&b(e),ue(t),ue(o),ue(a)}}}function vn(n,e,t){let l;return ve(n,K,s=>t(0,l=s)),[l]}class yn extends fe{constructor(e){super(),ce(this,e,vn,kn,ae,{})}}function wn(n){let e,t;return e=new yn({}),{c(){se(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,s){re(e,l,s),t=!0},p:ee,i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}class Rn extends fe{constructor(e){super(),ce(this,e,null,wn,ae,{})}}export{Rn as component};
