var ot=Object.defineProperty;var st=(l,e,t)=>e in l?ot(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var P=(l,e,t)=>(st(l,typeof e!="symbol"?e+"":e,t),t);import{s as Z,a as Ve,u as Ke,g as We,b as Je,x as Qe,e as ue,n as X,i as Be,r as Re,y as ge,c as Te,o as rt,z as it,A as Ze}from"../chunks/scheduler.C5v8YK5g.js";import{S as ee,i as te,e as E,c as R,a as U,d as g,l as b,g as w,z as M,m as H,n as O,o as re,A as se,s as L,B as A,f as N,h as T,C as ae,D as z,E as be,v as K,w as W,x as J,y as Q,r as me,p as ve,t as ne,b as le,j as ce,F as ke,G as ye,q as Ce,H as ut}from"../chunks/index.quBbCW_3.js";import{w as et}from"../chunks/index.CD1dNpfE.js";function G(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function tt(l,e){const t={},n={},s={$$scope:1};let o=l.length;for(;o--;){const u=l[o],a=e[o];if(a){for(const i in u)i in a||(n[i]=1);for(const i in a)s[i]||(t[i]=a[i],s[i]=1);l[o]=a}else for(const i in u)s[i]=1}for(const u in n)u in t||(t[u]=void 0);return t}function nt(l){return typeof l=="object"&&l!==null?l:{}}let Ne=class{constructor(e,t){P(this,"labelSpace");P(this,"neighborRouters");this.id=e,this.node=t,this.labelSpace=new Map,this.neighborRouters=new Set}addNeighborRouter(e){this.neighborRouters.add(e)}sendPacket(e,t){for(const n of this.neighborRouters)if(n.node.label===t){n.processPacket(e);return}}};class he extends Ne{constructor(){super(...arguments);P(this,"FIB",new Map([["0",{label:0,nextHop:"0"}]]));P(this,"allowedConnections",["CE","LSR"]);P(this,"assignLabel",(t,n)=>{this.labelSpace.set(t,n)});P(this,"addEmptyEntry",()=>{this.FIB.set("0",{label:0,nextHop:"0"})});P(this,"updateAddress",(t,n)=>{const s=this.FIB.get(t);if(!s)throw new Error(`Unable to update old FIB address '${t}' to '${n}'.`);this.FIB.set(n,s),this.FIB.delete(t)});P(this,"deleteEntry",t=>{this.FIB.delete(t)});P(this,"advertiseInformation",(t,n,s)=>{for(const o of this.neighborRouters)o instanceof he&&o.receiveInformation(t,n,s)});P(this,"receiveInformation",(t,n,s)=>{this.FIB.set(t,{label:n,nextHop:s})});P(this,"processPacket",t=>{const n=this.FIB.get(t.destination);n&&(t.label=n.label,t.destination=n.nextHop,this.sendPacket(t,n.nextHop))})}get type(){return"LER"}}class de extends Ne{constructor(){super(...arguments);P(this,"LIB",new Map([[0,{outgoingLabel:0,nextHop:"0"}]]));P(this,"allowedConnections",["LSR","LER"]);P(this,"addEmptyEntry",()=>{this.LIB.set(0,{outgoingLabel:0,nextHop:"0"})});P(this,"updateLabel",(t,n)=>{const s=this.LIB.get(t);if(!s)throw new Error(`Unable to update old LIB label '${t}' to '${n}'.`);this.LIB.set(n,s),this.LIB.delete(t)});P(this,"deleteEntry",t=>{this.LIB.delete(t)});P(this,"advertiseInformation",(t,n,s)=>{for(const o of this.neighborRouters)o instanceof de&&o.receiveInformation(t,n,s)});P(this,"receiveInformation",(t,n,s)=>{this.LIB.set(t,{outgoingLabel:n,nextHop:s})});P(this,"processPacket",t=>{const n=this.LIB.get(t.label);n&&(t.destination=n.nextHop,t.label=n.outgoingLabel,this.sendPacket(t,t.destination))})}get type(){return"LSR"}}class we extends Ne{constructor(){super(...arguments);P(this,"flows",[]);P(this,"address",`${Math.floor(Math.random()*256)}.${Math.floor(Math.random()*256)}.${Math.floor(Math.random()*256)}.${Math.floor(Math.random()*256)}`);P(this,"nextHop");P(this,"allowedConnections",["LER"]);P(this,"addEmptyFlow",()=>{this.flows.push({size:0,destination:""})});P(this,"deleteFlow",t=>{this.flows.splice(t,1)});P(this,"processPacket",t=>{this.nextHop&&this.sendPacket(t,this.nextHop)})}get type(){return"CE"}}class at{constructor(){P(this,"store",et({routers:[],connections:[]}));P(this,"set",this.store.set);P(this,"update",this.store.update);P(this,"subscribe",this.store.subscribe);P(this,"_routers",[]);P(this,"_connections",[]);P(this,"routerMap",new Map);P(this,"counter",0)}get routers(){return this._routers}get connections(){return this._connections}get networkState(){return{routers:this.routers,connections:this.connections}}addConnection(e){e.source!==e.target&&e.source.allowedConnections.includes(e.target.type)&&(this.doesConnectionExist(e)||this.doesConnectionExist({source:e.target,target:e.source})||(this._connections.push(e),this.fastUpdate()))}deleteConnection(e){this._connections=this._connections.filter(t=>t.source.id!==e.source.id||t.target.id!==e.target.id),this.fastUpdate()}doesConnectionExist(e){return this._connections.some(t=>t.source===e.source&&t.target===e.target)}createCE(e){const t=new we(this.counter++,e);this.addRouter(t)}createLER(e){const t=new he(this.counter++,e);this.addRouter(t)}createLSR(e){const t=new de(this.counter++,e);this.addRouter(t)}addRouter(e){this._routers.push(e),this.routerMap.set(e.id,e),this.fastUpdate()}deleteRouter(e){this.getRouter(e)&&(this._routers=this._routers.filter(n=>n.id!==e),this._connections=this._connections.filter(n=>n.source.id!==e&&n.target.id!==e),this.routerMap.delete(e),this.fastUpdate())}getRouter(e){return this.routerMap.get(e)}getSureRouter(e){const t=this.getRouter(e);if(!t)throw new Error(`Router with id ${e} not found`);return t}clear(){this._routers=[],this._connections=[],this.routerMap.clear(),this.counter=0,this.fastUpdate()}fastUpdate(){this.store.set(this.networkState)}}const ft=new at,V=ft,Ee=et(!1);function ct(l){let e,t,n,s;const o=l[2].default,u=Ve(o,l,l[1],null);return{c(){e=E("dialog"),u&&u.c(),this.h()},l(a){e=R(a,"DIALOG",{class:!0});var i=U(e);u&&u.l(i),i.forEach(g),this.h()},h(){b(e,"class","svelte-414ocx")},m(a,i){w(a,e,i),u&&u.m(e,null),l[4](e),t=!0,n||(s=M(e,"close",l[3]),n=!0)},p(a,[i]){u&&u.p&&(!t||i&2)&&Ke(u,o,a,a[1],t?Je(o,a[1],i,null):We(a[1]),null)},i(a){t||(H(u,a),t=!0)},o(a){O(u,a),t=!1},d(a){a&&g(e),u&&u.d(a),l[4](null),n=!1,s()}}}function ht(l,e,t){let{$$slots:n={},$$scope:s}=e,{dialog:o}=e;function u(i){Qe.call(this,l,i)}function a(i){ue[i?"unshift":"push"](()=>{o=i,t(0,o)})}return l.$$set=i=>{"dialog"in i&&t(0,o=i.dialog),"$$scope"in i&&t(1,s=i.$$scope)},[o,s,n,u,a]}class lt extends ee{constructor(e){super(),te(this,e,ht,ct,Z,{dialog:0})}}function $e(l,e,t){const n=l.slice();return n[22]=e[t][0],n[19]=e[t][1],n[23]=e,n[24]=t,n}function Pe(l,e,t){const n=l.slice();return n[18]=e[t][0],n[19]=e[t][1],n[20]=e,n[21]=t,n}function xe(l,e,t){const n=l.slice();return n[15]=e[t],n[16]=e,n[17]=t,n}function dt(l){let e,t="LIB:",n,s,o,u='<th class="svelte-71n8bk">Incoming</th> <th class="svelte-71n8bk">Outgoing</th> <th class="svelte-71n8bk">Next hop</th>',a,i,p,f="+",c,r,_=G([...l[0].LIB]),m=[];for(let d=0;d<_.length;d+=1)m[d]=De($e(l,_,d));return{c(){e=E("p"),e.textContent=t,n=L(),s=E("table"),o=E("tr"),o.innerHTML=u,a=L();for(let d=0;d<m.length;d+=1)m[d].c();i=L(),p=E("button"),p.textContent=f,this.h()},l(d){e=R(d,"P",{"data-svelte-h":!0}),A(e)!=="svelte-1j64kst"&&(e.textContent=t),n=N(d),s=R(d,"TABLE",{class:!0});var C=U(s);o=R(C,"TR",{"data-svelte-h":!0}),A(o)!=="svelte-1nxelgl"&&(o.innerHTML=u),a=N(C);for(let h=0;h<m.length;h+=1)m[h].l(C);C.forEach(g),i=N(d),p=R(d,"BUTTON",{class:!0,"data-svelte-h":!0}),A(p)!=="svelte-1nn20mc"&&(p.textContent=f),this.h()},h(){b(s,"class","svelte-71n8bk"),b(p,"class","svelte-71n8bk")},m(d,C){w(d,e,C),w(d,n,C),w(d,s,C),T(s,o),T(s,a);for(let h=0;h<m.length;h+=1)m[h]&&m[h].m(s,null);w(d,i,C),w(d,p,C),c||(r=M(p,"click",function(){Be(l[1](l[0].addEmptyEntry))&&l[1](l[0].addEmptyEntry).apply(this,arguments)}),c=!0)},p(d,C){if(l=d,C&9){_=G([...l[0].LIB]);let h;for(h=0;h<_.length;h+=1){const y=$e(l,_,h);m[h]?m[h].p(y,C):(m[h]=De(y),m[h].c(),m[h].m(s,null))}for(;h<m.length;h+=1)m[h].d(1);m.length=_.length}},d(d){d&&(g(e),g(n),g(s),g(i),g(p)),ae(m,d),c=!1,r()}}}function _t(l){let e,t="FIB:",n,s,o,u='<th class="svelte-71n8bk">Address</th> <th class="svelte-71n8bk">Label</th> <th class="svelte-71n8bk">Next hop</th>',a,i,p,f="+",c,r,_=G([...l[0].FIB]),m=[];for(let d=0;d<_.length;d+=1)m[d]=Ue(Pe(l,_,d));return{c(){e=E("p"),e.textContent=t,n=L(),s=E("table"),o=E("tr"),o.innerHTML=u,a=L();for(let d=0;d<m.length;d+=1)m[d].c();i=L(),p=E("button"),p.textContent=f,this.h()},l(d){e=R(d,"P",{"data-svelte-h":!0}),A(e)!=="svelte-1j6bdhj"&&(e.textContent=t),n=N(d),s=R(d,"TABLE",{class:!0});var C=U(s);o=R(C,"TR",{"data-svelte-h":!0}),A(o)!=="svelte-9j9p47"&&(o.innerHTML=u),a=N(C);for(let h=0;h<m.length;h+=1)m[h].l(C);C.forEach(g),i=N(d),p=R(d,"BUTTON",{class:!0,"data-svelte-h":!0}),A(p)!=="svelte-1nn20mc"&&(p.textContent=f),this.h()},h(){b(s,"class","svelte-71n8bk"),b(p,"class","svelte-71n8bk")},m(d,C){w(d,e,C),w(d,n,C),w(d,s,C),T(s,o),T(s,a);for(let h=0;h<m.length;h+=1)m[h]&&m[h].m(s,null);w(d,i,C),w(d,p,C),c||(r=M(p,"click",function(){Be(l[1](l[0].addEmptyEntry))&&l[1](l[0].addEmptyEntry).apply(this,arguments)}),c=!0)},p(d,C){if(l=d,C&5){_=G([...l[0].FIB]);let h;for(h=0;h<_.length;h+=1){const y=Pe(l,_,h);m[h]?m[h].p(y,C):(m[h]=Ue(y),m[h].c(),m[h].m(s,null))}for(;h<m.length;h+=1)m[h].d(1);m.length=_.length}},d(d){d&&(g(e),g(n),g(s),g(i),g(p)),ae(m,d),c=!1,r()}}}function pt(l){let e,t="Flows:",n,s,o,u='<th class="svelte-71n8bk">Size (Megabits)</th> <th class="svelte-71n8bk">Destination</th>',a,i,p,f="+",c,r,_=G(l[0].flows),m=[];for(let d=0;d<_.length;d+=1)m[d]=Me(xe(l,_,d));return{c(){e=E("p"),e.textContent=t,n=L(),s=E("table"),o=E("tr"),o.innerHTML=u,a=L();for(let d=0;d<m.length;d+=1)m[d].c();i=L(),p=E("button"),p.textContent=f,this.h()},l(d){e=R(d,"P",{"data-svelte-h":!0}),A(e)!=="svelte-twjhxn"&&(e.textContent=t),n=N(d),s=R(d,"TABLE",{class:!0});var C=U(s);o=R(C,"TR",{"data-svelte-h":!0}),A(o)!=="svelte-1aanzqs"&&(o.innerHTML=u),a=N(C);for(let h=0;h<m.length;h+=1)m[h].l(C);C.forEach(g),i=N(d),p=R(d,"BUTTON",{class:!0,"data-svelte-h":!0}),A(p)!=="svelte-bqeh8i"&&(p.textContent=f),this.h()},h(){b(s,"class","svelte-71n8bk"),b(p,"class","svelte-71n8bk")},m(d,C){w(d,e,C),w(d,n,C),w(d,s,C),T(s,o),T(s,a);for(let h=0;h<m.length;h+=1)m[h]&&m[h].m(s,null);w(d,i,C),w(d,p,C),c||(r=M(p,"click",function(){Be(l[1](l[0].addEmptyFlow))&&l[1](l[0].addEmptyFlow).apply(this,arguments)}),c=!0)},p(d,C){if(l=d,C&1){_=G(l[0].flows);let h;for(h=0;h<_.length;h+=1){const y=xe(l,_,h);m[h]?m[h].p(y,C):(m[h]=Me(y),m[h].c(),m[h].m(s,null))}for(;h<m.length;h+=1)m[h].d(1);m.length=_.length}},d(d){d&&(g(e),g(n),g(s),g(i),g(p)),ae(m,d),c=!1,r()}}}function De(l){let e,t,n,s,o,u,a,i,p,f,c,r,_="-",m,d,C;function h(...D){return l[11](l[22],...D)}function y(){l[12].call(a,l[23],l[24])}function v(){l[13].call(f,l[23],l[24])}function x(){return l[14](l[22])}return{c(){e=E("tr"),t=E("td"),n=E("input"),o=L(),u=E("td"),a=E("input"),i=L(),p=E("td"),f=E("input"),c=L(),r=E("button"),r.textContent=_,m=L(),this.h()},l(D){e=R(D,"TR",{});var B=U(e);t=R(B,"TD",{class:!0});var q=U(t);n=R(q,"INPUT",{type:!0,class:!0}),q.forEach(g),o=N(B),u=R(B,"TD",{class:!0});var Y=U(u);a=R(Y,"INPUT",{type:!0,class:!0}),Y.forEach(g),i=N(B),p=R(B,"TD",{class:!0});var S=U(p);f=R(S,"INPUT",{type:!0,class:!0}),S.forEach(g),c=N(B),r=R(B,"BUTTON",{class:!0,"data-svelte-h":!0}),A(r)!=="svelte-glgoyj"&&(r.textContent=_),m=N(B),B.forEach(g),this.h()},h(){b(n,"type","number"),n.value=s=l[22],b(n,"class","svelte-71n8bk"),b(t,"class","svelte-71n8bk"),b(a,"type","number"),b(a,"class","svelte-71n8bk"),b(u,"class","svelte-71n8bk"),b(f,"type","text"),b(f,"class","svelte-71n8bk"),b(p,"class","svelte-71n8bk"),b(r,"class","svelte-71n8bk")},m(D,B){w(D,e,B),T(e,t),T(t,n),T(e,o),T(e,u),T(u,a),z(a,l[19].outgoingLabel),T(e,i),T(e,p),T(p,f),z(f,l[19].nextHop),T(e,c),T(e,r),T(e,m),d||(C=[M(n,"change",h),M(a,"input",y),M(f,"input",v),M(r,"click",x)],d=!0)},p(D,B){l=D,B&1&&s!==(s=l[22])&&n.value!==s&&(n.value=s),B&1&&se(a.value)!==l[19].outgoingLabel&&z(a,l[19].outgoingLabel),B&1&&f.value!==l[19].nextHop&&z(f,l[19].nextHop)},d(D){D&&g(e),d=!1,Re(C)}}}function Ue(l){let e,t,n,s,o,u,a,i,p,f,c,r,_="-",m,d,C;function h(...D){return l[7](l[18],...D)}function y(){l[8].call(a,l[20],l[21])}function v(){l[9].call(f,l[20],l[21])}function x(){return l[10](l[18])}return{c(){e=E("tr"),t=E("td"),n=E("input"),o=L(),u=E("td"),a=E("input"),i=L(),p=E("td"),f=E("input"),c=L(),r=E("button"),r.textContent=_,m=L(),this.h()},l(D){e=R(D,"TR",{});var B=U(e);t=R(B,"TD",{class:!0});var q=U(t);n=R(q,"INPUT",{type:!0,class:!0}),q.forEach(g),o=N(B),u=R(B,"TD",{class:!0});var Y=U(u);a=R(Y,"INPUT",{type:!0,class:!0}),Y.forEach(g),i=N(B),p=R(B,"TD",{class:!0});var S=U(p);f=R(S,"INPUT",{type:!0,class:!0}),S.forEach(g),c=N(B),r=R(B,"BUTTON",{class:!0,"data-svelte-h":!0}),A(r)!=="svelte-174iwf3"&&(r.textContent=_),m=N(B),B.forEach(g),this.h()},h(){b(n,"type","text"),n.value=s=l[18],b(n,"class","svelte-71n8bk"),b(t,"class","svelte-71n8bk"),b(a,"type","number"),b(a,"class","svelte-71n8bk"),b(u,"class","svelte-71n8bk"),b(f,"type","text"),b(f,"class","svelte-71n8bk"),b(p,"class","svelte-71n8bk"),b(r,"class","svelte-71n8bk")},m(D,B){w(D,e,B),T(e,t),T(t,n),T(e,o),T(e,u),T(u,a),z(a,l[19].label),T(e,i),T(e,p),T(p,f),z(f,l[19].nextHop),T(e,c),T(e,r),T(e,m),d||(C=[M(n,"change",h),M(a,"input",y),M(f,"input",v),M(r,"click",x)],d=!0)},p(D,B){l=D,B&1&&s!==(s=l[18])&&n.value!==s&&(n.value=s),B&1&&se(a.value)!==l[19].label&&z(a,l[19].label),B&1&&f.value!==l[19].nextHop&&z(f,l[19].nextHop)},d(D){D&&g(e),d=!1,Re(C)}}}function Me(l){let e,t,n,s,o,u,a,i,p="-",f,c,r;function _(){l[4].call(n,l[16],l[17])}function m(){l[5].call(u,l[16],l[17])}function d(){return l[6](l[17])}return{c(){e=E("tr"),t=E("td"),n=E("input"),s=L(),o=E("td"),u=E("input"),a=L(),i=E("button"),i.textContent=p,f=L(),this.h()},l(C){e=R(C,"TR",{});var h=U(e);t=R(h,"TD",{class:!0});var y=U(t);n=R(y,"INPUT",{type:!0,class:!0}),y.forEach(g),s=N(h),o=R(h,"TD",{class:!0});var v=U(o);u=R(v,"INPUT",{type:!0,placeholder:!0,class:!0}),v.forEach(g),a=N(h),i=R(h,"BUTTON",{class:!0,"data-svelte-h":!0}),A(i)!=="svelte-1px6e5a"&&(i.textContent=p),f=N(h),h.forEach(g),this.h()},h(){b(n,"type","number"),b(n,"class","svelte-71n8bk"),b(t,"class","svelte-71n8bk"),b(u,"type","text"),b(u,"placeholder","Address"),b(u,"class","svelte-71n8bk"),b(o,"class","svelte-71n8bk"),b(i,"class","svelte-71n8bk")},m(C,h){w(C,e,h),T(e,t),T(t,n),z(n,l[15].size),T(e,s),T(e,o),T(o,u),z(u,l[15].destination),T(e,a),T(e,i),T(e,f),c||(r=[M(n,"input",_),M(u,"input",m),M(i,"click",d)],c=!0)},p(C,h){l=C,h&1&&se(n.value)!==l[15].size&&z(n,l[15].size),h&1&&u.value!==l[15].destination&&z(u,l[15].destination)},d(C){C&&g(e),c=!1,Re(r)}}}function gt(l){let e;function t(o,u){if(o[0]instanceof we)return pt;if(o[0]instanceof he)return _t;if(o[0]instanceof de)return dt}let n=t(l),s=n&&n(l);return{c(){s&&s.c(),e=re()},l(o){s&&s.l(o),e=re()},m(o,u){s&&s.m(o,u),w(o,e,u)},p(o,[u]){n===(n=t(o))&&s?s.p(o,u):(s&&s.d(1),s=n&&n(o),s&&(s.c(),s.m(e.parentNode,e)))},i:X,o:X,d(o){o&&g(e),s&&s.d(o)}}}function bt(l,e,t){let{router:n}=e;function s(y){return()=>{y(),t(0,n)}}function o(y,v){if(!(y.target instanceof HTMLInputElement)||!(n instanceof he))return;const x=y.target.value;if(n.FIB.get(x)){alert("Address already exists in FIB.");return}n.updateAddress(v,x)}function u(y,v){if(!(y.target instanceof HTMLInputElement)||!(n instanceof de))return;const x=parseInt(y.target.value);if(n.LIB.get(x)){alert("Label already exists in LIB.");return}n.updateLabel(v,x)}function a(y,v){y[v].size=se(this.value),t(0,n)}function i(y,v){y[v].destination=this.value,t(0,n)}const p=y=>{n instanceof we&&(n.deleteFlow(y),t(0,n))},f=(y,v)=>{o(v,y)};function c(y,v){y[v][1].label=se(this.value),t(0,n)}function r(y,v){y[v][1].nextHop=this.value,t(0,n)}const _=y=>{n instanceof he&&(n.deleteEntry(y),t(0,n))},m=(y,v)=>{u(v,y)};function d(y,v){y[v][1].outgoingLabel=se(this.value),t(0,n)}function C(y,v){y[v][1].nextHop=this.value,t(0,n)}const h=y=>{n instanceof de&&(n.deleteEntry(y),t(0,n))};return l.$$set=y=>{"router"in y&&t(0,n=y.router)},[n,s,o,u,a,i,p,f,c,r,_,m,d,C,h]}class mt extends ee{constructor(e){super(),te(this,e,bt,gt,Z,{router:0})}}function vt(l){let e,t="You somehow double-clicked on a router that can't be found?";return{c(){e=E("p"),e.textContent=t},l(n){e=R(n,"P",{"data-svelte-h":!0}),A(e)!=="svelte-1214eal"&&(e.textContent=t)},m(n,s){w(n,e,s)},p:X,i:X,o:X,d(n){n&&g(e)}}}function kt(l){let e,t,n,s,o,u,a=l[0].id+"",i,p,f,c,r=l[0].type+"",_,m,d,C,h,y,v,x,D,B,q,Y,S,Ie="Delete Router",oe,_e,k,$=l[0]instanceof we&&He(l);function j(I){l[7](I)}let ie={};return l[0]!==void 0&&(ie.router=l[0]),B=new mt({props:ie}),ue.push(()=>be(B,"router",j)),{c(){e=E("label"),t=ne(`Label:
      `),n=E("input"),s=L(),o=E("p"),u=ne("ID: "),i=ne(a),p=L(),f=E("p"),c=ne("Type: "),_=ne(r),m=L(),d=E("p"),C=ne(`Position:
      `),h=E("input"),y=L(),v=E("input"),x=L(),$&&$.c(),D=L(),K(B.$$.fragment),Y=L(),S=E("button"),S.textContent=Ie,this.h()},l(I){e=R(I,"LABEL",{});var F=U(e);t=le(F,`Label:
      `),n=R(F,"INPUT",{type:!0}),F.forEach(g),s=N(I),o=R(I,"P",{});var fe=U(o);u=le(fe,"ID: "),i=le(fe,a),fe.forEach(g),p=N(I),f=R(I,"P",{});var Le=U(f);c=le(Le,"Type: "),_=le(Le,r),Le.forEach(g),m=N(I),d=R(I,"P",{});var pe=U(d);C=le(pe,`Position:
      `),h=R(pe,"INPUT",{type:!0}),y=N(pe),v=R(pe,"INPUT",{type:!0}),pe.forEach(g),x=N(I),$&&$.l(I),D=N(I),W(B.$$.fragment,I),Y=N(I),S=R(I,"BUTTON",{"data-svelte-h":!0}),A(S)!=="svelte-1oz0se8"&&(S.textContent=Ie),this.h()},h(){b(n,"type","text"),b(h,"type","number"),h.disabled=l[2],b(v,"type","number"),v.disabled=l[2]},m(I,F){w(I,e,F),T(e,t),T(e,n),z(n,l[0].node.label),w(I,s,F),w(I,o,F),T(o,u),T(o,i),w(I,p,F),w(I,f,F),T(f,c),T(f,_),w(I,m,F),w(I,d,F),T(d,C),T(d,h),z(h,l[0].node.x),T(d,y),T(d,v),z(v,l[0].node.y),w(I,x,F),$&&$.m(I,F),w(I,D,F),J(B,I,F),w(I,Y,F),w(I,S,F),oe=!0,_e||(k=[M(n,"input",l[4]),M(h,"input",l[5]),M(v,"input",l[6]),M(S,"click",l[3])],_e=!0)},p(I,F){F&1&&n.value!==I[0].node.label&&z(n,I[0].node.label),(!oe||F&1)&&a!==(a=I[0].id+"")&&ce(i,a),(!oe||F&1)&&r!==(r=I[0].type+"")&&ce(_,r),(!oe||F&4)&&(h.disabled=I[2]),F&1&&se(h.value)!==I[0].node.x&&z(h,I[0].node.x),(!oe||F&4)&&(v.disabled=I[2]),F&1&&se(v.value)!==I[0].node.y&&z(v,I[0].node.y),I[0]instanceof we?$?$.p(I,F):($=He(I),$.c(),$.m(D.parentNode,D)):$&&($.d(1),$=null);const fe={};!q&&F&1&&(q=!0,fe.router=I[0],ge(()=>q=!1)),B.$set(fe)},i(I){oe||(H(B.$$.fragment,I),oe=!0)},o(I){O(B.$$.fragment,I),oe=!1},d(I){I&&(g(e),g(s),g(o),g(p),g(f),g(m),g(d),g(x),g(D),g(Y),g(S)),$&&$.d(I),Q(B,I),_e=!1,Re(k)}}}function He(l){let e,t,n=l[0].address+"",s;return{c(){e=E("p"),t=ne("Address: "),s=ne(n)},l(o){e=R(o,"P",{});var u=U(e);t=le(u,"Address: "),s=le(u,n),u.forEach(g)},m(o,u){w(o,e,u),T(e,t),T(e,s)},p(o,u){u&1&&n!==(n=o[0].address+"")&&ce(s,n)},d(o){o&&g(e)}}}function yt(l){let e,t,n,s;const o=[kt,vt],u=[];function a(i,p){return i[0]?0:1}return e=a(l),t=u[e]=o[e](l),{c(){t.c(),n=re()},l(i){t.l(i),n=re()},m(i,p){u[e].m(i,p),w(i,n,p),s=!0},p(i,p){let f=e;e=a(i),e===f?u[e].p(i,p):(me(),O(u[f],1,1,()=>{u[f]=null}),ve(),t=u[e],t?t.p(i,p):(t=u[e]=o[e](i),t.c()),H(t,1),t.m(n.parentNode,n))},i(i){s||(H(t),s=!0)},o(i){O(t),s=!1},d(i){i&&g(n),u[e].d(i)}}}function Ct(l){let e,t,n;function s(u){l[8](u)}let o={$$slots:{default:[yt]},$$scope:{ctx:l}};return l[1]!==void 0&&(o.dialog=l[1]),e=new lt({props:o}),ue.push(()=>be(e,"dialog",s)),e.$on("close",l[9]),{c(){K(e.$$.fragment)},l(u){W(e.$$.fragment,u)},m(u,a){J(e,u,a),n=!0},p(u,[a]){const i={};a&1029&&(i.$$scope={dirty:a,ctx:u}),!t&&a&2&&(t=!0,i.dialog=u[1],ge(()=>t=!1)),e.$set(i)},i(u){n||(H(e.$$.fragment,u),n=!0)},o(u){O(e.$$.fragment,u),n=!1},d(u){Q(e,u)}}}function wt(l,e,t){let n;Te(l,Ee,_=>t(2,n=_));let{router:s}=e,{dialog:o}=e;function u(){s&&confirm("Are you sure you want to delete this router?")&&(V.deleteRouter(s.id),o.close())}function a(){s.node.label=this.value,t(0,s)}function i(){s.node.x=se(this.value),t(0,s)}function p(){s.node.y=se(this.value),t(0,s)}function f(_){s=_,t(0,s)}function c(_){o=_,t(1,o)}const r=()=>{V.fastUpdate()};return l.$$set=_=>{"router"in _&&t(0,s=_.router),"dialog"in _&&t(1,o=_.dialog)},[s,o,n,u,a,i,p,f,c,r]}class Et extends ee{constructor(e){super(),te(this,e,wt,Ct,Z,{router:0,dialog:1})}}function Fe(l){let e,t="Loading...";return{c(){e=E("p"),e.textContent=t,this.h()},l(n){e=R(n,"P",{style:!0,"data-svelte-h":!0}),A(e)!=="svelte-qybri"&&(e.textContent=t),this.h()},h(){Ce(e,"font-size","200px")},m(n,s){w(n,e,s)},d(n){n&&g(e)}}}function Oe(l){let e,t,n,s,o;return{c(){e=ke("line"),this.h()},l(u){e=ye(u,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0}),U(e).forEach(g),this.h()},h(){b(e,"x1",t=l[3].node.x),b(e,"y1",n=l[3].node.y),b(e,"x2",s=l[14](l[1].x)),b(e,"y2",o=l[15](l[1].y)),b(e,"stroke","black")},m(u,a){w(u,e,a)},p(u,a){a&8&&t!==(t=u[3].node.x)&&b(e,"x1",t),a&8&&n!==(n=u[3].node.y)&&b(e,"y1",n),a&2&&s!==(s=u[14](u[1].x))&&b(e,"x2",s),a&2&&o!==(o=u[15](u[1].y))&&b(e,"y2",o)},d(u){u&&g(e)}}}function Rt(l){let e,t,n,s,o,u,a,i,p,f,c,r=!l[6]&&Fe(),_=l[4]===l[7].CONNECTING&&l[3]&&Oe(l);const m=l[17].default,d=Ve(m,l,l[16],null);function C(v){l[20](v)}function h(v){l[21](v)}let y={};return l[3]!==void 0&&(y.router=l[3]),l[5]!==void 0&&(y.dialog=l[5]),u=new Et({props:y}),ue.push(()=>be(u,"router",C)),ue.push(()=>be(u,"dialog",h)),{c(){r&&r.c(),e=L(),t=ke("svg"),_&&_.c(),n=re(),d&&d.c(),o=L(),K(u.$$.fragment),this.h()},l(v){r&&r.l(v),e=N(v),t=ye(v,"svg",{viewBox:!0,role:!0,tabindex:!0,style:!0,class:!0});var x=U(t);_&&_.l(x),n=re(),d&&d.l(x),x.forEach(g),o=N(v),W(u.$$.fragment,v),this.h()},h(){b(t,"viewBox",s=`${l[0].x} ${l[0].y} ${l[0].width} ${l[0].height}`),b(t,"role","button"),b(t,"tabindex","-1"),Ce(t,"cursor",l[8][l[4]]),b(t,"class","svelte-8vtxkw")},m(v,x){r&&r.m(v,x),w(v,e,x),w(v,t,x),_&&_.m(t,null),T(t,n),d&&d.m(t,null),l[19](t),w(v,o,x),J(u,v,x),p=!0,f||(c=[M(t,"pointerdown",l[9]),M(t,"pointerup",l[10]),M(t,"wheel",l[11]),M(t,"dblclick",l[12]),M(t,"dragover",ut(l[18])),M(t,"drop",l[13])],f=!0)},p(v,[x]){v[6]?r&&(r.d(1),r=null):r||(r=Fe(),r.c(),r.m(e.parentNode,e)),v[4]===v[7].CONNECTING&&v[3]?_?_.p(v,x):(_=Oe(v),_.c(),_.m(t,n)):_&&(_.d(1),_=null),d&&d.p&&(!p||x&65536)&&Ke(d,m,v,v[16],p?Je(m,v[16],x,null):We(v[16]),null),(!p||x&1&&s!==(s=`${v[0].x} ${v[0].y} ${v[0].width} ${v[0].height}`))&&b(t,"viewBox",s),(!p||x&16)&&Ce(t,"cursor",v[8][v[4]]);const D={};!a&&x&8&&(a=!0,D.router=v[3],ge(()=>a=!1)),!i&&x&32&&(i=!0,D.dialog=v[5],ge(()=>i=!1)),u.$set(D)},i(v){p||(H(d,v),H(u.$$.fragment,v),p=!0)},o(v){O(d,v),O(u.$$.fragment,v),p=!1},d(v){v&&(g(e),g(t),g(o)),r&&r.d(v),_&&_.d(),d&&d.d(v),l[19](null),Q(u,v),f=!1,Re(c)}}}function Tt(l,e,t){let n;Te(l,Ee,k=>t(23,n=k));let{$$slots:s={},$$scope:o}=e;var u=(k=>(k[k.NONE=0]="NONE",k[k.DRAGGING=1]="DRAGGING",k[k.PANNING=2]="PANNING",k[k.CONNECTING=3]="CONNECTING",k))(u||{});const a={x:0,y:0,width:0,height:0,get scale(){return c?this.width/c.getBoundingClientRect().width:1}},i={x:0,y:0},p={x:0,y:0},f={0:"move",1:"grabbing",2:"grabbing",3:"crosshair"};let c=null,r=null,_=0,m,d=!1;rt(()=>{if(!c)return;new ResizeObserver(C).observe(c),requestAnimationFrame(()=>{c&&(t(0,a.x=c.getBoundingClientRect().width/-2,a),t(0,a.y=c.getBoundingClientRect().height/-2,a))}),t(6,d=!0)});function C(){if(!c)return;const k=a.scale||1;t(0,a.width=c.getBoundingClientRect().width*k,a),t(0,a.height=c.getBoundingClientRect().height*k,a)}function h(k){if(!(k.target instanceof Element))return;k.preventDefault(),c==null||c.addEventListener("pointermove",v),c==null||c.setPointerCapture(k.pointerId);const $=k.target.id;if($){if(t(3,r=V.getRouter(parseInt($))||null),!r)return;k.shiftKey?t(4,_=3):(p.x=r.node.x,p.y=r.node.y,t(4,_=1))}else t(4,_=2);t(1,i.x=k.clientX,i),t(1,i.y=k.clientY,i)}function y(k){if(k.target instanceof Element){if(k.preventDefault(),_===3&&r){const $=document.elementFromPoint(k.clientX,k.clientY),j=($==null?void 0:$.tagName)==="circle"?$.id:null,ie=V.getRouter(parseInt(j??""));ie&&V.addConnection({source:r,target:ie})}t(4,_=0),t(3,r=null),c==null||c.releasePointerCapture(k.pointerId),c==null||c.removeEventListener("pointermove",v)}}function v(k){k.preventDefault();const $={x:(k.clientX-i.x)*a.scale,y:(k.clientY-i.y)*a.scale};!n&&_===1&&r?(t(3,r.node.x=p.x+$.x,r),t(3,r.node.y=p.y+$.y,r),V.fastUpdate()):_===2?(t(1,i.x=k.clientX,i),t(1,i.y=k.clientY,i),t(0,a.x-=$.x,a),t(0,a.y-=$.y,a)):!n&&_===3&&(t(1,i.x=k.clientX,i),t(1,i.y=k.clientY,i))}function x(k){if(k.preventDefault(),!c||a.scale<.1&&k.deltaY<=0||a.scale>5&&k.deltaY>=0)return;t(1,i.x=k.clientX,i),t(1,i.y=k.clientY,i);const $=c.getBoundingClientRect(),j=k.deltaY>0?1+.025:1-.025,ie={x:(i.x-$.left)/$.width,y:(i.y-$.top)/$.height};t(0,a.x-=a.width*(j-1)*ie.x,a),t(0,a.y-=a.height*(j-1)*ie.y,a),t(0,a.width*=j,a),t(0,a.height*=j,a)}function D(k){if(!(k.target instanceof Element))return;k.preventDefault();const $=document.elementFromPoint(k.clientX,k.clientY);if(!$||$.tagName!=="circle")return;const j=V.getRouter(parseInt($.id));j&&(t(3,r=j),m.showModal())}function B(k){var j;switch(k.preventDefault(),(j=k.dataTransfer)==null?void 0:j.getData("text/plain")){case"CE":V.createCE({label:"CE",x:q(k.clientX),y:Y(k.clientY)});break;case"LER":V.createLER({label:"LER",x:q(k.clientX),y:Y(k.clientY)});break;case"LSR":V.createLSR({label:"LSR",x:q(k.clientX),y:Y(k.clientY)});break}}function q(k){return c?(k-c.getBoundingClientRect().left)*a.scale+a.x:k}function Y(k){return c?(k-c.getBoundingClientRect().top)*a.scale+a.y:k}function S(k){Qe.call(this,l,k)}function Ie(k){ue[k?"unshift":"push"](()=>{c=k,t(2,c)})}function oe(k){r=k,t(3,r)}function _e(k){m=k,t(5,m)}return l.$$set=k=>{"$$scope"in k&&t(16,o=k.$$scope)},[a,i,c,r,_,m,d,u,f,h,y,x,D,B,q,Y,o,s,S,Ie,oe,_e]}class It extends ee{constructor(e){super(),te(this,e,Tt,Rt,Z,{})}}function Bt(l){let e,t,n,s,o;return{c(){e=ke("line"),this.h()},l(u){e=ye(u,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0}),U(e).forEach(g),this.h()},h(){b(e,"x1",t=l[0].source.node.x),b(e,"y1",n=l[0].source.node.y),b(e,"x2",s=l[0].target.node.x),b(e,"y2",o=l[0].target.node.y),b(e,"stroke","black")},m(u,a){w(u,e,a)},p(u,[a]){a&1&&t!==(t=u[0].source.node.x)&&b(e,"x1",t),a&1&&n!==(n=u[0].source.node.y)&&b(e,"y1",n),a&1&&s!==(s=u[0].target.node.x)&&b(e,"x2",s),a&1&&o!==(o=u[0].target.node.y)&&b(e,"y2",o)},i:X,o:X,d(u){u&&g(e)}}}function Lt(l,e,t){let{connection:n}=e;return l.$$set=s=>{"connection"in s&&t(0,n=s.connection)},[n]}class Nt extends ee{constructor(e){super(),te(this,e,Lt,Bt,Z,{connection:0})}}function $t(l){let e,t,n,s,o,u,a,i=l[0].node.label+"",p,f,c;return{c(){e=ke("circle"),u=L(),a=ke("text"),p=ne(i),this.h()},l(r){e=ye(r,"circle",{id:!0,cx:!0,cy:!0,r:!0,fill:!0,class:!0}),U(e).forEach(g),u=N(r),a=ye(r,"text",{x:!0,y:!0,"text-anchor":!0,"alignment-baseline":!0,class:!0});var _=U(a);p=le(_,i),_.forEach(g),this.h()},h(){b(e,"id",t=l[0].id.toString()),b(e,"cx",n=l[0].node.x),b(e,"cy",s=l[0].node.y),b(e,"r","20"),b(e,"fill",o=l[1][l[0].type]),b(e,"class","svelte-11bg7m5"),b(a,"x",f=l[0].node.x),b(a,"y",c=l[0].node.y),b(a,"text-anchor","middle"),b(a,"alignment-baseline","middle"),b(a,"class","svelte-11bg7m5")},m(r,_){w(r,e,_),w(r,u,_),w(r,a,_),T(a,p)},p(r,[_]){_&1&&t!==(t=r[0].id.toString())&&b(e,"id",t),_&1&&n!==(n=r[0].node.x)&&b(e,"cx",n),_&1&&s!==(s=r[0].node.y)&&b(e,"cy",s),_&1&&o!==(o=r[1][r[0].type])&&b(e,"fill",o),_&1&&i!==(i=r[0].node.label+"")&&ce(p,i),_&1&&f!==(f=r[0].node.x)&&b(a,"x",f),_&1&&c!==(c=r[0].node.y)&&b(a,"y",c)},i:X,o:X,d(r){r&&(g(e),g(u),g(a))}}}function Pt(l,e,t){let{router:n}=e;const s={CE:"lightgreen",LER:"cyan",LSR:"hotpink"};return l.$$set=o=>{"router"in o&&t(0,n=o.router)},[n,s]}class xt extends ee{constructor(e){super(),te(this,e,Pt,$t,Z,{router:0})}}function Dt(l){let e,t,n,s;return{c(){e=E("div"),t=ne(l[0]),this.h()},l(o){e=R(o,"DIV",{draggable:!0,role:!0,tabindex:!0,style:!0,class:!0});var u=U(e);t=le(u,l[0]),u.forEach(g),this.h()},h(){b(e,"draggable","true"),b(e,"role","button"),b(e,"tabindex","-1"),Ce(e,"background-color",l[1]),b(e,"class","svelte-17iodfq")},m(o,u){w(o,e,u),T(e,t),n||(s=M(e,"dragstart",l[2]),n=!0)},p(o,[u]){u&1&&ce(t,o[0]),u&2&&Ce(e,"background-color",o[1])},i:X,o:X,d(o){o&&g(e),n=!1,s()}}}function Ut(l,e,t){let n;Te(l,Ee,i=>t(4,n=i));let{text:s}=e,{type:o}=e,{color:u}=e;function a(i){var p;if(n){alert("Network is locked.");return}(p=i.dataTransfer)==null||p.setData("text/plain",o)}return l.$$set=i=>{"text"in i&&t(0,s=i.text),"type"in i&&t(3,o=i.type),"color"in i&&t(1,u=i.color)},[s,u,a,o]}class Mt extends ee{constructor(e){super(),te(this,e,Ut,Dt,Z,{text:0,type:3,color:1})}}function Ht(l){let e,t,n,s;return{c(){e=E("button"),t=ne(l[0]),this.h()},l(o){e=R(o,"BUTTON",{class:!0});var u=U(e);t=le(u,l[0]),u.forEach(g),this.h()},h(){b(e,"class","svelte-1mil06r")},m(o,u){w(o,e,u),T(e,t),n||(s=M(e,"click",function(){Be(l[1])&&l[1].apply(this,arguments)}),n=!0)},p(o,[u]){l=o,u&1&&ce(t,l[0])},i:X,o:X,d(o){o&&g(e),n=!1,s()}}}function Ft(l,e,t){let{text:n}=e,{callback:s=()=>{}}=e;return l.$$set=o=>{"text"in o&&t(0,n=o.text),"callback"in o&&t(1,s=o.callback)},[n,s]}class Ot extends ee{constructor(e){super(),te(this,e,Ft,Ht,Z,{text:0,callback:1})}}function Ae(l,e,t){const n=l.slice();return n[3]=e[t],n}function ze(l,e,t){const n=l.slice();return n[6]=e[t],n}function Se(l){let e,t;const n=[l[6]];let s={};for(let o=0;o<n.length;o+=1)s=Ze(s,n[o]);return e=new Mt({props:s}),{c(){K(e.$$.fragment)},l(o){W(e.$$.fragment,o)},m(o,u){J(e,o,u),t=!0},p(o,u){const a=u&2?tt(n,[nt(o[6])]):{};e.$set(a)},i(o){t||(H(e.$$.fragment,o),t=!0)},o(o){O(e.$$.fragment,o),t=!1},d(o){Q(e,o)}}}function Ye(l){let e,t;const n=[l[3]];let s={};for(let o=0;o<n.length;o+=1)s=Ze(s,n[o]);return e=new Ot({props:s}),{c(){K(e.$$.fragment)},l(o){W(e.$$.fragment,o)},m(o,u){J(e,o,u),t=!0},p(o,u){const a=u&1?tt(n,[nt(o[3])]):{};e.$set(a)},i(o){t||(H(e.$$.fragment,o),t=!0)},o(o){O(e.$$.fragment,o),t=!1},d(o){Q(e,o)}}}function At(l){let e,t,n,s=G(l[1]),o=[];for(let f=0;f<s.length;f+=1)o[f]=Se(ze(l,s,f));const u=f=>O(o[f],1,1,()=>{o[f]=null});let a=G(l[0]),i=[];for(let f=0;f<a.length;f+=1)i[f]=Ye(Ae(l,a,f));const p=f=>O(i[f],1,1,()=>{i[f]=null});return{c(){for(let f=0;f<o.length;f+=1)o[f].c();e=L();for(let f=0;f<i.length;f+=1)i[f].c();t=re()},l(f){for(let c=0;c<o.length;c+=1)o[c].l(f);e=N(f);for(let c=0;c<i.length;c+=1)i[c].l(f);t=re()},m(f,c){for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(f,c);w(f,e,c);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(f,c);w(f,t,c),n=!0},p(f,[c]){if(c&2){s=G(f[1]);let r;for(r=0;r<s.length;r+=1){const _=ze(f,s,r);o[r]?(o[r].p(_,c),H(o[r],1)):(o[r]=Se(_),o[r].c(),H(o[r],1),o[r].m(e.parentNode,e))}for(me(),r=s.length;r<o.length;r+=1)u(r);ve()}if(c&1){a=G(f[0]);let r;for(r=0;r<a.length;r+=1){const _=Ae(f,a,r);i[r]?(i[r].p(_,c),H(i[r],1)):(i[r]=Ye(_),i[r].c(),H(i[r],1),i[r].m(t.parentNode,t))}for(me(),r=a.length;r<i.length;r+=1)p(r);ve()}},i(f){if(!n){for(let c=0;c<s.length;c+=1)H(o[c]);for(let c=0;c<a.length;c+=1)H(i[c]);n=!0}},o(f){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)O(o[c]);i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)O(i[c]);n=!1},d(f){f&&(g(e),g(t)),ae(o,f),ae(i,f)}}}function zt(l,e,t){let n,s;Te(l,Ee,u=>t(2,s=u));const o=[{text:"+ Customer",type:"CE",color:"lightgreen"},{text:"+ Edge",type:"LER",color:"cyan"},{text:"+ Switch",type:"LSR",color:"hotpink"}];return l.$$.update=()=>{l.$$.dirty&4&&t(0,n=[{text:s?"Unlock":"Lock",callback:()=>{it(Ee,s=!s,s)}},{text:"Clear",callback:()=>{if(s){alert("Network is locked.");return}confirm("Are you sure you want to clear the network?")&&V.clear()}}])},[n,o,s]}class St extends ee{constructor(e){super(),te(this,e,zt,At,Z,{})}}function Yt(l){let e,t="Drag and drop routers that you want to add.",n,s,o="Hold the shift key and drag routers to make connections between the routers.",u,a,i="Double press a router to configure/delete it.",p,f,c="The clear button will delete everything.",r,_,m,d,C="Press Esc to close this popup.";return{c(){e=E("p"),e.textContent=t,n=L(),s=E("p"),s.textContent=o,u=L(),a=E("p"),a.textContent=i,p=L(),f=E("p"),f.textContent=c,r=L(),_=E("br"),m=L(),d=E("p"),d.textContent=C},l(h){e=R(h,"P",{"data-svelte-h":!0}),A(e)!=="svelte-1e52y96"&&(e.textContent=t),n=N(h),s=R(h,"P",{"data-svelte-h":!0}),A(s)!=="svelte-b60b0b"&&(s.textContent=o),u=N(h),a=R(h,"P",{"data-svelte-h":!0}),A(a)!=="svelte-zhn422"&&(a.textContent=i),p=N(h),f=R(h,"P",{"data-svelte-h":!0}),A(f)!=="svelte-epfgnc"&&(f.textContent=c),r=N(h),_=R(h,"BR",{}),m=N(h),d=R(h,"P",{"data-svelte-h":!0}),A(d)!=="svelte-1dvt5v1"&&(d.textContent=C)},m(h,y){w(h,e,y),w(h,n,y),w(h,s,y),w(h,u,y),w(h,a,y),w(h,p,y),w(h,f,y),w(h,r,y),w(h,_,y),w(h,m,y),w(h,d,y)},p:X,d(h){h&&(g(e),g(n),g(s),g(u),g(a),g(p),g(f),g(r),g(_),g(m),g(d))}}}function Xt(l){let e,t,n="Help",s,o,u,a,i,p;function f(r){l[2](r)}let c={$$slots:{default:[Yt]},$$scope:{ctx:l}};return l[0]!==void 0&&(c.dialog=l[0]),o=new lt({props:c}),ue.push(()=>be(o,"dialog",f)),{c(){e=E("div"),t=E("button"),t.textContent=n,s=L(),K(o.$$.fragment),this.h()},l(r){e=R(r,"DIV",{});var _=U(e);t=R(_,"BUTTON",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-1l58twh"&&(t.textContent=n),_.forEach(g),s=N(r),W(o.$$.fragment,r),this.h()},h(){b(t,"class","svelte-g8xfna")},m(r,_){w(r,e,_),T(e,t),w(r,s,_),J(o,r,_),a=!0,i||(p=M(t,"click",l[1]),i=!0)},p(r,[_]){const m={};_&8&&(m.$$scope={dirty:_,ctx:r}),!u&&_&1&&(u=!0,m.dialog=r[0],ge(()=>u=!1)),o.$set(m)},i(r){a||(H(o.$$.fragment,r),a=!0)},o(r){O(o.$$.fragment,r),a=!1},d(r){r&&(g(e),g(s)),Q(o,r),i=!1,p()}}}function qt(l,e,t){let n;const s=()=>{n.showModal()};function o(u){n=u,t(0,n)}return[n,s,o]}class jt extends ee{constructor(e){super(),te(this,e,qt,Xt,Z,{})}}function Xe(l,e,t){const n=l.slice();return n[1]=e[t],n}function qe(l,e,t){const n=l.slice();return n[4]=e[t],n}function je(l){let e,t;return e=new Nt({props:{connection:l[4]}}),{c(){K(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,s){J(e,n,s),t=!0},p(n,s){const o={};s&1&&(o.connection=n[4]),e.$set(o)},i(n){t||(H(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function Ge(l){let e,t;return e=new xt({props:{router:l[1]}}),{c(){K(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,s){J(e,n,s),t=!0},p(n,s){const o={};s&1&&(o.router=n[1]),e.$set(o)},i(n){t||(H(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}function Gt(l){let e,t,n,s=G(l[0].connections),o=[];for(let f=0;f<s.length;f+=1)o[f]=je(qe(l,s,f));const u=f=>O(o[f],1,1,()=>{o[f]=null});let a=G(l[0].routers),i=[];for(let f=0;f<a.length;f+=1)i[f]=Ge(Xe(l,a,f));const p=f=>O(i[f],1,1,()=>{i[f]=null});return{c(){for(let f=0;f<o.length;f+=1)o[f].c();e=L();for(let f=0;f<i.length;f+=1)i[f].c();t=re()},l(f){for(let c=0;c<o.length;c+=1)o[c].l(f);e=N(f);for(let c=0;c<i.length;c+=1)i[c].l(f);t=re()},m(f,c){for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(f,c);w(f,e,c);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(f,c);w(f,t,c),n=!0},p(f,c){if(c&1){s=G(f[0].connections);let r;for(r=0;r<s.length;r+=1){const _=qe(f,s,r);o[r]?(o[r].p(_,c),H(o[r],1)):(o[r]=je(_),o[r].c(),H(o[r],1),o[r].m(e.parentNode,e))}for(me(),r=s.length;r<o.length;r+=1)u(r);ve()}if(c&1){a=G(f[0].routers);let r;for(r=0;r<a.length;r+=1){const _=Xe(f,a,r);i[r]?(i[r].p(_,c),H(i[r],1)):(i[r]=Ge(_),i[r].c(),H(i[r],1),i[r].m(t.parentNode,t))}for(me(),r=a.length;r<i.length;r+=1)p(r);ve()}},i(f){if(!n){for(let c=0;c<s.length;c+=1)H(o[c]);for(let c=0;c<a.length;c+=1)H(i[c]);n=!0}},o(f){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)O(o[c]);i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)O(i[c]);n=!1},d(f){f&&(g(e),g(t)),ae(o,f),ae(i,f)}}}function Vt(l){let e,t,n,s,o,u,a,i,p;return t=new It({props:{$$slots:{default:[Gt]},$$scope:{ctx:l}}}),o=new St({}),i=new jt({}),{c(){e=E("div"),K(t.$$.fragment),n=L(),s=E("div"),K(o.$$.fragment),u=L(),a=E("div"),K(i.$$.fragment),this.h()},l(f){e=R(f,"DIV",{id:!0,class:!0});var c=U(e);W(t.$$.fragment,c),n=N(c),s=R(c,"DIV",{id:!0,class:!0});var r=U(s);W(o.$$.fragment,r),r.forEach(g),u=N(c),a=R(c,"DIV",{id:!0,class:!0});var _=U(a);W(i.$$.fragment,_),_.forEach(g),c.forEach(g),this.h()},h(){b(s,"id","top-left-bar"),b(s,"class","absolute-flex svelte-ixqfsc"),b(a,"id","bottom-left-bar"),b(a,"class","absolute-flex svelte-ixqfsc"),b(e,"id","network"),b(e,"class","svelte-ixqfsc")},m(f,c){w(f,e,c),J(t,e,null),T(e,n),T(e,s),J(o,s,null),T(e,u),T(e,a),J(i,a,null),p=!0},p(f,[c]){const r={};c&129&&(r.$$scope={dirty:c,ctx:f}),t.$set(r)},i(f){p||(H(t.$$.fragment,f),H(o.$$.fragment,f),H(i.$$.fragment,f),p=!0)},o(f){O(t.$$.fragment,f),O(o.$$.fragment,f),O(i.$$.fragment,f),p=!1},d(f){f&&g(e),Q(t),Q(o),Q(i)}}}function Kt(l,e,t){let n;return Te(l,V,s=>t(0,n=s)),[n]}class Wt extends ee{constructor(e){super(),te(this,e,Kt,Vt,Z,{})}}function Jt(l){let e,t;return e=new Wt({}),{c(){K(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,s){J(e,n,s),t=!0},p:X,i(n){t||(H(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){Q(e,n)}}}class ln extends ee{constructor(e){super(),te(this,e,null,Jt,Z,{})}}export{ln as component};
