import{s as se,n as te,r as _e,c as ze,x as Z,o as Ue,y as Pe,z as Oe,e as Se}from"../chunks/scheduler.DTCaYsHm.js";import{S as re,i as ce,e as D,s as U,c as I,a as $,z as X,f as O,d as k,g as N,h as C,A as M,B as G,t as A,o as le,b as L,j as F,l as E,C as oe,D as ie,E as Ye,m as ee,r as je,p as Ae,n as ne,F as pe,G as me,v as ue,w as fe,x as de,y as he}from"../chunks/index.CSOn5lIA.js";import{w as Le}from"../chunks/index.BP_uKY5A.js";function H(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Re(t,e){const n={},l={},i={$$scope:1};let o=t.length;for(;o--;){const c=t[o],h=e[o];if(h){for(const f in c)f in h||(l[f]=1);for(const f in h)i[f]||(n[f]=h[f],i[f]=1);t[o]=h}else for(const f in c)i[f]=1}for(const c in l)c in n||(n[c]=void 0);return n}function Me(t){return typeof t=="object"&&t!==null?t:{}}const He={nodes:[],connections:[]},V=Le(He);var Y=(t=>(t[t.Customer=0]="Customer",t[t.Edge=1]="Edge",t[t.Core=2]="Core",t))(Y||{});function Xe(t){return Object.values(Y).includes(t)}function be(t,e,n){const l=t.slice();return l[15]=e[n],l[17]=n,l}function Ce(t,e,n){const l=t.slice();return l[18]=e[n],l}function ke(t,e,n){const l=t.slice();return l[21]=e[n],l}function xe(t){let e,n,l=t[21].label+"",i,o,c="Delete",h,f,a;function _(){return t[12](t[21])}function r(){return t[13](t[21])}return{c(){e=D("div"),n=D("button"),i=A(l),o=D("button"),o.textContent=c,h=U()},l(v){e=I(v,"DIV",{});var p=$(e);n=I(p,"BUTTON",{});var w=$(n);i=L(w,l),w.forEach(k),o=I(p,"BUTTON",{"data-svelte-h":!0}),X(o)!=="svelte-18k36u1"&&(o.textContent=c),h=O(p),p.forEach(k)},m(v,p){N(v,e,p),C(e,n),C(n,i),C(e,o),C(e,h),f||(a=[M(n,"click",_),M(o,"click",r)],f=!0)},p(v,p){t=v,p&2&&l!==(l=t[21].label+"")&&F(i,l)},d(v){v&&k(e),f=!1,_e(a)}}}function ye(t){let e,n=t[18].title+"",l,i,o;function c(...a){return t[11](t[18],...a)}let h=H(t[1].nodes.filter(c)),f=[];for(let a=0;a<h.length;a+=1)f[a]=xe(ke(t,h,a));return{c(){e=D("h2"),l=A(n),i=U();for(let a=0;a<f.length;a+=1)f[a].c();o=le()},l(a){e=I(a,"H2",{});var _=$(e);l=L(_,n),_.forEach(k),i=O(a);for(let r=0;r<f.length;r+=1)f[r].l(a);o=le()},m(a,_){N(a,e,_),C(e,l),N(a,i,_);for(let r=0;r<f.length;r+=1)f[r]&&f[r].m(a,_);N(a,o,_)},p(a,_){if(t=a,_&166){h=H(t[1].nodes.filter(c));let r;for(r=0;r<h.length;r+=1){const v=ke(t,h,r);f[r]?f[r].p(v,_):(f[r]=xe(v),f[r].c(),f[r].m(o.parentNode,o))}for(;r<f.length;r+=1)f[r].d(1);f.length=h.length}},d(a){a&&(k(e),k(i),k(o)),G(f,a)}}}function we(t){let e,n=t[15].source+"",l,i,o=t[15].target+"",c,h,f,a="Delete",_,r;function v(){return t[14](t[17])}return{c(){e=D("li"),l=A(n),i=A(" - "),c=A(o),h=U(),f=D("button"),f.textContent=a},l(p){e=I(p,"LI",{});var w=$(e);l=L(w,n),i=L(w," - "),c=L(w,o),w.forEach(k),h=O(p),f=I(p,"BUTTON",{"data-svelte-h":!0}),X(f)!=="svelte-b5j5lo"&&(f.textContent=a)},m(p,w){N(p,e,w),C(e,l),C(e,i),C(e,c),N(p,h,w),N(p,f,w),_||(r=M(f,"click",v),_=!0)},p(p,w){t=p,w&2&&n!==(n=t[15].source+"")&&F(l,n),w&2&&o!==(o=t[15].target+"")&&F(c,o)},d(p){p&&(k(e),k(h),k(f)),_=!1,r()}}}function Ee(t){let e,n,l="Additional Information",i,o,c,h=t[1].nodes[t[0]].id+"",f,a,_,r,v=t[1].nodes[t[0]].label+"",p,w,b,j,d=Y[t[1].nodes[t[0]].type]+"",g;return{c(){e=D("div"),n=D("h2"),n.textContent=l,i=U(),o=D("p"),c=A("ID: "),f=A(h),a=U(),_=D("p"),r=A("Name: "),p=A(v),w=U(),b=D("p"),j=A("Type: "),g=A(d)},l(s){e=I(s,"DIV",{});var u=$(e);n=I(u,"H2",{"data-svelte-h":!0}),X(n)!=="svelte-137rbph"&&(n.textContent=l),i=O(u),o=I(u,"P",{});var m=$(o);c=L(m,"ID: "),f=L(m,h),m.forEach(k),a=O(u),_=I(u,"P",{});var T=$(_);r=L(T,"Name: "),p=L(T,v),T.forEach(k),w=O(u),b=I(u,"P",{});var z=$(b);j=L(z,"Type: "),g=L(z,d),z.forEach(k),u.forEach(k)},m(s,u){N(s,e,u),C(e,n),C(e,i),C(e,o),C(o,c),C(o,f),C(e,a),C(e,_),C(_,r),C(_,p),C(e,w),C(e,b),C(b,j),C(b,g)},p(s,u){u&3&&h!==(h=s[1].nodes[s[0]].id+"")&&F(f,h),u&3&&v!==(v=s[1].nodes[s[0]].label+"")&&F(p,v),u&3&&d!==(d=Y[s[1].nodes[s[0]].type]+"")&&F(g,d)},d(s){s&&k(e)}}}function Ve(t){let e,n,l="Nodes",i,o,c="Add Customer",h,f,a="Add Edge Router",_,r,v="Add Core Router",p,w,b,j,d="Connections",g,s,u="Add Connection",m,T,z,W,ae,ge,K=H(t[2]),P=[];for(let y=0;y<K.length;y+=1)P[y]=ye(Ce(t,K,y));let Q=H(t[1].connections),R=[];for(let y=0;y<Q.length;y+=1)R[y]=we(be(t,Q,y));let S=t[0]!==-1&&Ee(t);return{c(){e=D("div"),n=D("h2"),n.textContent=l,i=U(),o=D("button"),o.textContent=c,h=U(),f=D("button"),f.textContent=a,_=U(),r=D("button"),r.textContent=v,p=U();for(let y=0;y<P.length;y+=1)P[y].c();w=U(),b=D("div"),j=D("h2"),j.textContent=d,g=U(),s=D("button"),s.textContent=u,m=U(),T=D("ul");for(let y=0;y<R.length;y+=1)R[y].c();z=U(),W=D("div"),S&&S.c()},l(y){e=I(y,"DIV",{});var B=$(e);n=I(B,"H2",{"data-svelte-h":!0}),X(n)!=="svelte-gommgp"&&(n.textContent=l),i=O(B),o=I(B,"BUTTON",{"data-svelte-h":!0}),X(o)!=="svelte-1kz3tf6"&&(o.textContent=c),h=O(B),f=I(B,"BUTTON",{"data-svelte-h":!0}),X(f)!=="svelte-gpeorv"&&(f.textContent=a),_=O(B),r=I(B,"BUTTON",{"data-svelte-h":!0}),X(r)!=="svelte-o5pmnr"&&(r.textContent=v),p=O(B);for(let J=0;J<P.length;J+=1)P[J].l(B);B.forEach(k),w=O(y),b=I(y,"DIV",{});var x=$(b);j=I(x,"H2",{"data-svelte-h":!0}),X(j)!=="svelte-1lh0jn5"&&(j.textContent=d),g=O(x),s=I(x,"BUTTON",{"data-svelte-h":!0}),X(s)!=="svelte-c30k9w"&&(s.textContent=u),m=O(x),T=I(x,"UL",{});var q=$(T);for(let J=0;J<R.length;J+=1)R[J].l(q);q.forEach(k),x.forEach(k),z=O(y),W=I(y,"DIV",{});var ve=$(W);S&&S.l(ve),ve.forEach(k)},m(y,B){N(y,e,B),C(e,n),C(e,i),C(e,o),C(e,h),C(e,f),C(e,_),C(e,r),C(e,p);for(let x=0;x<P.length;x+=1)P[x]&&P[x].m(e,null);N(y,w,B),N(y,b,B),C(b,j),C(b,g),C(b,s),C(b,m),C(b,T);for(let x=0;x<R.length;x+=1)R[x]&&R[x].m(T,null);N(y,z,B),N(y,W,B),S&&S.m(W,null),ae||(ge=[M(o,"click",t[8]),M(f,"click",t[9]),M(r,"click",t[10]),M(s,"click",t[4])],ae=!0)},p(y,[B]){if(B&166){K=H(y[2]);let x;for(x=0;x<K.length;x+=1){const q=Ce(y,K,x);P[x]?P[x].p(q,B):(P[x]=ye(q),P[x].c(),P[x].m(e,null))}for(;x<P.length;x+=1)P[x].d(1);P.length=K.length}if(B&66){Q=H(y[1].connections);let x;for(x=0;x<Q.length;x+=1){const q=be(y,Q,x);R[x]?R[x].p(q,B):(R[x]=we(q),R[x].c(),R[x].m(T,null))}for(;x<R.length;x+=1)R[x].d(1);R.length=Q.length}y[0]!==-1?S?S.p(y,B):(S=Ee(y),S.c(),S.m(W,null)):S&&(S.d(1),S=null)},i:te,o:te,d(y){y&&(k(e),k(w),k(b),k(z),k(W)),G(P,y),G(R,y),S&&S.d(),ae=!1,_e(ge)}}}function qe(t,e,n){let l;ze(t,V,g=>n(1,l=g));const i=[{title:"Customers",nodeType:Y.Customer},{title:"Edge Routers",nodeType:Y.Edge},{title:"Core Routers",nodeType:Y.Core}];let o=-1;function c(g){const s=prompt("Name");if(!s)return;if(l.nodes.find(m=>m.id===s)){alert("Name already exists");return}const u={id:s,label:s,x:20,y:20,type:g};Z(V,l.nodes=[...l.nodes,u],l)}function h(){const g=prompt("Source");if(!g)return;if(!l.nodes.find(m=>m.id===g)){alert("Source does not exist");return}const s=prompt("Target");if(!s)return;if(!l.nodes.find(m=>m.id===s)){alert("Target does not exist");return}const u={source:g,target:s};Z(V,l.connections=[...l.connections,u],l)}function f(g){const s=l.nodes.findIndex(m=>m.id===g),u=l.nodes[s].id;Z(V,l.nodes=l.nodes.toSpliced(s,1),l),Z(V,l.connections=l.connections.filter(m=>m.source!==u&&m.target!==u),l)}function a(g){Z(V,l.connections=l.connections.toSpliced(g,1),l)}function _(g){const s=l.nodes.findIndex(u=>u.id===g);n(0,o=s===o?-1:s)}return[o,l,i,c,h,f,a,_,()=>{c(Y.Customer)},()=>{c(Y.Edge)},()=>{c(Y.Core)},(g,s)=>s.type===g.nodeType,g=>{_(g.id)},g=>{f(g.id)},g=>{a(g)}]}class Fe extends re{constructor(e){super(),ce(this,e,qe,Ve,se,{})}}function We(t){let e,n,l,i;return{c(){e=D("div"),n=A(t[0]),this.h()},l(o){e=I(o,"DIV",{draggable:!0,role:!0,tabindex:!0,class:!0});var c=$(e);n=L(c,t[0]),c.forEach(k),this.h()},h(){E(e,"draggable","true"),E(e,"role","button"),E(e,"tabindex","-1"),E(e,"class","svelte-1qkvhp3")},m(o,c){N(o,e,c),C(e,n),l||(i=M(e,"dragstart",t[1]),l=!0)},p(o,[c]){c&1&&F(n,o[0])},i:te,o:te,d(o){o&&k(e),l=!1,i()}}}function Je(t,e,n){let{text:l}=e,{type:i}=e;function o(c){var h;(h=c.dataTransfer)==null||h.setData("text/plain",i.toString())}return t.$$set=c=>{"text"in c&&n(0,l=c.text),"type"in c&&n(2,i=c.type)},[l,o,i]}class Ke extends re{constructor(e){super(),ce(this,e,Je,We,se,{text:0,type:2})}}function De(t,e,n){const l=t.slice();return l[18]=e[n],l}function Ie(t,e,n){const l=t.slice();return l[21]=e[n],l}function Te(t,e,n){const l=t.slice();return l[24]=e[n],l}function Be(t){let e,n=[t[8](t[24]),{stroke:"black"}],l={};for(let i=0;i<n.length;i+=1)l=Pe(l,n[i]);return{c(){e=oe("line"),this.h()},l(i){e=ie(i,"line",{stroke:!0}),$(e).forEach(k),this.h()},h(){pe(e,l),me(e,"svelte-1cvznpu",!0)},m(i,o){N(i,e,o)},p(i,o){pe(e,l=Re(n,[o&4&&i[8](i[24]),{stroke:"black"}])),me(e,"svelte-1cvznpu",!0)},d(i){i&&k(e)}}}function $e(t){let e,n,l,i,o,c,h=t[21].label+"",f,a,_;return{c(){e=oe("circle"),c=oe("text"),f=A(h),this.h()},l(r){e=ie(r,"circle",{id:!0,cx:!0,cy:!0,r:!0,fill:!0,class:!0}),$(e).forEach(k),c=ie(r,"text",{x:!0,y:!0,"text-anchor":!0,"alignment-baseline":!0,class:!0});var v=$(c);f=L(v,h),v.forEach(k),this.h()},h(){E(e,"id",n=t[21].id),E(e,"cx",l=t[21].x),E(e,"cy",i=t[21].y),E(e,"r","20"),E(e,"fill",o=t[3][t[21].type]),E(e,"class","svelte-1cvznpu"),E(c,"x",a=t[21].x),E(c,"y",_=t[21].y),E(c,"text-anchor","middle"),E(c,"alignment-baseline","middle"),E(c,"class","svelte-1cvznpu")},m(r,v){N(r,e,v),N(r,c,v),C(c,f)},p(r,v){v&4&&n!==(n=r[21].id)&&E(e,"id",n),v&4&&l!==(l=r[21].x)&&E(e,"cx",l),v&4&&i!==(i=r[21].y)&&E(e,"cy",i),v&4&&o!==(o=r[3][r[21].type])&&E(e,"fill",o),v&4&&h!==(h=r[21].label+"")&&F(f,h),v&4&&a!==(a=r[21].x)&&E(c,"x",a),v&4&&_!==(_=r[21].y)&&E(c,"y",_)},d(r){r&&(k(e),k(c))}}}function Ne(t){let e,n;const l=[t[18]];let i={};for(let o=0;o<l.length;o+=1)i=Pe(i,l[o]);return e=new Ke({props:i}),{c(){ue(e.$$.fragment)},l(o){fe(e.$$.fragment,o)},m(o,c){de(e,o,c),n=!0},p(o,c){const h=c&16?Re(l,[Me(o[18])]):{};e.$set(h)},i(o){n||(ee(e.$$.fragment,o),n=!0)},o(o){ne(e.$$.fragment,o),n=!1},d(o){he(e,o)}}}function Qe(t){let e,n,l,i,o,c,h,f,a,_=H(t[2].connections),r=[];for(let d=0;d<_.length;d+=1)r[d]=Be(Te(t,_,d));let v=H(t[2].nodes),p=[];for(let d=0;d<v.length;d+=1)p[d]=$e(Ie(t,v,d));let w=H(t[4]),b=[];for(let d=0;d<w.length;d+=1)b[d]=Ne(De(t,w,d));const j=d=>ne(b[d],1,1,()=>{b[d]=null});return{c(){e=D("div"),n=oe("svg");for(let d=0;d<r.length;d+=1)r[d].c();l=le();for(let d=0;d<p.length;d+=1)p[d].c();o=U(),c=D("div");for(let d=0;d<b.length;d+=1)b[d].c();this.h()},l(d){e=I(d,"DIV",{id:!0,class:!0});var g=$(e);n=ie(g,"svg",{viewBox:!0,role:!0,tabindex:!0,class:!0});var s=$(n);for(let m=0;m<r.length;m+=1)r[m].l(s);l=le();for(let m=0;m<p.length;m+=1)p[m].l(s);s.forEach(k),o=O(g),c=I(g,"DIV",{id:!0,class:!0});var u=$(c);for(let m=0;m<b.length;m+=1)b[m].l(u);u.forEach(k),g.forEach(k),this.h()},h(){E(n,"viewBox",i=`${t[0].x} ${t[0].y} ${t[0].width} ${t[0].height}`),E(n,"role","button"),E(n,"tabindex","-1"),E(n,"class","svelte-1cvznpu"),E(c,"id","drag-and-drop-container"),E(c,"class","svelte-1cvznpu"),E(e,"id","svg-container"),E(e,"class","svelte-1cvznpu")},m(d,g){N(d,e,g),C(e,n);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(n,null);C(n,l);for(let s=0;s<p.length;s+=1)p[s]&&p[s].m(n,null);t[11](n),C(e,o),C(e,c);for(let s=0;s<b.length;s+=1)b[s]&&b[s].m(c,null);h=!0,f||(a=[M(n,"wheel",t[7]),M(n,"pointerdown",t[5]),M(n,"pointerup",t[6]),M(n,"dragover",Ye(t[10])),M(n,"drop",t[9])],f=!0)},p(d,[g]){if(g&260){_=H(d[2].connections);let s;for(s=0;s<_.length;s+=1){const u=Te(d,_,s);r[s]?r[s].p(u,g):(r[s]=Be(u),r[s].c(),r[s].m(n,l))}for(;s<r.length;s+=1)r[s].d(1);r.length=_.length}if(g&12){v=H(d[2].nodes);let s;for(s=0;s<v.length;s+=1){const u=Ie(d,v,s);p[s]?p[s].p(u,g):(p[s]=$e(u),p[s].c(),p[s].m(n,null))}for(;s<p.length;s+=1)p[s].d(1);p.length=v.length}if((!h||g&1&&i!==(i=`${d[0].x} ${d[0].y} ${d[0].width} ${d[0].height}`))&&E(n,"viewBox",i),g&16){w=H(d[4]);let s;for(s=0;s<w.length;s+=1){const u=De(d,w,s);b[s]?(b[s].p(u,g),ee(b[s],1)):(b[s]=Ne(u),b[s].c(),ee(b[s],1),b[s].m(c,null))}for(je(),s=w.length;s<b.length;s+=1)j(s);Ae()}},i(d){if(!h){for(let g=0;g<w.length;g+=1)ee(b[g]);h=!0}},o(d){b=b.filter(Boolean);for(let g=0;g<b.length;g+=1)ne(b[g]);h=!1},d(d){d&&k(e),G(r,d),G(p,d),t[11](null),G(b,d),f=!1,_e(a)}}}function Ze(t,e,n){let l;ze(t,V,u=>n(2,l=u));const i={x:0,y:0,width:0,height:0,get scale(){return a?this.width/a.getBoundingClientRect().width:1}},o={x:0,y:0},c={x:0,y:0},h={[Y.Customer]:"lightgreen",[Y.Edge]:"cyan",[Y.Core]:"hotpink"},f=[{text:"+ Customer",type:Y.Customer},{text:"+ Edge",type:Y.Edge},{text:"+ Core",type:Y.Core}];let a=null,_=null,r=0;Ue(()=>{a&&(n(0,i.width=a.getBoundingClientRect().width,i),n(0,i.height=a.getBoundingClientRect().height,i))});function v(u){if(!(u.target instanceof Element))return;u.preventDefault(),a==null||a.addEventListener("pointermove",w),a==null||a.setPointerCapture(u.pointerId);const m=u.target.id;m?(_=l.nodes.find(T=>T.id===m)||null,_&&(c.x=_.x,c.y=_.y,r=1)):r=2,o.x=u.clientX,o.y=u.clientY}function p(u){u.preventDefault(),r=0,_=null,a==null||a.releasePointerCapture(u.pointerId),a==null||a.removeEventListener("pointermove",w)}function w(u){u.preventDefault();const m={x:(u.clientX-o.x)*i.scale,y:(u.clientY-o.y)*i.scale};r===1&&_?(_.x=c.x+m.x,_.y=c.y+m.y,V.set(l)):r===2&&(n(0,i.x-=m.x,i),n(0,i.y-=m.y,i),o.x=u.clientX,o.y=u.clientY)}function b(u){if(u.preventDefault(),!a||i.scale<.1&&u.deltaY<=0||i.scale>5&&u.deltaY>=0)return;o.x=u.clientX,o.y=u.clientY;const m=a.getBoundingClientRect(),T=u.deltaY>0?1+.025:1-.025,z={x:(o.x-m.left)/m.width,y:(o.y-m.top)/m.height};n(0,i.x-=i.width*(T-1)*z.x,i),n(0,i.y-=i.height*(T-1)*z.y,i),n(0,i.width*=T,i),n(0,i.height*=T,i)}function j(u){const m=l.nodes.find(z=>z.id===u.source),T=l.nodes.find(z=>z.id===u.target);if(!(!m||!T))return{x1:m.x,y1:m.y,x2:T.x,y2:T.y}}function d(u){var z;u.preventDefault();const m=parseInt(((z=u.dataTransfer)==null?void 0:z.getData("text/plain"))??"0");if(!Xe(m)||!a)return;const T={id:Math.random().toString(36).substring(7),label:"L",x:(u.clientX-a.getBoundingClientRect().left)*i.scale+i.x,y:(u.clientY-a.getBoundingClientRect().top)*i.scale+i.y,type:m};Z(V,l.nodes=[...l.nodes,T],l)}function g(u){Oe.call(this,t,u)}function s(u){Se[u?"unshift":"push"](()=>{a=u,n(1,a)})}return[i,a,l,h,f,v,p,b,j,d,g,s]}class Ge extends re{constructor(e){super(),ce(this,e,Ze,Qe,se,{})}}function et(t){let e,n="MPLS Simulation but without any Simulation and any MPLS so far",l,i,o,c,h,f,a,_;return c=new Fe({}),a=new Ge({}),{c(){e=D("h1"),e.textContent=n,l=U(),i=D("div"),o=D("div"),ue(c.$$.fragment),h=U(),f=D("div"),ue(a.$$.fragment),this.h()},l(r){e=I(r,"H1",{"data-svelte-h":!0}),X(e)!=="svelte-gjfrzx"&&(e.textContent=n),l=O(r),i=I(r,"DIV",{id:!0,class:!0});var v=$(i);o=I(v,"DIV",{id:!0,class:!0});var p=$(o);fe(c.$$.fragment,p),p.forEach(k),h=O(v),f=I(v,"DIV",{id:!0,class:!0});var w=$(f);fe(a.$$.fragment,w),w.forEach(k),v.forEach(k),this.h()},h(){E(o,"id","left"),E(o,"class","svelte-1f7v595"),E(f,"id","right"),E(f,"class","svelte-1f7v595"),E(i,"id","container"),E(i,"class","svelte-1f7v595")},m(r,v){N(r,e,v),N(r,l,v),N(r,i,v),C(i,o),de(c,o,null),C(i,h),C(i,f),de(a,f,null),_=!0},p:te,i(r){_||(ee(c.$$.fragment,r),ee(a.$$.fragment,r),_=!0)},o(r){ne(c.$$.fragment,r),ne(a.$$.fragment,r),_=!1},d(r){r&&(k(e),k(l),k(i)),he(c),he(a)}}}class ot extends re{constructor(e){super(),ce(this,e,null,et,se,{})}}export{ot as component};
