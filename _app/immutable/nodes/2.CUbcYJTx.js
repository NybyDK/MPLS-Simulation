import{s as ie,n as G,r as se,b as Te,x as Z,o as $e,y as Ne,e as Pe}from"../chunks/scheduler.yvhymcvl.js";import{S as re,i as ce,e as w,s as U,g as E,j as T,z as S,c as A,d as C,a as B,l as b,A as j,B as ee,f as Y,n as te,k as L,m as J,C as ne,D as le,p as y,E as fe,v as de,w as he,x as _e,t as ge,b as me,y as pe}from"../chunks/index.CytrnWQ2.js";import{w as Re}from"../chunks/index.Dt5SNgFP.js";function z(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ue(t,e){const a={},o={},s={$$scope:1};let u=t.length;for(;u--;){const d=t[u],f=e[u];if(f){for(const n in d)n in f||(o[n]=1);for(const n in f)s[n]||(a[n]=f[n],s[n]=1);t[u]=f}else for(const n in d)s[n]=1}for(const d in o)d in a||(a[d]=void 0);return a}const Ae={nodes:[],connections:[]},F=Re(Ae);var M=(t=>(t[t.Customer=0]="Customer",t[t.Edge=1]="Edge",t[t.Core=2]="Core",t))(M||{});function ve(t,e,a){const o=t.slice();return o[15]=e[a],o[17]=a,o}function be(t,e,a){const o=t.slice();return o[18]=e[a],o}function Ce(t,e,a){const o=t.slice();return o[21]=e[a],o}function ke(t){let e,a,o=t[21].label+"",s,u,d="Delete",f,n,c;function r(){return t[12](t[21])}function i(){return t[13](t[21])}return{c(){e=w("div"),a=w("button"),s=Y(o),u=w("button"),u.textContent=d,f=U()},l(l){e=E(l,"DIV",{});var g=T(e);a=E(g,"BUTTON",{});var x=T(a);s=L(x,o),x.forEach(C),u=E(g,"BUTTON",{"data-svelte-h":!0}),S(u)!=="svelte-18k36u1"&&(u.textContent=d),f=A(g),g.forEach(C)},m(l,g){B(l,e,g),b(e,a),b(a,s),b(e,u),b(e,f),n||(c=[j(a,"click",r),j(u,"click",i)],n=!0)},p(l,g){t=l,g&2&&o!==(o=t[21].label+"")&&J(s,o)},d(l){l&&C(e),n=!1,se(c)}}}function xe(t){let e,a=t[18].title+"",o,s,u;function d(...c){return t[11](t[18],...c)}let f=z(t[1].nodes.filter(d)),n=[];for(let c=0;c<f.length;c+=1)n[c]=ke(Ce(t,f,c));return{c(){e=w("h2"),o=Y(a),s=U();for(let c=0;c<n.length;c+=1)n[c].c();u=te()},l(c){e=E(c,"H2",{});var r=T(e);o=L(r,a),r.forEach(C),s=A(c);for(let i=0;i<n.length;i+=1)n[i].l(c);u=te()},m(c,r){B(c,e,r),b(e,o),B(c,s,r);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(c,r);B(c,u,r)},p(c,r){if(t=c,r&166){f=z(t[1].nodes.filter(d));let i;for(i=0;i<f.length;i+=1){const l=Ce(t,f,i);n[i]?n[i].p(l,r):(n[i]=ke(l),n[i].c(),n[i].m(u.parentNode,u))}for(;i<n.length;i+=1)n[i].d(1);n.length=f.length}},d(c){c&&(C(e),C(s),C(u)),ee(n,c)}}}function ye(t){let e,a=t[15].source+"",o,s,u=t[15].target+"",d,f,n,c="Delete",r,i;function l(){return t[14](t[17])}return{c(){e=w("li"),o=Y(a),s=Y(" - "),d=Y(u),f=U(),n=w("button"),n.textContent=c},l(g){e=E(g,"LI",{});var x=T(e);o=L(x,a),s=L(x," - "),d=L(x,u),x.forEach(C),f=A(g),n=E(g,"BUTTON",{"data-svelte-h":!0}),S(n)!=="svelte-b5j5lo"&&(n.textContent=c)},m(g,x){B(g,e,x),b(e,o),b(e,s),b(e,d),B(g,f,x),B(g,n,x),r||(i=j(n,"click",l),r=!0)},p(g,x){t=g,x&2&&a!==(a=t[15].source+"")&&J(o,a),x&2&&u!==(u=t[15].target+"")&&J(d,u)},d(g){g&&(C(e),C(f),C(n)),r=!1,i()}}}function we(t){let e,a,o="Additional Information",s,u,d,f=t[1].nodes[t[0]].id+"",n,c,r,i,l=t[1].nodes[t[0]].label+"",g,x,D,O,v=M[t[1].nodes[t[0]].type]+"",_;return{c(){e=w("div"),a=w("h2"),a.textContent=o,s=U(),u=w("p"),d=Y("ID: "),n=Y(f),c=U(),r=w("p"),i=Y("Name: "),g=Y(l),x=U(),D=w("p"),O=Y("Type: "),_=Y(v)},l(h){e=E(h,"DIV",{});var k=T(e);a=E(k,"H2",{"data-svelte-h":!0}),S(a)!=="svelte-137rbph"&&(a.textContent=o),s=A(k),u=E(k,"P",{});var $=T(u);d=L($,"ID: "),n=L($,f),$.forEach(C),c=A(k),r=E(k,"P",{});var H=T(r);i=L(H,"Name: "),g=L(H,l),H.forEach(C),x=A(k),D=E(k,"P",{});var X=T(D);O=L(X,"Type: "),_=L(X,v),X.forEach(C),k.forEach(C)},m(h,k){B(h,e,k),b(e,a),b(e,s),b(e,u),b(u,d),b(u,n),b(e,c),b(e,r),b(r,i),b(r,g),b(e,x),b(e,D),b(D,O),b(D,_)},p(h,k){k&3&&f!==(f=h[1].nodes[h[0]].id+"")&&J(n,f),k&3&&l!==(l=h[1].nodes[h[0]].label+"")&&J(g,l),k&3&&v!==(v=M[h[1].nodes[h[0]].type]+"")&&J(_,v)},d(h){h&&C(e)}}}function Oe(t){let e,a,o="Nodes",s,u,d="Add Customer",f,n,c="Add Edge Router",r,i,l="Add Core Router",g,x,D,O,v="Connections",_,h,k="Add Connection",$,H,X,V,oe,ae,K=z(t[2]),N=[];for(let p=0;p<K.length;p+=1)N[p]=xe(be(t,K,p));let Q=z(t[1].connections),P=[];for(let p=0;p<Q.length;p+=1)P[p]=ye(ve(t,Q,p));let R=t[0]!==-1&&we(t);return{c(){e=w("div"),a=w("h2"),a.textContent=o,s=U(),u=w("button"),u.textContent=d,f=U(),n=w("button"),n.textContent=c,r=U(),i=w("button"),i.textContent=l,g=U();for(let p=0;p<N.length;p+=1)N[p].c();x=U(),D=w("div"),O=w("h2"),O.textContent=v,_=U(),h=w("button"),h.textContent=k,$=U(),H=w("ul");for(let p=0;p<P.length;p+=1)P[p].c();X=U(),V=w("div"),R&&R.c()},l(p){e=E(p,"DIV",{});var I=T(e);a=E(I,"H2",{"data-svelte-h":!0}),S(a)!=="svelte-gommgp"&&(a.textContent=o),s=A(I),u=E(I,"BUTTON",{"data-svelte-h":!0}),S(u)!=="svelte-1kz3tf6"&&(u.textContent=d),f=A(I),n=E(I,"BUTTON",{"data-svelte-h":!0}),S(n)!=="svelte-gpeorv"&&(n.textContent=c),r=A(I),i=E(I,"BUTTON",{"data-svelte-h":!0}),S(i)!=="svelte-o5pmnr"&&(i.textContent=l),g=A(I);for(let W=0;W<N.length;W+=1)N[W].l(I);I.forEach(C),x=A(p),D=E(p,"DIV",{});var m=T(D);O=E(m,"H2",{"data-svelte-h":!0}),S(O)!=="svelte-1lh0jn5"&&(O.textContent=v),_=A(m),h=E(m,"BUTTON",{"data-svelte-h":!0}),S(h)!=="svelte-c30k9w"&&(h.textContent=k),$=A(m),H=E(m,"UL",{});var q=T(H);for(let W=0;W<P.length;W+=1)P[W].l(q);q.forEach(C),m.forEach(C),X=A(p),V=E(p,"DIV",{});var ue=T(V);R&&R.l(ue),ue.forEach(C)},m(p,I){B(p,e,I),b(e,a),b(e,s),b(e,u),b(e,f),b(e,n),b(e,r),b(e,i),b(e,g);for(let m=0;m<N.length;m+=1)N[m]&&N[m].m(e,null);B(p,x,I),B(p,D,I),b(D,O),b(D,_),b(D,h),b(D,$),b(D,H);for(let m=0;m<P.length;m+=1)P[m]&&P[m].m(H,null);B(p,X,I),B(p,V,I),R&&R.m(V,null),oe||(ae=[j(u,"click",t[8]),j(n,"click",t[9]),j(i,"click",t[10]),j(h,"click",t[4])],oe=!0)},p(p,[I]){if(I&166){K=z(p[2]);let m;for(m=0;m<K.length;m+=1){const q=be(p,K,m);N[m]?N[m].p(q,I):(N[m]=xe(q),N[m].c(),N[m].m(e,null))}for(;m<N.length;m+=1)N[m].d(1);N.length=K.length}if(I&66){Q=z(p[1].connections);let m;for(m=0;m<Q.length;m+=1){const q=ve(p,Q,m);P[m]?P[m].p(q,I):(P[m]=ye(q),P[m].c(),P[m].m(H,null))}for(;m<P.length;m+=1)P[m].d(1);P.length=Q.length}p[0]!==-1?R?R.p(p,I):(R=we(p),R.c(),R.m(V,null)):R&&(R.d(1),R=null)},i:G,o:G,d(p){p&&(C(e),C(x),C(D),C(X),C(V)),ee(N,p),ee(P,p),R&&R.d(),oe=!1,se(ae)}}}function Ye(t,e,a){let o;Te(t,F,_=>a(1,o=_));const s=[{title:"Customers",nodeType:M.Customer},{title:"Edge Routers",nodeType:M.Edge},{title:"Core Routers",nodeType:M.Core}];let u=-1;function d(_){const h=prompt("Name");if(!h)return;if(o.nodes.find($=>$.id===h)){alert("Name already exists");return}const k={id:h,label:h,x:20,y:20,type:_};Z(F,o.nodes=[...o.nodes,k],o)}function f(){const _=prompt("Source");if(!_)return;if(!o.nodes.find($=>$.id===_)){alert("Source does not exist");return}const h=prompt("Target");if(!h)return;if(!o.nodes.find($=>$.id===h)){alert("Target does not exist");return}const k={source:_,target:h};Z(F,o.connections=[...o.connections,k],o)}function n(_){const h=o.nodes.findIndex($=>$.id===_),k=o.nodes[h].id;Z(F,o.nodes=o.nodes.toSpliced(h,1),o),Z(F,o.connections=o.connections.filter($=>$.source!==k&&$.target!==k),o)}function c(_){Z(F,o.connections=o.connections.toSpliced(_,1),o)}function r(_){const h=o.nodes.findIndex(k=>k.id===_);a(0,u=h===u?-1:h)}return[u,o,s,d,f,n,c,r,()=>{d(M.Customer)},()=>{d(M.Edge)},()=>{d(M.Core)},(_,h)=>h.type===_.nodeType,_=>{r(_.id)},_=>{n(_.id)},_=>{c(_)}]}class Le extends re{constructor(e){super(),ce(this,e,Ye,Oe,ie,{})}}function Ee(t,e,a){const o=t.slice();return o[15]=e[a],o}function Ie(t,e,a){const o=t.slice();return o[18]=e[a],o}function De(t){let e,a=[t[7](t[18]),{stroke:"black"}],o={};for(let s=0;s<a.length;s+=1)o=Ne(o,a[s]);return{c(){e=ne("line"),this.h()},l(s){e=le(s,"line",{stroke:!0}),T(e).forEach(C),this.h()},h(){fe(e,o)},m(s,u){B(s,e,u)},p(s,u){fe(e,o=Ue(a,[u&4&&s[7](s[18]),{stroke:"black"}]))},d(s){s&&C(e)}}}function Be(t){let e,a,o,s,u,d,f=t[15].label+"",n,c,r;return{c(){e=ne("circle"),d=ne("text"),n=Y(f),this.h()},l(i){e=le(i,"circle",{id:!0,cx:!0,cy:!0,r:!0,fill:!0}),T(e).forEach(C),d=le(i,"text",{x:!0,y:!0,"text-anchor":!0,"alignment-baseline":!0,class:!0});var l=T(d);n=L(l,f),l.forEach(C),this.h()},h(){y(e,"id",a=t[15].id),y(e,"cx",o=t[15].x),y(e,"cy",s=t[15].y),y(e,"r","20"),y(e,"fill",u=t[3][t[15].type]),y(d,"x",c=t[15].x),y(d,"y",r=t[15].y),y(d,"text-anchor","middle"),y(d,"alignment-baseline","middle"),y(d,"class","svelte-1mxcfa7")},m(i,l){B(i,e,l),B(i,d,l),b(d,n)},p(i,l){l&4&&a!==(a=i[15].id)&&y(e,"id",a),l&4&&o!==(o=i[15].x)&&y(e,"cx",o),l&4&&s!==(s=i[15].y)&&y(e,"cy",s),l&4&&u!==(u=i[3][i[15].type])&&y(e,"fill",u),l&4&&f!==(f=i[15].label+"")&&J(n,f),l&4&&c!==(c=i[15].x)&&y(d,"x",c),l&4&&r!==(r=i[15].y)&&y(d,"y",r)},d(i){i&&(C(e),C(d))}}}function Me(t){let e,a,o,s,u,d=z(t[2].connections),f=[];for(let r=0;r<d.length;r+=1)f[r]=De(Ie(t,d,r));let n=z(t[2].nodes),c=[];for(let r=0;r<n.length;r+=1)c[r]=Be(Ee(t,n,r));return{c(){e=ne("svg");for(let r=0;r<f.length;r+=1)f[r].c();a=te();for(let r=0;r<c.length;r+=1)c[r].c();this.h()},l(r){e=le(r,"svg",{viewBox:!0,role:!0,tabindex:!0,class:!0});var i=T(e);for(let l=0;l<f.length;l+=1)f[l].l(i);a=te();for(let l=0;l<c.length;l+=1)c[l].l(i);i.forEach(C),this.h()},h(){y(e,"viewBox",o=`${t[0].x} ${t[0].y} ${t[0].width} ${t[0].height}`),y(e,"role","button"),y(e,"tabindex","-1"),y(e,"class","svelte-1mxcfa7")},m(r,i){B(r,e,i);for(let l=0;l<f.length;l+=1)f[l]&&f[l].m(e,null);b(e,a);for(let l=0;l<c.length;l+=1)c[l]&&c[l].m(e,null);t[8](e),s||(u=[j(e,"wheel",t[6]),j(e,"pointerdown",t[4]),j(e,"pointerup",t[5])],s=!0)},p(r,[i]){if(i&132){d=z(r[2].connections);let l;for(l=0;l<d.length;l+=1){const g=Ie(r,d,l);f[l]?f[l].p(g,i):(f[l]=De(g),f[l].c(),f[l].m(e,a))}for(;l<f.length;l+=1)f[l].d(1);f.length=d.length}if(i&12){n=z(r[2].nodes);let l;for(l=0;l<n.length;l+=1){const g=Ee(r,n,l);c[l]?c[l].p(g,i):(c[l]=Be(g),c[l].c(),c[l].m(e,null))}for(;l<c.length;l+=1)c[l].d(1);c.length=n.length}i&1&&o!==(o=`${r[0].x} ${r[0].y} ${r[0].width} ${r[0].height}`)&&y(e,"viewBox",o)},i:G,o:G,d(r){r&&C(e),ee(f,r),ee(c,r),t[8](null),s=!1,se(u)}}}function He(t,e,a){let o;Te(t,F,v=>a(2,o=v));const s={x:0,y:0,width:0,height:0,get scale(){return n?this.width/n.getBoundingClientRect().width:1}},u={x:0,y:0},d={x:0,y:0},f={[M.Customer]:"lightgreen",[M.Edge]:"cyan",[M.Core]:"hotpink"};let n=null,c=null,r=0;$e(()=>{n&&(a(0,s.width=n.getBoundingClientRect().width,s),a(0,s.height=n.getBoundingClientRect().height,s))});function i(v){if(!(v.target instanceof Element))return;v.preventDefault(),n==null||n.addEventListener("pointermove",g),n==null||n.setPointerCapture(v.pointerId);const _=v.target.id;_?(c=o.nodes.find(h=>h.id===_)||null,c&&(d.x=c.x,d.y=c.y,r=1)):r=2,u.x=v.clientX,u.y=v.clientY}function l(v){v.preventDefault(),r=0,c=null,n==null||n.releasePointerCapture(v.pointerId),n==null||n.removeEventListener("pointermove",g)}function g(v){v.preventDefault();const _={x:(v.clientX-u.x)*s.scale,y:(v.clientY-u.y)*s.scale};r===1&&c?(c.x=d.x+_.x,c.y=d.y+_.y,F.set(o)):r===2&&(a(0,s.x-=_.x,s),a(0,s.y-=_.y,s),u.x=v.clientX,u.y=v.clientY)}function x(v){if(v.preventDefault(),!n||s.scale<.1&&v.deltaY<=0||s.scale>5&&v.deltaY>=0)return;u.x=v.clientX,u.y=v.clientY;const _=n.getBoundingClientRect(),h=v.deltaY>0?1+.025:1-.025,k={x:(u.x-_.left)/_.width,y:(u.y-_.top)/_.height};a(0,s.x-=s.width*(h-1)*k.x,s),a(0,s.y-=s.height*(h-1)*k.y,s),a(0,s.width*=h,s),a(0,s.height*=h,s)}function D(v){const _=o.nodes.find(k=>k.id===v.source),h=o.nodes.find(k=>k.id===v.target);if(!(!_||!h))return{x1:_.x,y1:_.y,x2:h.x,y2:h.y}}function O(v){Pe[v?"unshift":"push"](()=>{n=v,a(1,n)})}return[s,n,o,f,i,l,x,D,O]}class Se extends re{constructor(e){super(),ce(this,e,He,Me,ie,{})}}function je(t){let e,a="MPLS Simulation but without any Simulation and any MPLS so far",o,s,u,d,f,n,c,r;return d=new Le({}),c=new Se({}),{c(){e=w("h1"),e.textContent=a,o=U(),s=w("div"),u=w("div"),de(d.$$.fragment),f=U(),n=w("div"),de(c.$$.fragment),this.h()},l(i){e=E(i,"H1",{"data-svelte-h":!0}),S(e)!=="svelte-gjfrzx"&&(e.textContent=a),o=A(i),s=E(i,"DIV",{id:!0,class:!0});var l=T(s);u=E(l,"DIV",{id:!0,class:!0});var g=T(u);he(d.$$.fragment,g),g.forEach(C),f=A(l),n=E(l,"DIV",{id:!0,class:!0});var x=T(n);he(c.$$.fragment,x),x.forEach(C),l.forEach(C),this.h()},h(){y(u,"id","left"),y(u,"class","svelte-1f7v595"),y(n,"id","right"),y(n,"class","svelte-1f7v595"),y(s,"id","container"),y(s,"class","svelte-1f7v595")},m(i,l){B(i,e,l),B(i,o,l),B(i,s,l),b(s,u),_e(d,u,null),b(s,f),b(s,n),_e(c,n,null),r=!0},p:G,i(i){r||(ge(d.$$.fragment,i),ge(c.$$.fragment,i),r=!0)},o(i){me(d.$$.fragment,i),me(c.$$.fragment,i),r=!1},d(i){i&&(C(e),C(o),C(s)),pe(d),pe(c)}}}class Fe extends re{constructor(e){super(),ce(this,e,null,je,ie,{})}}export{Fe as component};
